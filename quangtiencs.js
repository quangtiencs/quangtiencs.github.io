var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(y,g,p){y!=Array.prototype&&y!=Object.prototype&&(y[g]=p.value)};$jscomp.getGlobal=function(y){return"undefined"!=typeof window&&window===y?y:"undefined"!=typeof global&&null!=global?global:y};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(y,g,p,q){if(g){p=$jscomp.global;y=y.split(".");for(q=0;q<y.length-1;q++){var c=y[q];c in p||(p[c]={});p=p[c]}y=y[y.length-1];q=p[y];g=g(q);g!=q&&null!=g&&$jscomp.defineProperty(p,y,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.fill",function(y){return y?y:function(g,p,q){var c=this.length||0;0>p&&(p=Math.max(0,c+p));if(null==q||q>c)q=c;q=Number(q);0>q&&(q=Math.max(0,c+q));for(p=Number(p||0);p<q;p++)this[p]=g;return this}},"es6","es3");
$jscomp.arrayIteratorImpl=function(y){var g=0;return function(){return g<y.length?{done:!1,value:y[g++]}:{done:!0}}};$jscomp.arrayIterator=function(y){return{next:$jscomp.arrayIteratorImpl(y)}};$jscomp.makeIterator=function(y){var g="undefined"!=typeof Symbol&&Symbol.iterator&&y[Symbol.iterator];return g?g.call(y):$jscomp.arrayIterator(y)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(y){function g(){this.batch_=null}function p(b){return b instanceof c?b:new c(function(a,d){a(b)})}if(y&&!$jscomp.FORCE_POLYFILL_PROMISE)return y;g.prototype.asyncExecute=function(b){if(null==this.batch_){this.batch_=[];var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})}this.batch_.push(b)};var q=$jscomp.global.setTimeout;g.prototype.asyncExecuteFunction=function(b){q(b,0)};g.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(e){this.asyncThrow_(e)}}}this.batch_=null};g.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var c=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{b(a.resolve,a.reject)}catch(d){a.reject(d)}};c.prototype.createResolveAndReject_=function(){function b(b){return function(c){d||(d=!0,b.call(a,c))}}var a=this,d=!1;
return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};c.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof c)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var a=null!=b;break a;case "function":a=!0;break a;default:a=!1}a?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};c.prototype.resolveToNonPromiseObj_=function(b){var a=void 0;try{a=b.then}catch(d){this.reject_(d);return}"function"==typeof a?
this.settleSameAsThenable_(a,b):this.fulfill_(b)};c.prototype.reject_=function(b){this.settle_(2,b)};c.prototype.fulfill_=function(b){this.settle_(1,b)};c.prototype.settle_=function(b,a){if(0!=this.state_)throw Error("Cannot settle("+b+", "+a+"): Promise already settled in state"+this.state_);this.state_=b;this.result_=a;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=0;c<this.onSettledCallbacks_.length;++c)b.asyncExecute(this.onSettledCallbacks_[c]);
this.onSettledCallbacks_=null}};var b=new g;c.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};c.prototype.settleSameAsThenable_=function(b,a){var d=this.createResolveAndReject_();try{b.call(a,d.resolve,d.reject)}catch(e){d.reject(e)}};c.prototype.then=function(b,a){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(r){f(r)}}:b}var e,f,l=new c(function(a,b){e=a;f=b});this.callWhenSettled_(d(b,e),d(a,f));return l};
c.prototype.catch=function(b){return this.then(void 0,b)};c.prototype.callWhenSettled_=function(c,a){function d(){switch(e.state_){case 1:c(e.result_);break;case 2:a(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?b.asyncExecute(d):this.onSettledCallbacks_.push(d)};c.resolve=p;c.reject=function(b){return new c(function(a,d){d(b)})};c.race=function(b){return new c(function(a,d){for(var c=$jscomp.makeIterator(b),f=c.next();!f.done;f=c.next())p(f.value).callWhenSettled_(a,
d)})};c.all=function(b){var a=$jscomp.makeIterator(b),d=a.next();return d.done?p([]):new c(function(b,c){function e(a){return function(d){f[a]=d;h--;0==h&&b(f)}}var f=[],h=0;do f.push(void 0),h++,p(d.value).callWhenSettled_(e(f.length-1),c),d=a.next();while(!d.done)})};return c},"es6","es3");
$jscomp.checkStringArgs=function(y,g,p){if(null==y)throw new TypeError("The 'this' value for String.prototype."+p+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+p+" must not be a regular expression");return y+""};
$jscomp.polyfill("String.prototype.codePointAt",function(y){return y?y:function(g){var p=$jscomp.checkStringArgs(this,null,"codePointAt"),q=p.length;g=Number(g)||0;if(0<=g&&g<q){g|=0;var c=p.charCodeAt(g);if(55296>c||56319<c||g+1===q)return c;g=p.charCodeAt(g+1);return 56320>g||57343<g?c:1024*(c-55296)+g+9216}}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(y,g){this.$jscomp$symbol$id_=y;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function y(p){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(p||"")+"_"+g++,p)}var g=0;return y}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var y=$jscomp.global.Symbol.iterator;y||(y=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[y]&&$jscomp.defineProperty(Array.prototype,y,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var y=$jscomp.global.Symbol.asyncIterator;y||(y=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(y){$jscomp.initSymbolIterator();y={next:y};y[$jscomp.global.Symbol.iterator]=function(){return this};return y};
$jscomp.iteratorFromArray=function(y,g){$jscomp.initSymbolIterator();y instanceof String&&(y+="");var p=0,q={next:function(){if(p<y.length){var c=p++;return{value:g(c,y[c]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};$jscomp.polyfill("Array.prototype.keys",function(y){return y?y:function(){return $jscomp.iteratorFromArray(this,function(g){return g})}},"es6","es3");
$jscomp.polyfill("Math.sign",function(y){return y?y:function(g){g=Number(g);return 0===g||isNaN(g)?g:0<g?1:-1}},"es6","es3");$jscomp.polyfill("Math.trunc",function(y){return y?y:function(g){g=Number(g);if(isNaN(g)||Infinity===g||-Infinity===g||0===g)return g;var p=Math.floor(Math.abs(g));return 0>g?-p:p}},"es6","es3");
$jscomp.polyfill("Array.from",function(y){return y?y:function(g,p,q){p=null!=p?p:function(a){return a};var c=[],b="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];if("function"==typeof b){g=b.call(g);for(var f=0;!(b=g.next()).done;)c.push(p.call(q,b.value,f++))}else for(b=g.length,f=0;f<b;f++)c.push(p.call(q,g[f],f));return c}},"es6","es3");
$jscomp.polyfill("Array.prototype.entries",function(y){return y?y:function(){return $jscomp.iteratorFromArray(this,function(g,p){return[g,p]})}},"es6","es3");$jscomp.owns=function(y,g){return Object.prototype.hasOwnProperty.call(y,g)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(y,g){for(var p=1;p<arguments.length;p++){var q=arguments[p];if(q)for(var c in q)$jscomp.owns(q,c)&&(y[c]=q[c])}return y};
$jscomp.polyfill("Object.assign",function(y){return y||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.is",function(y){return y?y:function(g,p){return g===p?0!==g||1/g===1/p:g!==g&&p!==p}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(y){return y?y:function(g,p){var q=this;q instanceof String&&(q=String(q));var c=q.length;p=p||0;for(0>p&&(p=Math.max(p+c,0));p<c;p++){var b=q[p];if(b===g||Object.is(b,g))return!0}return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(y){return y?y:function(g,p){return-1!==$jscomp.checkStringArgs(this,g,"includes").indexOf(g,p||0)}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(y){return y?y:function(g){var p=$jscomp.checkStringArgs(this,null,"repeat");if(0>g||1342177279<g)throw new RangeError("Invalid count value");g|=0;for(var q="";g;)if(g&1&&(q+=p),g>>>=1)p+=p;return q}},"es6","es3");
!function(y){"object"==typeof exports&&"undefined"!=typeof module?module.exports=y():"function"==typeof define&&define.amd?define([],y):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).p5=y()}(function(){return function c(g,p,q){function b(a,e){if(!p[a]){if(!g[a]){var d="function"==typeof require&&require;if(!e&&d)return d(a,!0);if(f)return f(a,!0);e=Error("Cannot find module '"+a+"'");throw e.code="MODULE_NOT_FOUND",e;}e=p[a]={exports:{}};g[a][0].call(e.exports,
function(d){return b(g[a][1][d]||d)},e,e.exports,c,g,p,q)}return p[a].exports}for(var f="function"==typeof require&&require,a=0;a<q.length;a++)b(q[a]);return b}({1:[function(g,p,q){function c(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("=");return-1===a&&(a=b),[a,a===b?0:4-a%4]}function b(a,b,d){for(var c,e=[],h=b;h<d;h+=3)b=(a[h]<<16&16711680)+(a[h+1]<<8&65280)+(255&a[h+2]),e.push(f[(c=b)>>18&63]+f[c>>12&63]+f[c>>6&63]+f[63&c]);return e.join("")}
q.byteLength=function(a){a=c(a);var b=a[1];return 3*(a[0]+b)/4-b};q.toByteArray=function(b){var e=c(b),f=e[0];e=e[1];var k=new d((g=f,r=e,3*(g+r)/4-r));g=0;f=0<e?f-4:f;for(r=0;r<f;r+=4){var n=a[b.charCodeAt(r)]<<18|a[b.charCodeAt(r+1)]<<12|a[b.charCodeAt(r+2)]<<6|a[b.charCodeAt(r+3)];k[g++]=n>>16&255;k[g++]=n>>8&255;k[g++]=255&n}var g,r;2===e&&(n=a[b.charCodeAt(r)]<<2|a[b.charCodeAt(r+1)]>>4,k[g++]=255&n);1===e&&(n=a[b.charCodeAt(r)]<<10|a[b.charCodeAt(r+1)]<<4|a[b.charCodeAt(r+2)]>>2,k[g++]=n>>8&
255,k[g++]=255&n);return k};q.fromByteArray=function(a){for(var d,c=a.length,e=c%3,n=[],g=0,r=c-e;g<r;g+=16383)n.push(b(a,g,r<g+16383?r:g+16383));1===e?(d=a[c-1],n.push(f[d>>2]+f[d<<4&63]+"==")):2===e&&(d=(a[c-2]<<8)+a[c-1],n.push(f[d>>10]+f[d>>4&63]+f[d<<2&63]+"="));return n.join("")};var f=[],a=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array;for(g=0;64>g;++g)f[g]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g],a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(g)]=
g;a[45]=62;a[95]=63},{}],2:[function(g,p,q){},{}],3:[function(g,p,q){function c(a){if(P<a)throw new RangeError('The value "'+a+'" is invalid for option "size"');a=new Uint8Array(a);return a.__proto__=b.prototype,a}function b(a,b,c){if("number"!=typeof a)return f(a,b,c);if("string"==typeof b)throw new TypeError('The "string" argument must be of type string. Received type number');return d(a)}function f(a,d,f){if("string"==typeof a)return function(a,d){"string"==typeof d&&""!==d||(d="utf8");if(!b.isEncoding(d))throw new TypeError("Unknown encoding: "+
d);var e=0|l(a,d),f=c(e);a=f.write(a,d);a!==e&&(f=f.slice(0,a));return f}(a,d);if(ArrayBuffer.isView(a))return e(a);if(null==a)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(K(a,ArrayBuffer)||a&&K(a.buffer,ArrayBuffer))return function(a,d,c){if(0>d||a.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<d+(c||0))throw new RangeError('"length" is outside of buffer bounds');
a=void 0===d&&void 0===c?new Uint8Array(a):void 0===c?new Uint8Array(a,d):new Uint8Array(a,d,c);return a.__proto__=b.prototype,a}(a,d,f);if("number"==typeof a)throw new TypeError('The "value" argument must not be of type number. Received type number');var k=a.valueOf&&a.valueOf();if(null!=k&&k!==a)return b.from(k,d,f);if(k=function(a){if(b.isBuffer(a)){var d=0|h(a.length),f=c(d);return 0===f.length||a.copy(f,0,0,d),f}if(void 0!==a.length)return(d="number"!=typeof a.length)||(d=a.length,d=d!=d),d?
c(0):e(a);if("Buffer"===a.type&&Array.isArray(a.data))return e(a.data)}(a))return k;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof a[Symbol.toPrimitive])return b.from(a[Symbol.toPrimitive]("string"),d,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);}function a(a){if("number"!=typeof a)throw new TypeError('"size" argument must be of type number');if(0>a)throw new RangeError('The value "'+
a+'" is invalid for option "size"');}function d(b){return a(b),c(0>b?0:0|h(b))}function e(a){for(var b=0>a.length?0:0|h(a.length),d=c(b),e=0;e<b;e+=1)d[e]=255&a[e];return d}function h(a){if(P<=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P.toString(16)+" bytes");return 0|a}function l(a,d){if(b.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||K(a,ArrayBuffer))return a.byteLength;if("string"!=typeof a)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+
typeof a);var c=a.length,e=2<arguments.length&&!0===arguments[2];if(!e&&0===c)return 0;for(var f=!1;;)switch(d){case "ascii":case "latin1":case "binary":return c;case "utf8":case "utf-8":return D(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*c;case "hex":return c>>>1;case "base64":return A(a).length;default:if(f)return e?-1:D(a).length;d=(""+d).toLowerCase();f=!0}}function k(a,b,d){var c=a[b];a[b]=a[d];a[d]=c}function n(a,d,c,e,f){if(0===a.length)return-1;"string"==typeof c?
(e=c,c=0):2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648);var h=c=+c;if(h!=h&&(c=f?0:a.length-1),0>c&&(c=a.length+c),c>=a.length){if(f)return-1;c=a.length-1}else if(0>c){if(!f)return-1;c=0}if("string"==typeof d&&(d=b.from(d,e)),b.isBuffer(d))return 0===d.length?-1:t(a,d,c,e,f);if("number"==typeof d)return d&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(a,d,c):Uint8Array.prototype.lastIndexOf.call(a,d,c):t(a,[d],c,e,f);throw new TypeError("val must be string, number or Buffer");
}function t(a,b,d,c,e){function f(a,b){return 1===h?a[b]:a.readUInt16BE(b*h)}var h=1,l=a.length,k=b.length;if(void 0!==c&&("ucs2"===(c=String(c).toLowerCase())||"ucs-2"===c||"utf16le"===c||"utf-16le"===c)){if(2>a.length||2>b.length)return-1;l/=h=2;k/=2;d/=2}if(e)for(c=-1;d<l;d++)if(f(a,d)===f(b,-1===c?0:d-c)){if(-1===c&&(c=d),d-c+1===k)return c*h}else-1!==c&&(d-=d-c),c=-1;else for(l<d+k&&(d=l-k);0<=d;d--){l=!0;for(c=0;c<k;c++)if(f(a,d+c)!==f(b,c)){l=!1;break}if(l)return d}return-1}function r(a,b,
d,c){for(var e=[],f=0;f<b.length;++f)e.push(255&b.charCodeAt(f));return E(e,a,d,c)}function z(a,b,d){d=Math.min(a.length,d);for(var c=[];b<d;){var e,f,h=a[b],l=null,k=239<h?4:223<h?3:191<h?2:1;if(b+k<=d)switch(k){case 1:128>h&&(l=h);break;case 2:128==(192&(e=a[b+1]))&&127<(f=(31&h)<<6|63&e)&&(l=f);break;case 3:e=a[b+1];var n=a[b+2];128==(192&e)&&128==(192&n)&&2047<(f=(15&h)<<12|(63&e)<<6|63&n)&&(55296>f||57343<f)&&(l=f);break;case 4:e=a[b+1];n=a[b+2];var g=a[b+3];128==(192&e)&&128==(192&n)&&128==
(192&g)&&65535<(f=(15&h)<<18|(63&e)<<12|(63&n)<<6|63&g)&&1114112>f&&(l=f)}null===l?(l=65533,k=1):65535<l&&(l-=65536,c.push(l>>>10&1023|55296),l=56320|1023&l);c.push(l);b+=k}a=c.length;if(a<=T)c=String.fromCharCode.apply(String,c);else{d="";for(e=0;e<a;)d+=String.fromCharCode.apply(String,c.slice(e,e+=T));c=d}return c}function v(a,b,d){if(0!=a%1||0>a)throw new RangeError("offset is not uint");if(d<a+b)throw new RangeError("Trying to access beyond buffer length");}function u(a,d,c,e,f,h){if(!b.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');
if(f<d||d<h)throw new RangeError('"value" argument is out of bounds');if(c+e>a.length)throw new RangeError("Index out of range");}function w(a,b,d,c,e,f){if(d+c>a.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");}function C(a,b,d,c,e){return b=+b,d>>>=0,e||w(a,0,d,4),F.write(a,b,d,c,23,4),d+4}function G(a,b,d,c,e){return b=+b,d>>>=0,e||w(a,0,d,8),F.write(a,b,d,c,52,8),d+8}function D(a,b){var d;b=b||1/0;for(var c=a.length,e=null,f=[],h=0;h<c;++h){if(55295<
(d=a.charCodeAt(h))&&57344>d){if(!e){if(56319<d){-1<(b-=3)&&f.push(239,191,189);continue}if(h+1===c){-1<(b-=3)&&f.push(239,191,189);continue}e=d;continue}if(56320>d){-1<(b-=3)&&f.push(239,191,189);e=d;continue}d=65536+(e-55296<<10|d-56320)}else e&&-1<(b-=3)&&f.push(239,191,189);if(e=null,128>d){if(0>--b)break;f.push(d)}else if(2048>d){if(0>(b-=2))break;f.push(d>>6|192,63&d|128)}else if(65536>d){if(0>(b-=3))break;f.push(d>>12|224,d>>6&63|128,63&d|128)}else{if(!(1114112>d))throw Error("Invalid code point");
if(0>(b-=4))break;f.push(d>>18|240,d>>12&63|128,d>>6&63|128,63&d|128)}}return f}function A(a){return H.toByteArray(function(a){if(2>(a=(a=a.split("=")[0]).trim().replace(Q,"")).length)return"";for(;0!=a.length%4;)a+="=";return a}(a))}function E(a,b,d,c){for(var e=0;e<c&&!(e+d>=b.length||e>=a.length);++e)b[e+d]=a[e];return e}function K(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}var H=g("base64-js"),F=g("ieee754");q.Buffer=b;q.SlowBuffer=
function(a){+a!=a&&(a=0);return b.alloc(+a)};q.INSPECT_MAX_BYTES=50;var P=2147483647;q.kMaxLength=P;(b.TYPED_ARRAY_SUPPORT=function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()}catch(W){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");Object.defineProperty(b.prototype,
"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}});Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});"undefined"!=typeof Symbol&&null!=Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});b.poolSize=8192;b.from=function(a,b,d){return f(a,b,d)};b.prototype.__proto__=Uint8Array.prototype;b.__proto__=Uint8Array;b.alloc=function(b,
d,e){return h=d,l=e,a(f=b),0>=f?c(f):void 0!==h?"string"==typeof l?c(f).fill(h,l):c(f).fill(h):c(f);var f,h,l};b.allocUnsafe=function(a){return d(a)};b.allocUnsafeSlow=function(a){return d(a)};b.isBuffer=function(a){return null!=a&&!0===a._isBuffer&&a!==b.prototype};b.compare=function(a,d){if(K(a,Uint8Array)&&(a=b.from(a,a.offset,a.byteLength)),K(d,Uint8Array)&&(d=b.from(d,d.offset,d.byteLength)),!b.isBuffer(a)||!b.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
if(a===d)return 0;for(var c=a.length,e=d.length,f=0,h=Math.min(c,e);f<h;++f)if(a[f]!==d[f]){c=a[f];e=d[f];break}return c<e?-1:e<c?1:0};b.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};b.concat=function(a,d){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return b.alloc(0);
var c;if(void 0===d)for(c=d=0;c<a.length;++c)d+=a[c].length;d=b.allocUnsafe(d);var e=0;for(c=0;c<a.length;++c){var f=a[c];if(K(f,Uint8Array)&&(f=b.from(f)),!b.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(d,e);e+=f.length}return d};b.byteLength=l;b.prototype._isBuffer=!0;b.prototype.swap16=function(){var a=this.length;if(0!=a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)k(this,b,b+1);return this};b.prototype.swap32=
function(){var a=this.length;if(0!=a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)k(this,b,b+3),k(this,b+1,b+2);return this};b.prototype.swap64=function(){var a=this.length;if(0!=a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)k(this,b,b+7),k(this,b+1,b+6),k(this,b+2,b+5),k(this,b+3,b+4);return this};b.prototype.toLocaleString=b.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?
z(this,0,a):function(a,b,d){var c=!1;if(((void 0===b||0>b)&&(b=0),b>this.length)||((void 0===d||d>this.length)&&(d=this.length),0>=d)||(d>>>=0)<=(b>>>=0))return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=d;d=this.length;(!a||0>a)&&(a=0);(!b||0>b||d<b)&&(b=d);c="";for(d=a;d<b;++d)a=c,c=this[d],c=16>c?"0"+c.toString(16):c.toString(16),c=a+c;return c;case "utf8":case "utf-8":return z(this,b,d);case "ascii":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(127&this[b]);return a;
case "latin1":case "binary":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return 0===b&&d===this.length?H.fromByteArray(this):H.fromByteArray(this.slice(b,d));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,d);d="";for(a=0;a<b.length;a+=2)d+=String.fromCharCode(b[a]+256*b[a+1]);return d;default:if(c)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();c=!0}}.apply(this,arguments)};b.prototype.equals=function(a){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");
return this===a||0===b.compare(this,a)};b.prototype.inspect=function(){var a="",b=q.INSPECT_MAX_BYTES;return a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(a+=" ... "),"<Buffer "+a+">"};b.prototype.compare=function(a,d,c,e,f){if(K(a,Uint8Array)&&(a=b.from(a,a.offset,a.byteLength)),!b.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===d&&(d=0),void 0===c&&(c=a?a.length:0),void 0===e&&(e=
0),void 0===f&&(f=this.length),0>d||c>a.length||0>e||f>this.length)throw new RangeError("out of range index");if(f<=e&&c<=d)return 0;if(f<=e)return-1;if(c<=d)return 1;if(this===a)return 0;var h=(f>>>=0)-(e>>>=0),l=(c>>>=0)-(d>>>=0),k=Math.min(h,l);e=this.slice(e,f);a=a.slice(d,c);for(d=0;d<k;++d)if(e[d]!==a[d]){h=e[d];l=a[d];break}return h<l?-1:l<h?1:0};b.prototype.includes=function(a,b,d){return-1!==this.indexOf(a,b,d)};b.prototype.indexOf=function(a,b,d){return n(this,a,b,d,!0)};b.prototype.lastIndexOf=
function(a,b,d){return n(this,a,b,d,!1)};b.prototype.write=function(a,b,d,c){if(void 0===b)c="utf8",d=this.length,b=0;else if(void 0===d&&"string"==typeof b)c=b,d=this.length,b=0;else{if(!isFinite(b))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0;isFinite(d)?(d>>>=0,void 0===c&&(c="utf8")):(c=d,d=void 0)}var e=this.length-b;if((void 0===d||e<d)&&(d=e),0<a.length&&(0>d||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
c||(c="utf8");var f,h,l;for(e=!1;;)switch(c){case "hex":b=Number(b)||0;c=this.length-b;d?c<(d=Number(d))&&(d=c):d=c;c=a.length;c/2<d&&(d=c/2);for(c=0;c<d;++c){var k=parseInt(a.substr(2*c,2),16);if(k!=k)break;this[b+c]=k}return c;case "utf8":case "utf-8":return h=b,l=d,E(D(a,this.length-h),this,h,l);case "ascii":return r(this,a,b,d);case "latin1":case "binary":return r(this,a,b,d);case "base64":return k=b,f=d,E(A(a),this,k,f);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=a;k=this.length-
b;f=[];for(h=0;h<c.length&&!(0>(k-=2));++h)l=c.charCodeAt(h),a=l>>8,l%=256,f.push(l),f.push(a);return E(f,this,b,d);default:if(e)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase();e=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;b.prototype.slice=function(a,d){var c=this.length;0>(a=~~a)?0>(a+=c)&&(a=0):c<a&&(a=c);0>(d=void 0===d?c:~~d)?0>(d+=c)&&(d=0):c<d&&(d=c);d<a&&(d=a);a=this.subarray(a,d);return a.__proto__=
b.prototype,a};b.prototype.readUIntLE=function(a,b,d){a>>>=0;b>>>=0;d||v(a,b,this.length);d=this[a];for(var c=1,e=0;++e<b&&(c*=256);)d+=this[a+e]*c;return d};b.prototype.readUIntBE=function(a,b,d){a>>>=0;b>>>=0;d||v(a,b,this.length);d=this[a+--b];for(var c=1;0<b&&(c*=256);)d+=this[a+--b]*c;return d};b.prototype.readUInt8=function(a,b){return a>>>=0,b||v(a,1,this.length),this[a]};b.prototype.readUInt16LE=function(a,b){return a>>>=0,b||v(a,2,this.length),this[a]|this[a+1]<<8};b.prototype.readUInt16BE=
function(a,b){return a>>>=0,b||v(a,2,this.length),this[a]<<8|this[a+1]};b.prototype.readUInt32LE=function(a,b){return a>>>=0,b||v(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};b.prototype.readUInt32BE=function(a,b){return a>>>=0,b||v(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};b.prototype.readIntLE=function(a,b,d){a>>>=0;b>>>=0;d||v(a,b,this.length);d=this[a];for(var c=1,e=0;++e<b&&(c*=256);)d+=this[a+e]*c;return 128*c<=d&&(d-=Math.pow(2,8*
b)),d};b.prototype.readIntBE=function(a,b,d){a>>>=0;b>>>=0;d||v(a,b,this.length);d=b;for(var c=1,e=this[a+--d];0<d&&(c*=256);)e+=this[a+--d]*c;return 128*c<=e&&(e-=Math.pow(2,8*b)),e};b.prototype.readInt8=function(a,b){return a>>>=0,b||v(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]};b.prototype.readInt16LE=function(a,b){a>>>=0;b||v(a,2,this.length);a=this[a]|this[a+1]<<8;return 32768&a?4294901760|a:a};b.prototype.readInt16BE=function(a,b){a>>>=0;b||v(a,2,this.length);a=this[a+1]|this[a]<<
8;return 32768&a?4294901760|a:a};b.prototype.readInt32LE=function(a,b){return a>>>=0,b||v(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};b.prototype.readInt32BE=function(a,b){return a>>>=0,b||v(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};b.prototype.readFloatLE=function(a,b){return a>>>=0,b||v(a,4,this.length),F.read(this,a,!0,23,4)};b.prototype.readFloatBE=function(a,b){return a>>>=0,b||v(a,4,this.length),F.read(this,a,!1,23,4)};b.prototype.readDoubleLE=
function(a,b){return a>>>=0,b||v(a,8,this.length),F.read(this,a,!0,52,8)};b.prototype.readDoubleBE=function(a,b){return a>>>=0,b||v(a,8,this.length),F.read(this,a,!1,52,8)};b.prototype.writeUIntLE=function(a,b,d,c){(a=+a,b>>>=0,d>>>=0,c)||u(this,a,b,d,Math.pow(2,8*d)-1,0);c=1;var e=0;for(this[b]=255&a;++e<d&&(c*=256);)this[b+e]=a/c&255;return b+d};b.prototype.writeUIntBE=function(a,b,d,c){(a=+a,b>>>=0,d>>>=0,c)||u(this,a,b,d,Math.pow(2,8*d)-1,0);c=d-1;var e=1;for(this[b+c]=255&a;0<=--c&&(e*=256);)this[b+
c]=a/e&255;return b+d};b.prototype.writeUInt8=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,1,255,0),this[b]=255&a,b+1};b.prototype.writeUInt16LE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2};b.prototype.writeUInt16BE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2};b.prototype.writeUInt32LE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,4,4294967295,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>
8,this[b]=255&a,b+4};b.prototype.writeUInt32BE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,4,4294967295,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4};b.prototype.writeIntLE=function(a,b,d,c){(a=+a,b>>>=0,c)||(c=Math.pow(2,8*d-1),u(this,a,b,d,c-1,-c));c=0;var e=1,f=0;for(this[b]=255&a;++c<d&&(e*=256);)0>a&&0===f&&0!==this[b+c-1]&&(f=1),this[b+c]=(a/e>>0)-f&255;return b+d};b.prototype.writeIntBE=function(a,b,d,c){(a=+a,b>>>=0,c)||(c=Math.pow(2,8*d-1),u(this,a,b,d,c-1,
-c));c=d-1;var e=1,f=0;for(this[b+c]=255&a;0<=--c&&(e*=256);)0>a&&0===f&&0!==this[b+c+1]&&(f=1),this[b+c]=(a/e>>0)-f&255;return b+d};b.prototype.writeInt8=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,1,127,-128),0>a&&(a=255+a+1),this[b]=255&a,b+1};b.prototype.writeInt16LE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2};b.prototype.writeInt16BE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2};
b.prototype.writeInt32LE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,4,2147483647,-2147483648),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4};b.prototype.writeInt32BE=function(a,b,d){return a=+a,b>>>=0,d||u(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4};b.prototype.writeFloatLE=function(a,b,d){return C(this,a,b,!0,d)};b.prototype.writeFloatBE=function(a,b,d){return C(this,a,b,!1,d)};b.prototype.writeDoubleLE=
function(a,b,d){return G(this,a,b,!0,d)};b.prototype.writeDoubleBE=function(a,b,d){return G(this,a,b,!1,d)};b.prototype.copy=function(a,d,c,e){if(!b.isBuffer(a))throw new TypeError("argument should be a Buffer");if((c||(c=0),e||0===e||(e=this.length),d>=a.length&&(d=a.length),d||(d=0),0<e&&e<c&&(e=c),e===c)||0===a.length||0===this.length)return 0;if(0>d)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("Index out of range");if(0>e)throw new RangeError("sourceEnd out of bounds");
e>this.length&&(e=this.length);a.length-d<e-c&&(e=a.length-d+c);var f=e-c;if(this===a&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(d,c,e);else if(this===a&&c<d&&d<e)for(e=f-1;0<=e;--e)a[e+d]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,e),d);return f};b.prototype.fill=function(a,d,c,e){if("string"==typeof a){if("string"==typeof d?(e=d,d=0,c=this.length):"string"==typeof c&&(e=c,c=this.length),void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");
if("string"==typeof e&&!b.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===a.length){var f=a.charCodeAt(0);("utf8"===e&&128>f||"latin1"===e)&&(a=f)}}else"number"==typeof a&&(a&=255);if(0>d||this.length<d||this.length<c)throw new RangeError("Out of range index");if(c<=d)return this;if(d>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0),"number"==typeof a)for(e=d;e<c;++e)this[e]=a;else{f=b.isBuffer(a)?a:b.from(a,e);var h=f.length;if(0===h)throw new TypeError('The value "'+a+'" is invalid for argument "value"');
for(e=0;e<c-d;++e)this[e+d]=f[e%h]}return this};var Q=/[^+/0-9A-Za-z-_]/g},{"base64-js":1,ieee754:7}],4:[function(g,p,q){(function(c,b){var f=function(){function a(){var a=setTimeout;return function(){return a(d,1)}}function d(){for(var a=0;a<A;a+=2)(0,x[a])(x[a+1]),x[a]=void 0,x[a+1]=void 0;A=0}function e(a,b){var d=this,c=new this.constructor(l);void 0===c[ia]&&G(c);var e=d._state;if(e){var f=arguments[e-1];H(function(){return C(e,c,f,d._result)})}else u(d,c,a,b);return c}function f(a){if(a&&"object"==
typeof a&&a.constructor===this)return a;var b=new this(l);return t(b,a),b}function l(){}function k(a){try{return a.then}catch(X){return ea.error=X,ea}}function n(a,b,d){b.constructor===a.constructor&&d===e&&b.constructor.resolve===f?b._state===na?z(a,b._result):b._state===la?v(a,b._result):u(b,void 0,function(b){return t(a,b)},function(b){return v(a,b)}):d===ea?(v(a,ea.error),ea.error=null):void 0===d?z(a,b):"function"==typeof d?H(function(a){var c=!1,e=function(a,b,d,c){try{a.call(b,d,c)}catch(wa){return wa}}(d,
b,function(d){c||(c=!0,b!==d?t(a,d):z(a,d))},function(b){c||(c=!0,v(a,b))},a._label);!c&&e&&(c=!0,v(a,e))},a):z(a,b)}function t(a,b){var d;a===b?v(a,new TypeError("You cannot resolve a promise with itself")):(d=typeof b,null===b||"object"!==d&&"function"!==d?z(a,b):n(a,b,k(b)))}function r(a){a._onerror&&a._onerror(a._result);w(a)}function z(a,b){a._state===ja&&(a._result=b,a._state=na,0!==a._subscribers.length&&H(w,a))}function v(a,b){a._state===ja&&(a._state=la,a._result=b,H(r,a))}function u(a,b,
d,c){var e=a._subscribers,f=e.length;a._onerror=null;e[f]=b;e[f+na]=d;e[f+la]=c;0===f&&a._state&&H(w,a)}function w(a){var b=a._subscribers,d=a._state;if(0!==b.length){for(var c,e,f=a._result,h=0;h<b.length;h+=3)c=b[h],e=b[h+d],c?C(d,c,e,f):e(f);a._subscribers.length=0}}function C(a,b,d,c){var e="function"==typeof d,f=void 0,h=void 0,l=void 0,k=void 0;if(e){try{var n=d(c)}catch(wa){n=(ea.error=wa,ea)}if((f=n)===ea?(k=!0,h=f.error,f.error=null):l=!0,b===f)return void v(b,new TypeError("A promises callback cannot return that same promise."))}else f=
c,l=!0;b._state!==ja||(e&&l?t(b,f):k?v(b,h):a===na?z(b,f):a===la&&v(b,f))}function G(a){a[ia]=Ea++;a._state=void 0;a._result=void 0;a._subscribers=[]}var p=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},A=0,q=void 0,K=void 0,H=function(a,b){x[A]=a;x[A+1]=b;2===(A+=2)&&(K?K(d):V())},F="undefined"!=typeof window?window:void 0,P=F||{};P=P.MutationObserver||P.WebKitMutationObserver;var T="undefined"==typeof self&&void 0!==c&&"[object process]"==={}.toString.call(c),
Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,x=Array(1E3),W,ca,Z,S,V=void 0;V=T?function(){return c.nextTick(d)}:P?(ca=0,Z=new P(d),S=document.createTextNode(""),Z.observe(S,{characterData:!0}),function(){S.data=ca=++ca%2}):Q?((W=new MessageChannel).port1.onmessage=d,function(){return W.port2.postMessage(0)}):void 0===F&&"function"==typeof g?function(){try{var b=Function("return this")().require("vertx");return void 0!==(q=b.runOnLoop||
b.runOnContext)?function(){q(d)}:a()}catch(X){return a()}}():a();var ia=Math.random().toString(36).substring(2),ja=void 0,na=1,la=2,ea={error:null},Ea=0,Ia=function(){function a(a,b){this._instanceConstructor=a;this.promise=new a(l);this.promise[ia]||G(this.promise);p(b)?(this.length=b.length,this._remaining=b.length,this._result=Array(this.length),0===this.length?z(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&z(this.promise,this._result))):v(this.promise,
Error("Array Methods must be provided an Array"))}return a.prototype._enumerate=function(a){for(var b=0;this._state===ja&&b<a.length;b++)this._eachEntry(a[b],b)},a.prototype._eachEntry=function(a,b){var d=this._instanceConstructor,c=d.resolve;c===f?(c=k(a),c===e&&a._state!==ja?this._settledAt(a._state,b,a._result):"function"!=typeof c?(this._remaining--,this._result[b]=a):d===da?(d=new d(l),n(d,a,c),this._willSettleAt(d,b)):this._willSettleAt(new d(function(b){return b(a)}),b)):this._willSettleAt(c(a),
b)},a.prototype._settledAt=function(a,b,d){var c=this.promise;c._state===ja&&(this._remaining--,a===la?v(c,d):this._result[b]=d);0===this._remaining&&z(c,this._result)},a.prototype._willSettleAt=function(a,b){var d=this;u(a,void 0,function(a){return d._settledAt(na,b,a)},function(a){return d._settledAt(la,b,a)})},a}(),da=function(){function a(b){this[ia]=Ea++;this._result=this._state=void 0;this._subscribers=[];if(l!==b){if("function"!=typeof b)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
if(this instanceof a)(function(a,b){try{b(function(b){t(a,b)},function(b){v(a,b)})}catch(Ca){v(a,Ca)}})(this,b);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return a.prototype.catch=function(a){return this.then(null,a)},a.prototype.finally=function(a){var b=this.constructor;return"function"==typeof a?this.then(function(d){return b.resolve(a()).then(function(){return d})},function(d){return b.resolve(a()).then(function(){throw d;
})}):this.then(a,a)},a}();return da.prototype.then=e,da.all=function(a){return(new Ia(this,a)).promise},da.race=function(a){var b=this;return p(a)?new b(function(d,c){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(d,c)}):new b(function(a,b){return b(new TypeError("You must pass an array to race."))})},da.resolve=f,da.reject=function(a){var b=new this(l);return v(b,a),b},da._setScheduler=function(a){K=a},da._setAsap=function(a){H=a},da._asap=H,da.polyfill=function(){var a=void 0;if(void 0!==b)a=
b;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(ka){throw Error("polyfill failed because global object is unavailable in this environment");}var d=a.Promise;if(d){var c=null;try{c=Object.prototype.toString.call(d.resolve())}catch(ka){}if("[object Promise]"===c&&!d.cast)return}a.Promise=da},da.Promise=da};"object"==typeof q&&void 0!==p?p.exports=f():this.ES6Promise=f()}).call(this,g("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=
typeof window?window:{})},{_process:10}],5:[function(g,p,q){!function(c,b){if(void 0!==q&&void 0!==p)b(q,p);else{var f={exports:{}};b(f.exports,f);c.fetchJsonp=f.exports}}(this,function(c,b){function f(a){try{delete window[a]}catch(e){window[a]=void 0}}function a(a){(a=document.getElementById(a))&&document.getElementsByTagName("head")[0].removeChild(a)}b.exports=function(b){var d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],c=b,l=d.timeout||5E3,k=d.jsonpCallback||"callback",n=void 0;
return new Promise(function(e,h){var g=d.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1E5*Math.random()),t=k+"_"+g;window[g]=function(b){e({ok:!0,json:function(){return Promise.resolve(b)}});n&&clearTimeout(n);a(t);f(g)};c+=-1===c.indexOf("?")?"?":"&";var u=document.createElement("script");u.setAttribute("src",""+c+k+"="+g);d.charset&&u.setAttribute("charset",d.charset);u.id=t;document.getElementsByTagName("head")[0].appendChild(u);n=setTimeout(function(){h(Error("JSONP request to "+b+
" timed out"));f(g);a(t);window[g]=function(){f(g)}},l);u.onerror=function(){h(Error("JSONP request to "+b+" failed"));f(g);a(t);n&&clearTimeout(n)}})}})},{}],6:[function(g,p,q){var c=c||function(b){if(!(void 0===b||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var c=b.document.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in c,d=/constructor/i.test(b.HTMLElement)||b.safari,e=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(a){(b.setImmediate||b.setTimeout)(function(){throw a;
},0)},l=function(a){setTimeout(function(){"string"==typeof a?(b.URL||b.webkitURL||b).revokeObjectURL(a):a.remove()},4E4)},k=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},n=function(f,n,g){g||(f=k(f));var t,r=this,z="application/octet-stream"===f.type,v=function(){for(var a=["writestart","progress","write","writeend"],b=(a=[].concat(a)).length;b--;){var d=r["on"+a[b]];if("function"==
typeof d)try{d.call(r,r)}catch(K){h(K)}}!0};if(r.readyState=r.INIT,a)return t=(b.URL||b.webkitURL||b).createObjectURL(f),void setTimeout(function(){c.href=t;c.download=n;var a=new MouseEvent("click");c.dispatchEvent(a);v();l(t);r.readyState=r.DONE});!function(){if((e||z&&d)&&b.FileReader){var a=new FileReader;return a.onloadend=function(){var d=e?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(d,"_blank")||(b.location.href=d);r.readyState=r.DONE;v()},a.readAsDataURL(f),r.readyState=
r.INIT}t||(t=(b.URL||b.webkitURL||b).createObjectURL(f));z?b.location.href=t:b.open(t,"_blank")||(b.location.href=t);r.readyState=r.DONE;v();l(t)}()},g=n.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,d){return b=b||a.name||"download",d||(a=k(a)),navigator.msSaveOrOpenBlob(a,b)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,function(a,b,d){return new n(a,b||
a.name||"download",d)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==p&&p.exports&&(p.exports.saveAs=c)},{}],7:[function(g,p,q){q.read=function(c,b,f,a,d){var e=8*d-a-1;var h=(1<<e)-1,l=h>>1,k=-7;d=f?d-1:0;var n=f?-1:1,g=c[b+d];d+=n;f=g&(1<<-k)-1;g>>=-k;for(k+=e;0<k;f=256*f+c[b+d],d+=n,k-=8);e=f&(1<<-k)-1;f>>=-k;for(k+=a;0<k;e=256*e+c[b+d],d+=n,k-=8);if(0===f)f=1-l;else{if(f===h)return e?NaN:1/0*(g?-1:1);e+=Math.pow(2,a);f-=l}return(g?-1:1)*e*Math.pow(2,
f-a)};q.write=function(c,b,f,a,d,e){var h,l,k,n=8*e-d-1,g=(1<<n)-1,r=g>>1,z=23===d?Math.pow(2,-24)-Math.pow(2,-77):0;e=a?0:e-1;a=a?1:-1;var v=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);for(isNaN(b)||b===1/0?(l=isNaN(b)?1:0,h=g):(h=Math.floor(Math.log(b)/Math.LN2),1>b*(k=Math.pow(2,-h))&&(h--,k*=2),2<=(b+=1<=h+r?z/k:z*Math.pow(2,1-r))*k&&(h++,k/=2),g<=h+r?(l=0,h=g):1<=h+r?(l=(b*k-1)*Math.pow(2,d),h+=r):(l=b*Math.pow(2,r-1)*Math.pow(2,d),h=0));8<=d;c[f+e]=255&l,e+=a,l/=256,d-=8);h=h<<d|l;for(n+=d;0<n;c[f+
e]=255&h,e+=a,h/=256,n-=8);c[f+e-a]|=128*v}},{}],8:[function(g,p,q){function c(a,b){return a.b===b.b&&a.a===b.a}function b(a,b){return a.b<b.b||a.b===b.b&&a.a<=b.a}function f(a,b,d){var c=b.b-a.b,e=d.b-b.b;return 0<c+e?c<e?b.a-a.a+c/(c+e)*(a.a-d.a):b.a-d.a+e/(c+e)*(d.a-a.a):0}function a(a,b,d){var c=b.b-a.b,e=d.b-b.b;return 0<c+e?(b.a-d.a)*c+(b.a-a.a)*e:0}function d(a,b){return a.a<b.a||a.a===b.a&&a.b<=b.b}function e(a,b,d){var c=b.a-a.a,e=d.a-b.a;return 0<c+e?c<e?b.b-a.b+c/(c+e)*(a.b-d.b):b.b-d.b+
e/(c+e)*(d.b-a.b):0}function h(a,b,d){var c=b.a-a.a,e=d.a-b.a;return 0<c+e?(b.b-d.b)*c+(b.b-a.b)*e:0}function l(a,b,d,c){return(a=0>a?0:a)<=(d=0>d?0:d)?0===d?(b+c)/2:b+a/(a+d)*(c-b):c+d/(a+d)*(b-c)}function k(a){var b=v(a.b);return w(b,a.c),w(b.b,a.c),C(b,a.a),b}function n(a,b){var d=!1,c=!1;a!==b&&(b.a!==a.a&&(c=!0,D(b.a,a.a)),b.d!==a.d&&(d=!0,A(b.d,a.d)),u(b,a),c||(w(b,a.a),a.a.c=a),d||(C(b,a.d),a.d.a=a))}function t(a){var b=a.b,d=!1;a.d!==a.b.d&&(d=!0,A(a.d,a.b.d));a.c===a?D(a.a,null):(a.b.d.a=
aa(a),a.a.c=a.c,u(a,aa(a)),d||C(a,a.d));b.c===b?(D(b.a,null),A(b.d,null)):(a.d.a=aa(b),b.a.c=b.c,u(b,aa(b)));G(a)}function r(a){var b=v(a),d=b.b;return u(b,a.e),b.a=a.b.a,w(d,b.a),b.d=d.d=a.d,b=b.b,u(a.b,aa(a.b)),u(a.b,b),a.b.a=b.a,b.b.a.c=b.b,b.b.d=a.b.d,b.f=a.f,b.b.f=a.b.f,b}function z(a,b){var d=!1,c=v(a),e=c.b;return b.d!==a.d&&(d=!0,A(b.d,a.d)),u(c,a.e),u(e,b),c.a=a.b.a,e.a=b.a,c.d=e.d=a.d,a.d.a=e,d||C(c,a.d),c}function v(a){var b=new Da,d=new Da;return(((d.h=a.b.h).b.h=b).h=a).b.h=d,b.b=d,((b.c=
b).e=d).b=b,(d.c=d).e=b}function u(a,b){var d=a.c,c=b.c;d.b.e=b;(c.b.e=a).c=c;b.c=d}function w(a,b){var d=b.f,c=new Ha(b,d);d.e=c;for(d=(b.f=c).c=a;d.a=c,(d=d.c)!==a;);}function C(a,b){var d=b.d,c=new Ca(b,d);d.b=c;(b.d=c).a=a;c.c=b.c;for(d=a;d.d=c,(d=d.e)!==a;);}function G(a){var b=a.h;a=a.b.h;(b.b.h=a).b.h=b}function D(a,b){for(var d=a.c,c=d;c.a=b,(c=c.c)!==d;);d=a.f;((c=a.e).f=d).e=c}function A(a,b){for(var d=a.a,c=d;c.d=b,(c=c.e)!==d;);d=a.d;((c=a.b).d=d).b=c}function E(a){var b=0;return Math.abs(a[1])>
Math.abs(a[0])&&(b=1),Math.abs(a[2])>Math.abs(a[b])&&(b=2),b}function K(a,b){a.f+=b.f;a.b.f+=b.b.f}function H(d,c,e){return d=d.a,c=c.a,e=e.a,c.b.a===d?e.b.a===d?b(c.a,e.a)?0>=a(e.b.a,c.a,e.a):0<=a(c.b.a,e.a,c.a):0>=a(e.b.a,d,e.a):e.b.a===d?0<=a(c.b.a,d,c.a):(c=f(c.b.a,d,c.a),f(e.b.a,d,e.a)<=c)}function F(a){a.a.i=null;var b=a.e;b.a.c=b.c;b.c.a=b.a;a.e=null}function P(a,b){t(a.a);a.c=!1;(a.a=b).i=a}function T(a){for(var b=a.a.a;(a=ha(a)).a.a===b;);return a.c&&(P(a,z(ba(a).a.b,a.a.e)),a=ha(a)),a}function Q(a,
b,d){var c=new Ka;return c.a=d,c.e=da(a.f,b.e,c),d.i=c}function x(a,b){switch(a.s){case 100130:return 0!=(1&b);case 100131:return 0!==b;case 100132:return 0<b;case 100133:return 0>b;case 100134:return 2<=b||-2>=b}return!1}function W(a){var b=a.a,d=b.d;d.c=a.d;d.a=b;F(a)}function ca(a,b,d){for(b=(a=b).a;a!==d;){a.c=!1;var c=ba(a),e=c.a;if(e.a!==b.a){if(!c.c){W(a);break}P(c,e=z(b.c.b,e.b))}b.c!==e&&(n(aa(e),e),n(b,e));W(a);b=c.a;a=c}return b}function Z(a,b,d,c,e,f){for(var h=!0;Q(a,b,d.b),(d=d.c)!==
c;);for(null===e&&(e=ba(b).a.b.c);(d=(c=ba(b)).a.b).a===e.a;)d.c!==e&&(n(aa(d),d),n(aa(e),d)),c.f=b.f-d.f,c.d=x(a,c.f),b.b=!0,!h&&ja(a,b)&&(K(d,e),F(b),t(e)),h=!1,b=c,e=d;b.b=!0;f&&la(a,b)}function S(a,b,d,c,e){var f=[b.g[0],b.g[1],b.g[2]];b.d=null;b.d=a.o&&a.o(f,d,c,a.c)||null;null===b.d&&(e?a.n||(ka(a,100156),a.n=!0):b.d=d[0])}function V(a,b,d){var c=[null,null,null,null];c[0]=b.a.d;c[1]=d.a.d;S(a,b.a,c,[.5,.5,0,0],!1);n(b,d)}function ia(a,b,d,c,e){var f=Math.abs(b.b-a.b)+Math.abs(b.a-a.a),h=Math.abs(d.b-
a.b)+Math.abs(d.a-a.a),l=e+1;c[e]=.5*h/(f+h);c[l]=.5*f/(f+h);a.g[0]+=c[e]*b.g[0]+c[l]*d.g[0];a.g[1]+=c[e]*b.g[1]+c[l]*d.g[1];a.g[2]+=c[e]*b.g[2]+c[l]*d.g[2]}function ja(d,e){var f=ba(e),h=e.a,l=f.a;if(b(h.a,l.a)){if(0<a(l.b.a,h.a,l.a))return!1;if(c(h.a,l.a)){if(h.a!==l.a){f=d.e;e=h.a.h;if(0<=e){var k=(f=f.b).d,g=f.e,t=f.c,u=t[e];k[u]=k[f.a];(t[k[u]]=u)<=--f.a&&(1>=u?sa(f,u):b(g[k[u>>1]],g[k[u]])?sa(f,u):Sa(f,u));g[e]=null;t[e]=f.b;f.b=e}else for(f.c[-(e+1)]=null;0<f.a&&null===f.c[f.d[f.a-1]];)--f.a;
V(d,aa(l),h)}}else r(l.b),n(h,aa(l)),e.b=f.b=!0}else{if(0>a(h.b.a,l.a,h.a))return!1;ha(e).b=e.b=!0;r(h.b);n(aa(l),h)}return!0}function na(k,g){var t=ba(g),u=g.a,w=t.a,z=u.a,v=w.a,C=u.b.a,G=w.b.a,A=new Ha;if(a(C,k.a,z),a(G,k.a,v),z===v||Math.min(z.a,C.a)>Math.max(v.a,G.a))return!1;if(b(z,v)){if(0<a(G,z,v))return!1}else if(0>a(C,v,z))return!1;var p,q,x=C,F=z,D=G,H=v;if(b(x,F)||(p=x,x=F,F=p),b(D,H)||(p=D,D=H,H=p),b(x,D)||(p=x,x=D,D=p,p=F,F=H,H=p),b(D,F)?b(F,H)?(0>(p=f(x,D,F))+(q=f(D,F,H))&&(p=-p,q=-q),
A.b=l(p,D.b,q,F.b)):(0>(p=a(x,D,F))+(q=-a(x,H,F))&&(p=-p,q=-q),A.b=l(p,D.b,q,H.b)):A.b=(D.b+F.b)/2,d(x,F)||(p=x,x=F,F=p),d(D,H)||(p=D,D=H,H=p),d(x,D)||(p=x,x=D,D=p,p=F,F=H,H=p),d(D,F)?d(F,H)?(0>(p=e(x,D,F))+(q=e(D,F,H))&&(p=-p,q=-q),A.a=l(p,D.a,q,F.a)):(0>(p=h(x,D,F))+(q=-h(x,H,F))&&(p=-p,q=-q),A.a=l(p,D.a,q,H.a)):A.a=(D.a+F.a)/2,b(A,k.a)&&(A.b=k.a.b,A.a=k.a.a),b(x=b(z,v)?z:v,A)&&(A.b=x.b,A.a=x.a),c(A,z)||c(A,v))return ja(k,g),!1;if(!c(C,k.a)&&0<=a(C,k.a,A)||!c(G,k.a)&&0>=a(G,k.a,A)){if(G===k.a)return r(u.b),
n(w.b,u),u=ba(g=T(g)).a,ca(k,ba(g),t),Z(k,g,aa(u),u,u,!0),!0;if(C!==k.a)return 0<=a(C,k.a,A)&&(ha(g).b=g.b=!0,r(u.b),u.a.b=k.a.b,u.a.a=k.a.a),0>=a(G,k.a,A)&&(g.b=t.b=!0,r(w.b),w.a.b=k.a.b,w.a.a=k.a.a),!1;r(w.b);n(u.e,aa(w));for(v=(z=t=g).a.b.a;(z=ha(z)).a.b.a===v;);return z=ba(g=z).a.b.c,t.a=aa(w),Z(k,g,ca(k,t,null).c,u.b.c,z,!0),!0}return r(u.b),r(w.b),n(aa(w),u),u.a.b=A.b,u.a.a=A.a,u.a.h=wa(k.e,u.a),u=u.a,w=[0,0,0,0],A=[z.d,C.d,v.d,G.d],u.g[0]=u.g[1]=u.g[2]=0,ia(u,z,C,w,0),ia(u,v,G,w,2),S(k,u,A,
w,!0),ha(g).b=g.b=t.b=!0,!1}function la(d,c){for(var e=ba(c);;){for(;e.b;)e=ba(c=e);if(!(c.b||null!==(c=ha(e=c))&&c.b))break;c.b=!1;var f,h=c.a,l=e.a;if(f=h.b.a!==l.b.a)a:{var k=ba(f=c),g=f.a,u=k.a;if(b(g.b.a,u.b.a)){if(0>a(g.b.a,u.b.a,g.a)){f=!1;break a}ha(f).b=f.b=!0;k=r(g);n(u.b,k);k.d.c=f.d}else{if(0<a(u.b.a,g.b.a,u.a)){f=!1;break a}f.b=k.b=!0;k=r(u);n(g.e,u.b);k.b.d.c=f.d}f=!0}if(f&&(e.c?(F(e),t(l),l=(e=ba(c)).a):c.c&&(F(c),t(h),h=(c=ha(e)).a)),h.a!==l.a)if(h.b.a===l.b.a||c.c||e.c||h.b.a!==d.a&&
l.b.a!==d.a)ja(d,c);else if(na(d,c))break;h.a===l.a&&h.b.a===l.b.a&&(K(l,h),F(c),t(h),c=ha(e))}}function ea(d,e){for(var f=(d.a=e).c;null===f.i;)if((f=f.c)===e.c){f=d;var h=e;(k=new Ka).a=h.c.b;for(e=(u=f.f).a;null!==(e=e.a).b&&!u.c(u.b,k,e.b););var l=ba(u=e.b),k=u.a;e=l.a;if(0===a(k.b.a,h,k.a))c((k=u.a).a,h)||c(k.b.a,h)||(r(k.b),u.c&&(t(k.c),u.c=!1),n(h.c,k),ea(f,h));else{var g=b(e.b.a,k.b.a)?u:l;l=void 0;u.d||g.c?(l=g===u?z(h.c.b,k.e):z(e.b.c.b,h.c).b,g.c?P(g,l):((u=Q(k=f,u,l)).f=ha(u).f+u.a.f,
u.d=x(k,u.f)),ea(f,h)):Z(f,u,h.c,h.c,null,!0)}return}if(u=(k=ba(f=T(f.i))).a,(k=ca(d,k,null)).c===u){k=(u=k).c;e=ba(f);l=f.a;g=e.a;var u,w=!1;l.b.a!==g.b.a&&na(d,f);c(l.a,d.a)&&(n(aa(k),l),k=ba(f=T(f)).a,ca(d,ba(f),e),w=!0);c(g.a,d.a)&&(n(u,aa(g)),u=ca(d,e,null),w=!0);w?Z(d,f,u.c,k,k,!0):(h=b(g.a,l.a)?aa(g):l,Z(d,f,h=z(u.c.b,h),h.c,h.c,!1),h.b.i.c=!0,la(d,f))}else Z(d,f,k.c,u,u,!0)}function Ea(a,b){var d=new Ka,c=k(a.b);c.a.b=4E150;c.a.a=b;c.b.a.b=-4E150;c.b.a.a=b;a.a=c.b.a;d.a=c;d.f=0;d.d=!1;d.c=
!1;d.h=!0;d.b=!1;c=da(c=a.f,c.a,d);d.e=c}function Ia(a){this.a=new Qa;this.b=a;this.c=H}function da(a,b,d){for(;null!==(b=b.c).b&&!a.c(a.b,b.b,d););return a=new Qa(d,b.a,b),b.a.c=a,b.a=a}function Qa(a,b,d){this.b=a||null;this.a=b||this;this.c=d||this}function X(){this.d=0;this.p=this.b=this.q=null;this.j=[0,0,0];this.s=100130;this.n=!1;this.o=this.a=this.e=this.f=null;this.m=!1;this.c=this.r=this.i=this.k=this.l=this.h=null}function va(a,b){if(a.d!==b)for(;a.d!==b;)if(a.d<b)switch(a.d){case 0:ka(a,
100151);a.u(null);break;case 1:ka(a,100152),a.t()}else switch(a.d){case 2:ka(a,100154);a.v();break;case 1:ka(a,100153),a.w()}}function ka(a,b){a.p&&a.p(b,a.c)}function Ca(a,b){this.b=a||this;this.d=b||this;this.a=null;this.c=!1}function Da(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null;this.f=0}function aa(a){return a.b.e}function $a(){this.c=new Ha;this.a=new Ca;this.b=new Da;this.d=new Da;this.b.b=this.d;this.d.b=this.b}function Ha(a,b){this.e=a||this;this.f=b||this;this.d=this.c=null;
this.g=[0,0,0];this.h=this.a=this.b=0}function Ra(){this.c=[];this.d=null;this.a=0;this.e=!1;this.b=new Ta}function wa(a,b){if(a.e){var d,c=a.b;a=++c.a;return 2*a>c.f&&(c.f*=2,c.c=Ua(c.c,c.f+1)),0===c.b?d=a:(d=c.b,c.b=c.c[c.b]),c.e[d]=b,c.c[d]=a,c.d[a]=d,c.h&&Sa(c,a),d}return c=a.a++,a.c[c]=b,-(c+1)}function Va(a){if(0===a.a)return Wa(a.b);var d=a.c[a.d[a.a-1]];if(0!==a.b.a&&b(La(a.b),d))return Wa(a.b);for(;--a.a,0<a.a&&null===a.c[a.d[a.a-1]];);return d}function Ta(){this.d=Ua([0],33);this.e=[null,
null];this.c=[0,0];this.a=0;this.f=32;this.b=0;this.h=!1;this.d[1]=1}function Ua(a,b){for(var d=Array(b),c=0;c<a.length;c++)d[c]=a[c];for(;c<b;c++)d[c]=0;return d}function La(a){return a.e[a.d[1]]}function Wa(a){var b=a.d,d=a.e,c=a.c,e=b[1],f=d[e];return 0<a.a&&(b[1]=b[a.a],c[b[1]]=1,d[e]=null,c[e]=a.b,a.b=e,0<--a.a&&sa(a,1)),f}function sa(a,d){for(var c=a.d,e=a.e,f=a.c,h=c[d];;){var k=d<<1;k<a.a&&b(e[c[k+1]],e[c[k]])&&(k+=1);var l=c[k];if(k>a.a||b(e[h],e[l])){f[c[d]=h]=d;break}f[c[d]=l]=d;d=k}}function Sa(a,
d){var c=a.d,e=a.e;a=a.c;for(var f=c[d];;){var h=d>>1,k=c[h];if(0===h||b(e[k],e[f])){a[c[d]=f]=d;break}a[c[d]=k]=d;d=h}}function Ka(){this.e=this.a=null;this.f=0;this.c=this.b=this.h=this.d=!1}function ba(a){return a.e.c.b}function ha(a){return a.e.a.b}(g=X.prototype).x=function(){va(this,0)};g.B=function(a,b){switch(a){case 100142:return;case 100140:switch(b){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=b)}break;case 100141:return void(this.m=!!b);default:return void ka(this,
100900)}ka(this,100901)};g.y=function(a){switch(a){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ka(this,100900)}return!1};g.A=function(a,b,d){this.j[0]=a;this.j[1]=b;this.j[2]=d};g.z=function(a,b){b=b||null;switch(a){case 100100:case 100106:this.h=b;break;case 100104:case 100110:this.l=b;break;case 100101:case 100107:this.k=b;break;case 100102:case 100108:this.i=b;break;case 100103:case 100109:this.p=b;break;case 100105:case 100111:this.o=b;break;case 100112:this.r=
b;break;default:ka(this,100900)}};g.C=function(a,b){var d=!1,c=[0,0,0];va(this,2);for(var e=0;3>e;++e){var f=a[e];-1E150>f&&(f=-1E150,d=!0);1E150<f&&(f=1E150,d=!0);c[e]=f}d&&ka(this,100155);null===(d=this.q)?n(d=k(this.b),d.b):(r(d),d=d.e);d.a.d=b;d.a.g[0]=c[0];d.a.g[1]=c[1];d.a.g[2]=c[2];d.f=1;d.b.f=-1;this.q=d};g.u=function(a){va(this,0);this.d=1;this.b=new $a;this.c=a};g.t=function(){va(this,1);this.d=2;this.q=null};g.v=function(){va(this,2);this.d=1};g.w=function(){va(this,1);this.d=0;var d,e,
f=!1,h=[r=this.j[0],k=this.j[1],n=this.j[2]];if(0===r&&0===k&&0===n){for(var k=[-2E150,-2E150,-2E150],l=[2E150,2E150,2E150],n=[],g=[],r=(f=this.b.c).e;r!==f;r=r.e)for(var w=0;3>w;++w){var v=r.g[w];v<l[w]&&(l[w]=v,g[w]=r);v>k[w]&&(k[w]=v,n[w]=r)}if(r=0,k[1]-l[1]>k[0]-l[0]&&(r=1),k[2]-l[2]>k[r]-l[r]&&(r=2),l[r]>=k[r])h[0]=0,h[1]=0,h[2]=1;else{k=0;l=g[r];n=n[r];g=[0,0,0];l=[l.g[0]-n.g[0],l.g[1]-n.g[1],l.g[2]-n.g[2]];w=[0,0,0];for(r=f.e;r!==f;r=r.e)w[0]=r.g[0]-n.g[0],w[1]=r.g[1]-n.g[1],w[2]=r.g[2]-n.g[2],
g[0]=l[1]*w[2]-l[2]*w[1],g[1]=l[2]*w[0]-l[0]*w[2],g[2]=l[0]*w[1]-l[1]*w[0],k<(v=g[0]*g[0]+g[1]*g[1]+g[2]*g[2])&&(k=v,h[0]=g[0],h[1]=g[1],h[2]=g[2]);0>=k&&(h[0]=h[1]=h[2]=0,h[E(l)]=1)}f=!0}g=E(h);r=this.b.c;k=(g+1)%3;n=(g+2)%3;g=0<h[g]?1:-1;for(h=r.e;h!==r;h=h.e)h.b=h.g[k],h.a=g*h.g[n];if(f){h=0;for(r=(f=this.b.a).b;r!==f;r=r.b)if(!(0>=(k=r.a).f))for(;h+=(k.a.b-k.b.a.b)*(k.a.a+k.b.a.a),(k=k.e)!==r.a;);if(0>h)for(f=(h=this.b.c).e;f!==h;f=f.e)f.a=-f.a}this.n=!1;for(r=(h=this.b.b).h;r!==h;r=f)f=r.h,k=
r.e,c(r.a,r.b.a)&&r.e.e!==r&&(V(this,k,r),t(r),k=(r=k).e),k.e===r&&(k!==r&&(k!==f&&k!==f.b||(f=f.h),t(k)),r!==f&&r!==f.b||(f=f.h),t(r));this.e=h=new Ra;for(r=(f=this.b.c).e;r!==f;r=r.e)r.h=wa(h,r);(function(a){a.d=[];for(var d=0;d<a.a;d++)a.d[d]=d;a.d.sort((c=a.c,function(a,d){return b(c[a],c[d])?1:-1}));a.e=!0;(function(a){for(var b=a.a;1<=b;--b)sa(a,b);a.h=!0})(a.b);var c})(h);this.f=new Ia(this);Ea(this,-4E150);for(Ea(this,4E150);null!==(h=Va(this.e));){for(;;){if(r=this.e,0===r.a)f=La(r.b);else if(f=
r.c[r.d[r.a-1]],0!==r.b.a&&(r=La(r.b),b(r,f)))f=r;if(null===f||!c(f,h))break;f=Va(this.e);V(this,h.c,f.c)}ea(this,h)}this.a=this.f.a.a.b.a.a;for(h=0;null!==(f=this.f.a.a.b);)f.h||++h,F(f);this.f=null;(h=this.e).b=null;h.d=null;this.e=h.c=null;for(r=(h=this.b).a.b;r!==h.a;r=f)f=r.b,(r=r.a).e.e===r&&(K(r.c,r),t(r));if(!this.n){if(h=this.b,this.m)for(r=h.b.h;r!==h.b;r=f)f=r.h,r.b.d.c!==r.d.c?r.f=r.d.c?1:-1:t(r);else for(r=h.a.b;r!==h.a;r=f)if(f=r.b,r.c){for(r=r.a;b(r.b.a,r.a);r=r.c.b);for(;b(r.a,r.b.a);r=
r.e);k=r.c.b;for(n=void 0;r.e!==k;)if(b(r.b.a,k.a)){for(;k.e!==r&&(b((e=k.e).b.a,e.a)||0>=a(k.a,k.b.a,k.e.b.a));)k=(n=z(k.e,k)).b;k=k.c.b}else{for(;k.e!==r&&(b((d=r.c.b).a,d.b.a)||0<=a(r.b.a,r.a,r.c.b.a));)r=(n=z(r,r.c.b)).b;r=r.e}for(;k.e.e!==r;)k=(n=z(k.e,k)).b}if(this.h||this.i||this.k||this.l)if(this.m)for(f=(h=this.b).a.b;f!==h.a;f=f.b){if(f.c){this.h&&this.h(2,this.c);for(r=f.a;this.k&&this.k(r.a.d,this.c),(r=r.e)!==f.a;);this.i&&this.i(this.c)}}else{h=this.b;f=!!this.l;r=!1;k=-1;for(n=h.a.d;n!==
h.a;n=n.d)if(n.c)for(r||(this.h&&this.h(4,this.c),r=!0),g=n.a;f&&k!==(l=g.b.d.c?0:1)&&(k=l,this.l&&this.l(!!k,this.c)),this.k&&this.k(g.a.d,this.c),(g=g.e)!==n.a;);r&&this.i&&this.i(this.c)}if(this.r){for(r=(h=this.b).a.b;r!==h.a;r=f)if(f=r.b,!r.c){n=(k=r.a).e;for(g=void 0;n=(g=n).e,(g.d=null)===g.b.d&&(g.c===g?D(g.a,null):(g.a.c=g.c,u(g,aa(g))),(l=g.b).c===l?D(l.a,null):(l.a.c=l.c,u(l,aa(l))),G(g)),g!==k;);k=r.d;((r=r.b).d=k).b=r}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null};
this.libtess={GluTesselator:X,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},
gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}};X.prototype.gluDeleteTess=X.prototype.x;
X.prototype.gluTessProperty=X.prototype.B;X.prototype.gluGetTessProperty=X.prototype.y;X.prototype.gluTessNormal=X.prototype.A;X.prototype.gluTessCallback=X.prototype.z;X.prototype.gluTessVertex=X.prototype.C;X.prototype.gluTessBeginPolygon=X.prototype.u;X.prototype.gluTessBeginContour=X.prototype.t;X.prototype.gluTessEndContour=X.prototype.v;X.prototype.gluTessEndPolygon=X.prototype.w;void 0!==p&&(p.exports=this.libtess)},{}],9:[function(g,p,q){(function(c){(function(b){function f(){this.table=new Uint16Array(16);
this.trans=new Uint16Array(288)}function a(a,b){this.source=a;this.bitcount=this.tag=this.sourceIndex=0;this.dest=b;this.destLen=0;this.ltree=new f;this.dtree=new f}function d(a,b,d,c){var m;for(m=0;m<d;++m)a[m]=0;for(m=0;m<30-d;++m)a[m+d]=m/d|0;d=c;for(m=0;30>m;++m)b[m]=d,d+=1<<a[m]}function e(a,b,d,c){var m,B;for(m=0;16>m;++m)a.table[m]=0;for(m=0;m<c;++m)a.table[b[d+m]]++;for(m=B=a.table[0]=0;16>m;++m)Bb[m]=B,B+=a.table[m];for(m=0;m<c;++m)b[d+m]&&(a.trans[Bb[b[d+m]]++]=m)}function h(a,b,d){if(!b)return d;
for(;24>a.bitcount;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;var m=a.tag&65535>>>16-b;return a.tag>>>=b,a.bitcount-=b,m+d}function l(a,b){for(;24>a.bitcount;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;for(var d=0,m=0,c=0,B=a.tag;m=2*m+(1&B),B>>>=1,++c,d+=b.table[c],0<=(m-=b.table[c]););return a.tag=B,a.bitcount-=c,b.trans[d+m]}function k(a,b,d){for(;;){var m;var c=l(a,b);if(256===c)return 0;if(256>c)a.dest[a.destLen++]=c;else{var B=h(a,kb[c-=257],lb[c]);c=l(a,d);
for(m=c=a.destLen-h(a,Cb[c],Db[c]);m<c+B;++m)a.dest[a.destLen++]=a.dest[m]}}}function n(a,b,d,c,e){return Math.pow(1-e,3)*a+3*Math.pow(1-e,2)*e*b+3*(1-e)*Math.pow(e,2)*d+Math.pow(e,3)*c}function t(){this.y2=this.x2=this.y1=this.x1=Number.NaN}function r(){this.commands=[];this.fill="black";this.stroke=null;this.strokeWidth=1}function z(a){throw Error(a);}function v(a,b){a||z(b)}function u(a){return function(){return a}}function w(a,b,d){for(var m=0;m<b.length;m+=1){var c=b[m];this[c.name]=c.value}if(this.tableName=
a,this.fields=b,d)for(a=Object.keys(d),b=0;b<a.length;b+=1)m=a[b],c=d[m],void 0!==this[m]&&(this[m]=c)}function C(a,b,d){void 0===d&&(d=b.length);var m=Array(b.length+1);m[0]={name:a+"Count",type:"USHORT",value:d};for(d=0;d<b.length;d++)m[d+1]={name:a+d,type:"USHORT",value:b[d]};return m}function p(a,b,d){var m=b.length,c=Array(m+1);c[0]={name:a+"Count",type:"USHORT",value:m};for(var e=0;e<m;e++)c[e+1]={name:a+e,type:"TABLE",value:d(b[e],e)};return c}function q(a,b,d){var m=b.length,c=[];c[0]={name:a+
"Count",type:"USHORT",value:m};for(a=0;a<m;a++)c=c.concat(d(b[a],a));return c}function A(a){1===a.format?w.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(C("glyph",a.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function E(a){w.call(this,"scriptListTable",q("scriptRecord",a,function(a,b){var d=a.script,m=d.defaultLangSys;return R.assert(!!m,"Unable to write GSUB: script "+a.tag+" has no default language system."),[{name:"scriptTag"+b,type:"TAG",
value:a.tag},{name:"script"+b,type:"TABLE",value:new w("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new w("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:m.reqFeatureIndex}].concat(C("featureIndex",m.featureIndexes)))}].concat(q("langSys",d.langSysRecords,function(a,b){var d=a.langSys;return[{name:"langSysTag"+b,type:"TAG",value:a.tag},{name:"langSys"+b,type:"TABLE",value:new w("langSys",[{name:"lookupOrder",type:"USHORT",value:0},
{name:"reqFeatureIndex",type:"USHORT",value:d.reqFeatureIndex}].concat(C("featureIndex",d.featureIndexes)))}]})))}]}))}function K(a){w.call(this,"featureListTable",q("featureRecord",a,function(a,b){var d=a.feature;return[{name:"featureTag"+b,type:"TAG",value:a.tag},{name:"feature"+b,type:"TABLE",value:new w("featureTable",[{name:"featureParams",type:"USHORT",value:d.featureParams}].concat(C("lookupListIndex",d.lookupListIndexes)))}]}))}function H(a,b){w.call(this,"lookupListTable",p("lookup",a,function(a){var d=
b[a.lookupType];return R.assert(!!d,"Unable to write GSUB lookup type "+a.lookupType+" tables."),new w("lookupTable",[{name:"lookupType",type:"USHORT",value:a.lookupType},{name:"lookupFlag",type:"USHORT",value:a.lookupFlag}].concat(p("subtable",a.subtables,d)))}))}function F(a,b){return a.getUint8(b)}function P(a,b){return a.getUint16(b,!1)}function T(a,b){return a.getUint32(b,!1)}function Q(a,b){return a.getInt16(b,!1)+a.getUint16(b+2,!1)/65535}function x(a,b){this.data=a;this.offset=b;this.relativeOffset=
0}function W(a){this.font=a}function ca(a){this.cmap=a}function Z(a,b){this.encoding=a;this.charset=b}function S(a){switch(a.version){case 1:this.names=Fa.slice();break;case 2:this.names=Array(a.numberOfGlyphs);for(var b=0;b<a.numberOfGlyphs;b++)a.glyphNameIndex[b]<Fa.length?this.names[b]=Fa[a.glyphNameIndex[b]]:this.names[b]=a.names[a.glyphNameIndex[b]-Fa.length];break;case 2.5:this.names=Array(a.numberOfGlyphs);for(b=0;b<a.numberOfGlyphs;b++)this.names[b]=Fa[b+a.glyphNameIndex[b]];break;default:this.names=
[]}}function V(a){this.bindConstructorValues(a)}function ia(a,b,d){Object.defineProperty(a,b,{get:function(){return a.path,a[d]},set:function(b){a[d]=b},enumerable:!0,configurable:!0})}function ja(a,b){if(this.font=a,this.glyphs={},Array.isArray(b))for(a=0;a<b.length;a++)this.glyphs[a]=b[a];this.length=b&&b.length||0}function na(a,b){if(a===b)return!0;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(var d=0;d<a.length;d+=1)if(!na(a[d],b[d]))return!1;return!0}return!1}function la(a){return 1240>
a.length?107:33900>a.length?1131:32768}function ea(a,b,d){var m=[],c=[];var e=L.getCard16(a,b);if(0!==e){var f=L.getByte(a,b+2);var B=b+(e+1)*f+2;for(var h=b+3,M=0;M<e+1;M+=1)m.push(L.getOffset(a,h,f)),h+=f;e=B+m[e]}else e=b+2;for(f=0;f<m.length-1;f+=1)h=L.getBytes(a,B+m[f],B+m[f+1]),d&&(h=d(h)),c.push(h);return{objects:c,startOffset:b,endOffset:e}}function Ea(a,b){if(28===b)return a.parseByte()<<8|a.parseByte();if(29===b)return a.parseByte()<<24|a.parseByte()<<16|a.parseByte()<<8|a.parseByte();if(30===
b){b="";for(var d=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var m=a.parseByte(),c=m>>4;m&=15;if(15===c)break;if(b+=d[c],15===m)break;b+=d[m]}return parseFloat(b)}if(32<=b&&246>=b)return b-139;if(247<=b&&250>=b)return 256*(b-247)+a.parseByte()+108;if(251<=b&&254>=b)return 256*-(b-251)-a.parseByte()-108;throw Error("Invalid b0 "+b);}function Ia(a,b,d){var m=new L.Parser(a,void 0!==b?b:0);b=[];var c=[];for(d=void 0!==d?d:a.length;m.relativeOffset<d;)a=m.parseByte(),21>=a?(12===
a&&(a=1200+m.parseByte()),b.push([a,c]),c=[]):c.push(Ea(m,a));d={};for(a=0;a<b.length;a+=1){m=b[a][0];c=b[a][1];if(c=1===c.length?c[0]:c,d.hasOwnProperty(m)&&!isNaN(d[m]))throw Error("Object "+d+" already has key "+m);d[m]=c}return d}function da(a,b){return 390>=b?cb[b]:a[b-391]}function Qa(a,b,d){for(var m,c={},e=0;e<b.length;e+=1){var f=b[e];if(Array.isArray(f.type)){var B=[];B.length=f.type.length;for(var h=0;h<f.type.length;h++)void 0===(m=void 0!==a[f.op]?a[f.op][h]:void 0)&&(m=void 0!==f.value&&
void 0!==f.value[h]?f.value[h]:null),"SID"===f.type[h]&&(m=da(d,m)),B[h]=m;c[f.name]=B}else void 0===(m=a[f.op])&&(m=void 0!==f.value?f.value:null),"SID"===f.type&&(m=da(d,m)),c[f.name]=m}return c}function X(a,b,d,c){return Qa(Ia(a,b,d),Eb,c)}function va(a,b,d,c){for(var m,e,f=[],B=0;B<d.length;B+=1){var h=new DataView((new Uint8Array(d[B])).buffer);h=(e=c,Qa(Ia(m=h,0,m.byteLength),Fb,e));h._subrs=[];h._subrsBias=0;var M=h.private[0],k=h.private[1];if(0!==M&&0!==k){M=X(a,k+b,M,c);if(h._defaultWidthX=
M.defaultWidthX,h._nominalWidthX=M.nominalWidthX,0!==M.subrs)k=ea(a,k+M.subrs+b),h._subrs=k.objects,h._subrsBias=la(h._subrs);h._privateDict=M}f.push(h)}return f}function ka(a,b,d){function m(a,b){g&&M.closePath();M.moveTo(a,b);g=!0}function c(){0!=k.length%2&&!n&&(A=k.shift()+p);l+=k.length>>1;k.length=0;n=!0}var e,f,B,h,M=new r,k=[],l=0,n=!1,g=!1,t=0,u=0;if(a.isCIDFont){var w=a.tables.cff.topDict._fdArray[a.tables.cff.topDict._fdSelect[b.index]];var v=w._subrs;var z=w._subrsBias;var C=w._defaultWidthX;
var p=w._nominalWidthX}else v=a.tables.cff.topDict._subrs,z=a.tables.cff.topDict._subrsBias,C=a.tables.cff.topDict._defaultWidthX,p=a.tables.cff.topDict._nominalWidthX;var A=C;return function Gb(d){for(var ma,ab,r,bb,U,w,C,G,q,F,oa,x=0;x<d.length;)switch(U=d[x],x+=1,U){case 1:case 3:c();break;case 4:1<k.length&&!n&&(A=k.shift()+p,n=!0);u+=k.pop();m(t,u);break;case 5:for(;0<k.length;)t+=k.shift(),u+=k.shift(),M.lineTo(t,u);break;case 6:for(;0<k.length&&(t+=k.shift(),M.lineTo(t,u),0!==k.length);)u+=
k.shift(),M.lineTo(t,u);break;case 7:for(;0<k.length&&(u+=k.shift(),M.lineTo(t,u),0!==k.length);)t+=k.shift(),M.lineTo(t,u);break;case 8:for(;0<k.length;)e=t+k.shift(),f=u+k.shift(),B=e+k.shift(),h=f+k.shift(),t=B+k.shift(),u=h+k.shift(),M.curveTo(e,f,B,h,t,u);break;case 10:U=k.pop()+z;(w=v[U])&&Gb(w);break;case 11:return;case 12:switch(U=d[x],x+=1,U){case 35:e=t+k.shift();f=u+k.shift();B=e+k.shift();h=f+k.shift();U=B+k.shift();C=h+k.shift();G=U+k.shift();q=C+k.shift();F=G+k.shift();oa=q+k.shift();
t=F+k.shift();u=oa+k.shift();k.shift();M.curveTo(e,f,B,h,U,C);M.curveTo(G,q,F,oa,t,u);break;case 34:e=t+k.shift();f=u;B=e+k.shift();h=f+k.shift();U=B+k.shift();C=h;G=U+k.shift();q=h;F=G+k.shift();oa=u;t=F+k.shift();M.curveTo(e,f,B,h,U,C);M.curveTo(G,q,F,oa,t,u);break;case 36:e=t+k.shift();f=u+k.shift();B=e+k.shift();h=f+k.shift();U=B+k.shift();C=h;G=U+k.shift();q=h;F=G+k.shift();oa=q+k.shift();t=F+k.shift();M.curveTo(e,f,B,h,U,C);M.curveTo(G,q,F,oa,t,u);break;case 37:e=t+k.shift();f=u+k.shift();B=
e+k.shift();h=f+k.shift();U=B+k.shift();C=h+k.shift();G=U+k.shift();q=C+k.shift();F=G+k.shift();oa=q+k.shift();Math.abs(F-t)>Math.abs(oa-u)?t=F+k.shift():u=oa+k.shift();M.curveTo(e,f,B,h,U,C);M.curveTo(G,q,F,oa,t,u);break;default:console.log("Glyph "+b.index+": unknown operator 1200"+U),k.length=0}break;case 14:0<k.length&&!n&&(A=k.shift()+p,n=!0);g&&(M.closePath(),g=!1);break;case 18:c();break;case 19:case 20:c();x+=l+7>>3;break;case 21:2<k.length&&!n&&(A=k.shift()+p,n=!0);u+=k.pop();m(t+=k.pop(),
u);break;case 22:1<k.length&&!n&&(A=k.shift()+p,n=!0);m(t+=k.pop(),u);break;case 23:c();break;case 24:for(;2<k.length;)e=t+k.shift(),f=u+k.shift(),B=e+k.shift(),h=f+k.shift(),t=B+k.shift(),u=h+k.shift(),M.curveTo(e,f,B,h,t,u);t+=k.shift();u+=k.shift();M.lineTo(t,u);break;case 25:for(;6<k.length;)t+=k.shift(),u+=k.shift(),M.lineTo(t,u);e=t+k.shift();f=u+k.shift();B=e+k.shift();h=f+k.shift();t=B+k.shift();u=h+k.shift();M.curveTo(e,f,B,h,t,u);break;case 26:for(k.length%2&&(t+=k.shift());0<k.length;)e=
t,f=u+k.shift(),B=e+k.shift(),h=f+k.shift(),t=B,u=h+k.shift(),M.curveTo(e,f,B,h,t,u);break;case 27:for(k.length%2&&(u+=k.shift());0<k.length;)e=t+k.shift(),f=u,B=e+k.shift(),h=f+k.shift(),t=B+k.shift(),u=h,M.curveTo(e,f,B,h,t,u);break;case 28:ma=d[x];ab=d[x+1];k.push((ma<<24|ab<<16)>>16);x+=2;break;case 29:U=k.pop()+a.gsubrsBias;(w=a.gsubrs[U])&&Gb(w);break;case 30:for(;0<k.length&&(e=t,f=u+k.shift(),B=e+k.shift(),h=f+k.shift(),t=B+k.shift(),u=h+(1===k.length?k.shift():0),M.curveTo(e,f,B,h,t,u),0!==
k.length);)e=t+k.shift(),f=u,B=e+k.shift(),h=f+k.shift(),u=h+k.shift(),t=B+(1===k.length?k.shift():0),M.curveTo(e,f,B,h,t,u);break;case 31:for(;0<k.length&&(e=t+k.shift(),f=u,B=e+k.shift(),h=f+k.shift(),u=h+k.shift(),t=B+(1===k.length?k.shift():0),M.curveTo(e,f,B,h,t,u),0!==k.length);)e=t,f=u+k.shift(),B=e+k.shift(),h=f+k.shift(),t=B+k.shift(),u=h+(1===k.length?k.shift():0),M.curveTo(e,f,B,h,t,u);break;default:32>U?console.log("Glyph "+b.index+": unknown operator "+U):247>U?k.push(U-139):251>U?(ma=
d[x],x+=1,k.push(256*(U-247)+ma+108)):255>U?(ma=d[x],x+=1,k.push(256*-(U-251)-ma-108)):(ma=d[x],ab=d[x+1],r=d[x+2],bb=d[x+3],x+=4,k.push((ma<<24|ab<<16|r<<8|bb)/65536))}}(d),b.advanceWidth=A,M}function Ca(a,b){var d,m=cb.indexOf(a);return 0<=(m=b.indexOf(a))?d=m+cb.length:(d=cb.length+b.length,b.push(a)),d}function Da(a,b,d){for(var m={},c=0;c<a.length;c+=1){var e=a[c],f=b[e.name];void 0===f||na(f,e.value)||("SID"===e.type&&(f=Ca(f,d)),m[e.op]={name:e.name,type:e.type,value:f})}return m}function aa(a,
b){var d=new N.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return d.dict=Da(Fb,a,b),d}function $a(a){var b=new N.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return b.topDicts=[{name:"topDict_0",type:"TABLE",value:a}],b}function Ha(a,b,d){switch(a){case 0:return"utf-16";case 1:return Ac[d]||Bc[b];case 3:if(1===b||10===b)return"utf-16"}}function Ra(a){var b={},d;for(d in a)b[a[d]]=parseInt(d);return b}function wa(a,b,d,c,e,f){return new N.Record("NameRecord",[{name:"platformID",
type:"USHORT",value:a},{name:"encodingID",type:"USHORT",value:b},{name:"languageID",type:"USHORT",value:d},{name:"nameID",type:"USHORT",value:c},{name:"length",type:"USHORT",value:e},{name:"offset",type:"USHORT",value:f}])}function Va(a,b){a:{var d=a.length;var m=b.length-d+1,c=0;b:for(;c<m;c++)for(;c<m;){for(var e=0;e<d;e++)if(b[c+e]!==a[e])continue b;d=c;break a}d=-1}if(0>d)for(d=b.length,m=0,c=a.length;m<c;++m)b.push(a[m]);return d}function Ta(a){for(;0!=a.length%4;)a.push(0);for(var b=0,d=0;d<
a.length;d+=4)b+=(a[d]<<24)+(a[d+1]<<16)+(a[d+2]<<8)+a[d+3];return b%Math.pow(2,32)}function Ua(a,b,d,c){return new N.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==a?a:""},{name:"checkSum",type:"ULONG",value:void 0!==b?b:0},{name:"offset",type:"ULONG",value:void 0!==d?d:0},{name:"length",type:"ULONG",value:void 0!==c?c:0}])}function La(a){var b=new N.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},
{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);b.tables=a;b.numTables=a.length;var d=Math.pow(2,Math.log(b.numTables)/Math.log(2)|0);b.searchRange=16*d;b.entrySelector=Math.log(d)/Math.log(2)|0;b.rangeShift=16*b.numTables-b.searchRange;d=[];for(var m=[],c=b.sizeOf()+Ua().sizeOf()*b.numTables;0!=c%4;)c+=1,m.push({name:"padding",type:"BYTE",value:0});for(var e=0;e<a.length;e+=1){var f=a[e];R.argument(4===f.tableName.length,"Table name"+f.tableName+" is invalid.");
var h=f.sizeOf(),k=Ua(f.tableName,Ta(f.encode()),c,h);d.push({name:k.tag+" Table Record",type:"RECORD",value:k});m.push({name:f.tableName+" table",type:"RECORD",value:f});c+=h;for(R.argument(!isNaN(c),"Something went wrong calculating the offset.");0!=c%4;)c+=1,m.push({name:"padding",type:"BYTE",value:0})}return d.sort(function(a,b){return a.value.tag>b.value.tag?1:-1}),b.fields=b.fields.concat(d),b.fields=b.fields.concat(m),b}function Wa(a,b,d){for(var m=0;m<b.length;m+=1){var c=a.charToGlyphIndex(b[m]);
if(0<c)return a.glyphs.get(c).getMetrics()}return d}function sa(a,b){for(var d=0,m=a.length-1;d<=m;){var c=d+m>>>1,e=a[c].tag;if(e===b)return c;e<b?d=c+1:m=c-1}return-d-1}function Sa(a,b){for(var d=0,m=a.length-1;d<=m;){var c=d+m>>>1,e=a[c];if(e===b)return c;e<b?d=c+1:m=c-1}return-d-1}function Ka(a,b){for(var d,m=0,c=a.length-1;m<=c;){var e=m+c>>>1,f=(d=a[e]).start;if(f===b)return d;f<b?m=e+1:c=e-1}if(0<m)return b>(d=a[m-1]).end?0:d}function ba(a,b){this.font=a;this.tableName=b}function ha(a){ba.call(this,
a,"gpos")}function ra(a){ba.call(this,a,"gsub")}function vb(a,b,d){a=a.subtables;for(var m=0;m<a.length;m++){var c=a[m];if(c.substFormat===b)return c}if(d)return a.push(d),d}function wb(a){for(var b=new ArrayBuffer(a.length),d=new Uint8Array(b),m=0;m<a.length;++m)d[m]=a[m];return b}function Ja(a,b){if(!a)throw b;}function xb(a,b,d,c,e){var m;return 0<(b&c)?(m=a.parseByte(),0==(b&e)&&(m=-m),d+m):0<(b&e)?d:d+a.parseShort()}function tc(a,b,d){var m,c;b=new L.Parser(b,d);if(a.numberOfContours=b.parseShort(),
a._xMin=b.parseShort(),a._yMin=b.parseShort(),a._xMax=b.parseShort(),a._yMax=b.parseShort(),0<a.numberOfContours){var e=a.endPointIndices=[];for(m=0;m<a.numberOfContours;m+=1)e.push(b.parseUShort());a.instructionLength=b.parseUShort();a.instructions=[];for(m=0;m<a.instructionLength;m+=1)a.instructions.push(b.parseByte());d=e[e.length-1]+1;m=[];for(var f=0;f<d;f+=1)if(c=b.parseByte(),m.push(c),0<(8&c))for(var B=b.parseByte(),h=0;h<B;h+=1)m.push(c),f+=1;if(R.argument(m.length===d,"Bad flags."),0<e.length){B=
[];if(0<d){for(h=0;h<d;h+=1)c=m[h],(f={}).onCurve=!!(1&c),f.lastPointOfContour=0<=e.indexOf(h),B.push(f);for(h=e=0;h<d;h+=1)c=m[h],(f=B[h]).x=xb(b,c,e,2,16),e=f.x;for(h=e=0;h<d;h+=1)c=m[h],(f=B[h]).y=xb(b,c,e,4,32),e=f.y}a.points=B}else a.points=[]}else if(0===a.numberOfContours)a.points=[];else{a.isComposite=!0;a.points=[];a.components=[];for(c=!0;c;)m=b.parseUShort(),c={glyphIndex:b.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0},0<(1&m)?0<(2&m)?(c.dx=b.parseShort(),c.dy=b.parseShort()):
c.matchedPoints=[b.parseUShort(),b.parseUShort()]:0<(2&m)?(c.dx=b.parseChar(),c.dy=b.parseChar()):c.matchedPoints=[b.parseByte(),b.parseByte()],0<(8&m)?c.xScale=c.yScale=b.parseF2Dot14():0<(64&m)?(c.xScale=b.parseF2Dot14(),c.yScale=b.parseF2Dot14()):0<(128&m)&&(c.xScale=b.parseF2Dot14(),c.scale01=b.parseF2Dot14(),c.scale10=b.parseF2Dot14(),c.yScale=b.parseF2Dot14()),a.components.push(c),c=!!(32&m);if(256&m)for(a.instructionLength=b.parseUShort(),a.instructions=[],m=0;m<a.instructionLength;m+=1)a.instructions.push(b.parseByte())}}
function jb(a,b){for(var d=[],m=0;m<a.length;m+=1){var c=a[m];d.push({x:b.xScale*c.x+b.scale01*c.y+b.dx,y:b.scale10*c.x+b.yScale*c.y+b.dy,onCurve:c.onCurve,lastPointOfContour:c.lastPointOfContour})}return d}function yb(a){var b=new r;if(!a)return b;for(var d=[],m=[],c=0;c<a.length;c+=1){var e=a[c];m.push(e);e.lastPointOfContour&&(d.push(m),m=[])}a=(R.argument(0===m.length,"There are still points left in the current contour."),d);for(d=0;d<a.length;++d){m=a[d];e=m[m.length-1];var f=m[0];e.onCurve?
b.moveTo(e.x,e.y):f.onCurve?b.moveTo(f.x,f.y):b.moveTo(.5*(e.x+f.x),.5*(e.y+f.y));for(var h=0;h<m.length;++h)if(c=e,e=f,f=m[(h+1)%m.length],e.onCurve)b.lineTo(e.x,e.y);else{var k=f;c.onCurve||{x:.5*(e.x+c.x),y:.5*(e.y+c.y)};f.onCurve||(k={x:.5*(e.x+f.x),y:.5*(e.y+f.y)});b.quadraticCurveTo(e.x,e.y,k.x,k.y)}b.closePath()}return b}function uc(a,b){if(b.isComposite)for(var d=0;d<b.components.length;d+=1){var m=b.components[d],c=a.get(m.glyphIndex);if(c.getPath(),c.points){if(void 0===m.matchedPoints)c=
jb(c.points,m);else{if(m.matchedPoints[0]>b.points.length-1||m.matchedPoints[1]>c.points.length-1)throw Error("Matched points out of range in "+b.name);var e=b.points[m.matchedPoints[0]],f=c.points[m.matchedPoints[1]];m={xScale:m.xScale,scale01:m.scale01,scale10:m.scale10,yScale:m.yScale,dx:0,dy:0};f=jb([f],m)[0];m.dx=e.x-f.x;m.dy=e.y-f.y;c=jb(c.points,m)}b.points=b.points.concat(c)}}return yb(b.points)}function zb(a){this.font=a;this.getCommands=function(a){return Hb.getPath(a).commands};this._fpgmState=
this._prepState=void 0;this._errorState=0}function vc(a){return a}function Ab(a){return Math.sign(a)*Math.round(Math.abs(a))}function wc(a){return Math.sign(a)*Math.round(Math.abs(2*a))/2}function xc(a){return Math.sign(a)*(Math.round(Math.abs(a)+.5)-.5)}function yc(a){return Math.sign(a)*Math.ceil(Math.abs(a))}function zc(a){return Math.sign(a)*Math.floor(Math.abs(a))}function Xa(a,b){this.x=a;this.y=b;this.axis=void 0;this.slope=b/a;this.normalSlope=-a/b;Object.freeze(this)}function Ya(a,b){var d=
Math.sqrt(a*a+b*b);return b/=d,1===(a/=d)&&0===b?ta:0===a&&1===b?xa:new Xa(a,b)}function ya(a,b,d,c){this.x=this.xo=Math.round(64*a)/64;this.y=this.yo=Math.round(64*b)/64;this.lastPointOfContour=d;this.onCurve=c;this.nextPointOnContour=this.prevPointOnContour=void 0;this.yTouched=this.xTouched=!1;Object.preventExtensions(this)}function za(a,b){switch(this.env=a,this.stack=[],this.prog=b,a){case "glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case "prep":this.fv=this.pv=this.dpv=ta,
this.round=Ab}}function db(a){a=a.tZone=Array(a.gZone.length);for(var b=0;b<a.length;b++)a[b]=new ya(0,0)}function Ib(a,b){var d,c=a.prog,m=a.ip,e=1;do if(88===(d=c[++m]))e++;else if(89===d)e--;else if(64===d)m+=c[m+1]+1;else if(65===d)m+=2*c[m+1]+1;else if(176<=d&&183>=d)m+=d-176+1;else if(184<=d&&191>=d)m+=2*(d-184+1);else if(b&&1===e&&27===d)break;while(0<e);a.ip=m}function Jb(a,d){b.DEBUG&&console.log(d.step,"SVTCA["+a.axis+"]");d.fv=d.pv=d.dpv=a}function Kb(a,d){b.DEBUG&&console.log(d.step,"SPVTCA["+
a.axis+"]");d.pv=d.dpv=a}function Lb(a,d){b.DEBUG&&console.log(d.step,"SFVTCA["+a.axis+"]");d.fv=a}function Mb(a,d){var c,m=d.stack,e=m.pop();m=m.pop();var f=d.z2[e],B=d.z1[m];b.DEBUG&&console.log("SPVTL["+a+"]",e,m);a=a?(c=f.y-B.y,B.x-f.x):(c=B.x-f.x,B.y-f.y);d.pv=d.dpv=Ya(c,a)}function Nb(a,d){var c,m=d.stack,e=m.pop();m=m.pop();var f=d.z2[e],B=d.z1[m];b.DEBUG&&console.log("SFVTL["+a+"]",e,m);a=a?(c=f.y-B.y,B.x-f.x):(c=B.x-f.x,B.y-f.y);d.fv=Ya(c,a)}function mb(a){b.DEBUG&&console.log(a.step,"POP[]");
a.stack.pop()}function Ob(a,d){var c=d.stack.pop(),m=d.z0[c],e=d.fv,f=d.pv;b.DEBUG&&console.log(d.step,"MDAP["+a+"]",c);var B=f.distance(m,Za);a&&(B=d.round(B));e.setRelative(m,Za,B,f);e.touch(m);d.rp0=d.rp1=c}function Pb(a,d){var c,m,e=d.z2,f=e.length-2;b.DEBUG&&console.log(d.step,"IUP["+a.axis+"]");for(var B=0;B<f;B++)d=e[B],a.touched(d)||(c=d.prevTouched(a))!==d&&(c===(m=d.nextTouched(a))&&a.setRelative(d,d,a.distance(c,c,!1,!0),a,!0),a.interpolate(d,c,m,a))}function Qb(a,d){for(var c=d.stack,
m=(a?d.z0:d.z1)[a?d.rp1:d.rp2],e=d.fv,f=d.pv,B=d.loop,h=d.z2;B--;){var k=c.pop(),l=h[k],n=f.distance(m,m,!1,!0);e.setRelative(l,l,n,f);e.touch(l);b.DEBUG&&console.log(d.step,(1<d.loop?"loop "+(d.loop-B)+": ":"")+"SHP["+(a?"rp1":"rp2")+"]",k)}d.loop=1}function Rb(a,d){var c=(a?d.z0:d.z1)[a?d.rp1:d.rp2],m=d.fv,e=d.pv,f=d.stack.pop(),B=d.z2[d.contours[f]],h=B;b.DEBUG&&console.log(d.step,"SHC["+a+"]",f);for(a=e.distance(c,c,!1,!0);h!==c&&m.setRelative(h,h,a,e),(h=h.nextPointOnContour)!==B;);}function Sb(a,
d){var c=(a?d.z0:d.z1)[a?d.rp1:d.rp2];var m=d.fv,e=d.pv,f=d.stack.pop();switch(b.DEBUG&&console.log(d.step,"SHZ["+a+"]",f),f){case 0:a=d.tZone;break;case 1:a=d.gZone;break;default:throw Error("Invalid zone");}d=e.distance(c,c,!1,!0);f=a.length-2;for(var h=0;h<f;h++)c=a[h],m.setRelative(c,c,d,e)}function Tb(a,d){var c=d.stack,m=c.pop()/64;c=c.pop();var e=d.z1[c],f=d.fv;f.setRelative(e,d.z0[d.rp0],m,d.pv);f.touch(e);b.DEBUG&&console.log(d.step,"MSIRP["+a+"]",m,c);d.rp1=d.rp0;d.rp2=c;a&&(d.rp0=c)}function Ub(a,
d){var c=d.stack,m=c.pop();c=c.pop();var e=d.z0[c],f=d.fv,h=d.pv,B=d.cvt[m];b.DEBUG&&console.log(d.step,"MIAP["+a+"]",m,"(",B,")",c);m=h.distance(e,Za);a&&(Math.abs(m-B)<d.cvCutIn&&(m=B),m=d.round(m));f.setRelative(e,Za,m,h);0===d.zp0&&(e.xo=e.x,e.yo=e.y);f.touch(e);d.rp0=d.rp1=c}function Vb(a,d){var c=d.stack,m=c.pop(),e=d.z2[m];b.DEBUG&&console.log(d.step,"GC["+a+"]",m);c.push(64*d.dpv.distance(e,Za,a,!1))}function Wb(a,d){var c=d.stack,m=c.pop();c=c.pop();var e=d.dpv.distance(d.z0[c],d.z1[m],a,
a);b.DEBUG&&console.log(d.step,"MD["+a+"]",m,c,"->",e);d.stack.push(Math.round(64*e))}function nb(a,d){var c=d.stack,m=c.pop(),e=d.fv,f=d.pv,h=d.ppem,B=d.deltaBase+16*(a-1),k=d.deltaShift,l=d.z0;b.DEBUG&&console.log(d.step,"DELTAP["+a+"]",m,c);for(a=0;a<m;a++){var n=c.pop(),g=c.pop();B+((240&g)>>4)===h&&(g=(15&g)-8,0<=g&&g++,b.DEBUG&&console.log(d.step,"DELTAPFIX",n,"by",g*k),n=l[n],e.setRelative(n,n,g*k,f))}}function eb(a,d){a=d.stack;var c=a.pop();b.DEBUG&&console.log(d.step,"ROUND[]");a.push(64*
d.round(c/64))}function ob(a,d){var c=d.stack,m=c.pop(),e=d.ppem,f=d.deltaBase+16*(a-1),h=d.deltaShift;b.DEBUG&&console.log(d.step,"DELTAC["+a+"]",m,c);for(a=0;a<m;a++){var B=c.pop(),k=c.pop();f+((240&k)>>4)===e&&(k=(15&k)-8,0<=k&&k++,k*=h,b.DEBUG&&console.log(d.step,"DELTACFIX",B,"by",k),d.cvt[B]+=k)}}function Xb(a,d){var c,m=d.stack,e=m.pop();m=m.pop();var f=d.z2[e],h=d.z1[m];b.DEBUG&&console.log(d.step,"SDPVTL["+a+"]",e,m);a=a?(c=f.y-h.y,h.x-f.x):(c=h.x-f.x,h.y-f.y);d.dpv=Ya(c,a)}function Aa(a,
d){var c=d.stack,m=d.prog,e=d.ip;b.DEBUG&&console.log(d.step,"PUSHB["+a+"]");for(var f=0;f<a;f++)c.push(m[++e]);d.ip=e}function Ba(a,d){var c=d.ip,m=d.prog,e=d.stack;b.DEBUG&&console.log(d.ip,"PUSHW["+a+"]");for(var f=0;f<a;f++){var h=m[++c]<<8|m[++c];32768&h&&(h=-(1+(65535^h)));e.push(h)}d.ip=c}function J(a,d,c,e,f,h){var m,B;var k=h.stack;var M=a&&k.pop(),l=k.pop(),n=h.z0[h.rp0],g=h.z1[l],ma=h.minDis,t=h.fv,u=h.dpv;var r=0<=(m=k=u.distance(g,n,!0,!0))?1:-1;m=Math.abs(m);a&&(B=h.cvt[M],e&&Math.abs(m-
B)<h.cvCutIn&&(m=B));c&&m<ma&&(m=ma);e&&(m=h.round(m));t.setRelative(g,n,r*m,u);t.touch(g);b.DEBUG&&console.log(h.step,(a?"MIRP[":"MDRP[")+(d?"M":"m")+(c?">":"_")+(e?"R":"_")+(0===f?"Gr":1===f?"Bl":2===f?"Wh":"")+"]",a?M+"("+h.cvt[M]+","+B+")":"",l,"(d =",k,"->",r*m,")");h.rp1=h.rp0;h.rp2=l;d&&(h.rp0=l)}function Y(a){(a=a||{}).empty||(Ja(a.familyName,"When creating a new Font object, familyName is required."),Ja(a.styleName,"When creating a new Font object, styleName is required."),Ja(a.unitsPerEm,
"When creating a new Font object, unitsPerEm is required."),Ja(a.ascender,"When creating a new Font object, ascender is required."),Ja(a.descender,"When creating a new Font object, descender is required."),Ja(0>a.descender,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:a.familyName||" "},fontSubfamily:{en:a.styleName||" "},fullName:{en:a.fullName||a.familyName+" "+a.styleName},postScriptName:{en:a.postScriptName||(a.familyName+a.styleName).replace(/\s/g,"")},designer:{en:a.designer||
" "},designerURL:{en:a.designerURL||" "},manufacturer:{en:a.manufacturer||" "},manufacturerURL:{en:a.manufacturerURL||" "},license:{en:a.license||" "},licenseURL:{en:a.licenseURL||" "},version:{en:a.version||"Version 0.1"},description:{en:a.description||" "},copyright:{en:a.copyright||" "},trademark:{en:a.trademark||" "}},this.unitsPerEm=a.unitsPerEm||1E3,this.ascender=a.ascender,this.descender=a.descender,this.createdTimestamp=a.createdTimestamp,this.tables={os2:{usWeightClass:a.weightClass||this.usWeightClasses.MEDIUM,
usWidthClass:a.widthClass||this.usWidthClasses.MEDIUM,fsSelection:a.fsSelection||this.fsSelectionValues.REGULAR}});this.supported=!0;this.glyphs=new Ma.GlyphSet(this,a.glyphs||[]);this.encoding=new W(this);this.position=new ha(this);this.substitution=new ra(this);this.tables=this.tables||{};Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new zb(this):void 0}})}function Yb(a,b){var d=JSON.stringify(a),c=256,m;for(m in b){var e=
parseInt(m);if(e&&!(256>e)){if(JSON.stringify(b[m])===d)return e;c<=e&&(c=e+1)}}return b[c]=a,c}function Cc(a,b,d,c){c=[{name:"nameID_"+a,type:"USHORT",value:Yb(b.name,c)},{name:"flags_"+a,type:"USHORT",value:0}];for(var m=0;m<d.length;++m){var e=d[m].tag;c.push({name:"axis_"+a+" "+e,type:"FIXED",value:b.coordinates[e]<<16})}return c}function Dc(a,b,d,c){var m={};a=new L.Parser(a,b);m.name=c[a.parseUShort()]||{};a.skip("uShort",1);m.coordinates={};for(c=0;c<d.length;++c)m.coordinates[d[c].tag]=a.parseFixed();
return m}function Ec(a,b){g("fs").readFile(a,function(a,d){if(a)return b(a.message);b(null,wb(d))})}function Fc(a,b){var d=new XMLHttpRequest;d.open("get",a,!0);d.responseType="arraybuffer";d.onload=function(){return d.response?b(null,d.response):b("Font could not be loaded: "+d.statusText)};d.onerror=function(){b("Font could not be loaded")};d.send()}function Zb(a,b){for(var d=[],c=12,m=0;m<b;m+=1){var e=L.getTag(a,c),f=L.getULong(a,c+4),h=L.getULong(a,c+8),B=L.getULong(a,c+12);d.push({tag:e,checksum:f,
offset:h,length:B,compression:!1});c+=16}return d}function fa(b,d){if("WOFF"!==d.compression)return{data:b,offset:d.offset};var c=new Uint8Array(b.buffer,d.offset+2,d.compressedLength-2);b=new Uint8Array(d.length);c=new a(c,b);do{var m=c;m.bitcount--||(m.tag=m.source[m.sourceIndex++],m.bitcount=7);var f=1&m.tag;switch(m=(m.tag>>>=1,f),h(c,2,0)){case 0:var B;for(f=c;8<f.bitcount;)f.sourceIndex--,f.bitcount-=8;if((B=256*(B=f.source[f.sourceIndex+1])+f.source[f.sourceIndex])!==(65535&~(256*f.source[f.sourceIndex+
3]+f.source[f.sourceIndex+2])))f=-3;else{for(f.sourceIndex+=4;B;--B)f.dest[f.destLen++]=f.source[f.sourceIndex++];f=(f.bitcount=0,0)}break;case 1:f=k(c,$b,ac);break;case 2:var n,g=c,t=c.ltree,u=c.dtree;B=h(g,5,257);f=h(g,5,1);var r=h(g,4,4);for(n=0;19>n;++n)ua[n]=0;for(n=0;n<r;++n){var w=h(g,3,0);ua[Gc[n]]=w}e(bc,ua,0,19);for(n=0;n<B+f;)switch(r=l(g,bc),r){case 16:w=ua[n-1];for(r=h(g,2,3);r;--r)ua[n++]=w;break;case 17:for(r=h(g,3,3);r;--r)ua[n++]=0;break;case 18:for(r=h(g,7,11);r;--r)ua[n++]=0;break;
default:ua[n++]=r}e(t,ua,0,B);e(u,ua,B,f);f=k(c,c.ltree,c.dtree);break;default:f=-3}if(0!==f)throw Error("Data error");}while(!m);c.destLen<c.dest.length&&("function"==typeof c.dest.slice?c.dest.slice(0,c.destLen):c.dest.subarray(0,c.destLen));if(b.byteLength!==d.length)throw Error("Decompression error: "+d.tag+" decompressed length doesn't match recorded length");return{data:new DataView(b.buffer,0),offset:0}}function pb(a){var b=new Y({empty:!0});a=new DataView(a,0);var d=[];var c=L.getTag(a,0);
if(c===String.fromCharCode(0,1,0,0)||"true"===c||"typ1"===c)b.outlinesFormat="truetype",d=Zb(a,c=L.getUShort(a,4));else if("OTTO"===c)b.outlinesFormat="cff",d=Zb(a,c=L.getUShort(a,4));else{if("wOFF"!==c)throw Error("Unsupported OpenType signature "+c);d=L.getTag(a,4);if(d===String.fromCharCode(0,1,0,0))b.outlinesFormat="truetype";else{if("OTTO"!==d)throw Error("Unsupported OpenType flavor "+c);b.outlinesFormat="cff"}d=function(a,b){for(var d=[],c=44,m=0;m<b;m+=1){var e=L.getTag(a,c),f=L.getULong(a,
c+4),h=L.getULong(a,c+8),B=L.getULong(a,c+12);d.push({tag:e,offset:f,compression:h<B&&"WOFF",compressedLength:h,length:B});c+=20}return d}(a,c=L.getUShort(a,12))}for(var m=0;m<c;m+=1){var e=d[m];var f=void 0;switch(e.tag){case "cmap":f=fa(a,e);b.tables.cmap=cc.parse(f.data,f.offset);b.encoding=new ca(b.tables.cmap);break;case "cvt ":f=fa(a,e);f=new L.Parser(f.data,f.offset);b.tables.cvt=f.parseShortList(e.length/2);break;case "fvar":var h=e;break;case "fpgm":f=fa(a,e);f=new L.Parser(f.data,f.offset);
b.tables.fpgm=f.parseByteList(e.length);break;case "head":f=fa(a,e);b.tables.head=dc.parse(f.data,f.offset);b.unitsPerEm=b.tables.head.unitsPerEm;var k=b.tables.head.indexToLocFormat;break;case "hhea":f=fa(a,e);b.tables.hhea=ec.parse(f.data,f.offset);b.ascender=b.tables.hhea.ascender;b.descender=b.tables.hhea.descender;b.numberOfHMetrics=b.tables.hhea.numberOfHMetrics;break;case "hmtx":var l=e;break;case "ltag":f=fa(a,e);var n=fc.parse(f.data,f.offset);break;case "maxp":f=fa(a,e);b.tables.maxp=gc.parse(f.data,
f.offset);b.numGlyphs=b.tables.maxp.numGlyphs;break;case "name":var g=e;break;case "OS/2":f=fa(a,e);b.tables.os2=qb.parse(f.data,f.offset);break;case "post":f=fa(a,e);b.tables.post=hc.parse(f.data,f.offset);b.glyphNames=new S(b.tables.post);break;case "prep":f=fa(a,e);f=new L.Parser(f.data,f.offset);b.tables.prep=f.parseByteList(e.length);break;case "glyf":var t=e;break;case "loca":var r=e;break;case "CFF ":var u=e;break;case "kern":var w=e;break;case "GPOS":var v=e;break;case "GSUB":var z=e;break;
case "meta":var C=e}}g=fa(a,g);if(b.tables.name=ic.parse(g.data,g.offset,n),b.names=b.tables.name,t&&r)k=0===k,r=fa(a,r),r=Hc.parse(r.data,r.offset,b.numGlyphs,k),t=fa(a,t),b.glyphs=Hb.parse(t.data,t.offset,r,b);else{if(!u)throw Error("Font doesn't contain TrueType or CFF outlines.");t=fa(a,u);jc.parse(t.data,t.offset,b)}l=fa(a,l);(kc.parse(l.data,l.offset,b.numberOfHMetrics,b.numGlyphs,b.glyphs),function(a){var b=a.tables.cmap.glyphIndexMap;for(var d=Object.keys(b),c=0;c<d.length;c+=1){var m=d[c];
a.glyphs.get(b[m]).addUnicode(parseInt(m))}for(d=0;d<a.glyphs.length;d+=1)b=a.glyphs.get(d),a.cffEncoding?a.isCIDFont?b.name="gid"+d:b.name=a.cffEncoding.charset[d]:a.glyphNames.names&&(b.name=a.glyphNames.glyphIndexToName(d))}(b),w)?(w=fa(a,w),b.kerningPairs=Ic.parse(w.data,w.offset)):b.kerningPairs={};v&&(v=fa(a,v),b.tables.gpos=Jc.parse(v.data,v.offset),b.position.init());z&&(z=fa(a,z),b.tables.gsub=lc.parse(z.data,z.offset));h&&(h=fa(a,h),b.tables.fvar=Kc.parse(h.data,h.offset,b.names));C&&(C=
fa(a,C),b.tables.meta=mc.parse(C.data,C.offset),b.metas=b.tables.meta);return b}var rb,sb;String.prototype.codePointAt||(rb=function(){try{var a={},b=Object.defineProperty,d=b(a,a,a)&&b}catch(ma){}return d}(),sb=function(a){if(null==this)throw TypeError();var b=String(this),d=b.length;a=a?Number(a):0;if(a!=a&&(a=0),!(0>a||d<=a)){var c,m=b.charCodeAt(a);return 55296<=m&&56319>=m&&a+1<d&&56320<=(c=b.charCodeAt(a+1))&&57343>=c?1024*(m-55296)+c-56320+65536:m}},rb?rb(String.prototype,"codePointAt",{value:sb,
configurable:!0,writable:!0}):String.prototype.codePointAt=sb);var $b=new f,ac=new f,kb=new Uint8Array(30),lb=new Uint16Array(30),Cb=new Uint8Array(30),Db=new Uint16Array(30),Gc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bc=new f,ua=new Uint8Array(320),Bb=new Uint16Array(16);!function(a,b){var d;for(d=0;7>d;++d)a.table[d]=0;a.table[7]=24;a.table[8]=152;a.table[9]=112;for(d=0;24>d;++d)a.trans[d]=256+d;for(d=0;144>d;++d)a.trans[24+d]=d;for(d=0;8>d;++d)a.trans[168+d]=280+d;for(d=
0;112>d;++d)a.trans[176+d]=144+d;for(d=0;5>d;++d)b.table[d]=0;b.table[5]=32;for(d=0;32>d;++d)b.trans[d]=d}($b,ac);d(kb,lb,4,3);d(Cb,Db,2,1);kb[28]=0;lb[28]=258;t.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};t.prototype.addPoint=function(a,b){"number"==typeof a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a));"number"==typeof b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&
(this.y1=b),b>this.y2&&(this.y2=b))};t.prototype.addX=function(a){this.addPoint(a,null)};t.prototype.addY=function(a){this.addPoint(null,a)};t.prototype.addBezier=function(a,b,d,c,e,f,h,k){var m=[a,b];d=[d,c];e=[e,f];f=[h,k];this.addPoint(a,b);this.addPoint(h,k);for(a=0;1>=a;a++)b=6*m[a]-12*d[a]+6*e[a],h=-3*m[a]+9*d[a]-9*e[a]+3*f[a],k=3*d[a]-3*m[a],0!==h?(k=Math.pow(b,2)-4*k*h,0>k||(c=(-b+Math.sqrt(k))/(2*h),0<c&&1>c&&(0===a&&this.addX(n(m[a],d[a],e[a],f[a],c)),1===a&&this.addY(n(m[a],d[a],e[a],f[a],
c))),b=(-b-Math.sqrt(k))/(2*h),0<b&&1>b&&(0===a&&this.addX(n(m[a],d[a],e[a],f[a],b)),1===a&&this.addY(n(m[a],d[a],e[a],f[a],b))))):0!==b&&(b=-k/b,0<b&&1>b&&(0===a&&this.addX(n(m[a],d[a],e[a],f[a],b)),1===a&&this.addY(n(m[a],d[a],e[a],f[a],b))))};t.prototype.addQuad=function(a,b,d,c,e,f){d=a+2/3*(d-a);c=b+2/3*(c-b);this.addBezier(a,b,d,c,d+1/3*(e-a),c+1/3*(f-b),e,f)};r.prototype.moveTo=function(a,b){this.commands.push({type:"M",x:a,y:b})};r.prototype.lineTo=function(a,b){this.commands.push({type:"L",
x:a,y:b})};r.prototype.curveTo=r.prototype.bezierCurveTo=function(a,b,d,c,e,f){this.commands.push({type:"C",x1:a,y1:b,x2:d,y2:c,x:e,y:f})};r.prototype.quadTo=r.prototype.quadraticCurveTo=function(a,b,d,c){this.commands.push({type:"Q",x1:a,y1:b,x:d,y:c})};r.prototype.close=r.prototype.closePath=function(){this.commands.push({type:"Z"})};r.prototype.extend=function(a){if(a.commands)a=a.commands;else if(a instanceof t)return this.moveTo(a.x1,a.y1),this.lineTo(a.x2,a.y1),this.lineTo(a.x2,a.y2),this.lineTo(a.x1,
a.y2),void this.close();Array.prototype.push.apply(this.commands,a)};r.prototype.getBoundingBox=function(){for(var a=new t,b=0,d=0,c=0,e=0,f=0;f<this.commands.length;f++){var h=this.commands[f];switch(h.type){case "M":a.addPoint(h.x,h.y);b=c=h.x;d=e=h.y;break;case "L":a.addPoint(h.x,h.y);c=h.x;e=h.y;break;case "Q":a.addQuad(c,e,h.x1,h.y1,h.x,h.y);c=h.x;e=h.y;break;case "C":a.addBezier(c,e,h.x1,h.y1,h.x2,h.y2,h.x,h.y);c=h.x;e=h.y;break;case "Z":c=b;e=d;break;default:throw Error("Unexpected path command "+
h.type);}}return a.isEmpty()&&a.addPoint(0,0),a};r.prototype.draw=function(a){a.beginPath();for(var b=0;b<this.commands.length;b+=1){var d=this.commands[b];"M"===d.type?a.moveTo(d.x,d.y):"L"===d.type?a.lineTo(d.x,d.y):"C"===d.type?a.bezierCurveTo(d.x1,d.y1,d.x2,d.y2,d.x,d.y):"Q"===d.type?a.quadraticCurveTo(d.x1,d.y1,d.x,d.y):"Z"===d.type&&a.closePath()}this.fill&&(a.fillStyle=this.fill,a.fill());this.stroke&&(a.strokeStyle=this.stroke,a.lineWidth=this.strokeWidth,a.stroke())};r.prototype.toPathData=
function(a){function b(){for(var b,d=arguments,c="",e=0;e<arguments.length;e+=1){var m=d[e];0<=m&&0<e&&(c+=" ");c+=(b=m,Math.round(b)===b?""+Math.round(b):b.toFixed(a))}return c}a=void 0!==a?a:2;for(var d="",c=0;c<this.commands.length;c+=1){var e=this.commands[c];"M"===e.type?d+="M"+b(e.x,e.y):"L"===e.type?d+="L"+b(e.x,e.y):"C"===e.type?d+="C"+b(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type?d+="Q"+b(e.x1,e.y1,e.x,e.y):"Z"===e.type&&(d+="Z")}return d};r.prototype.toSVG=function(a){var b='<path d="';return b+=
this.toPathData(a),b+='"',this.fill&&"black"!==this.fill&&(null===this.fill?b+=' fill="none"':b+=' fill="'+this.fill+'"'),this.stroke&&(b+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),b+"/>"};r.prototype.toDOMElement=function(a){a=this.toPathData(a);var b=document.createElementNS("http://www.w3.org/2000/svg","path");return b.setAttribute("d",a),b};var R={fail:z,argument:v,assert:v},Na={},I={},O={};I.BYTE=function(a){return R.argument(0<=a&&255>=a,"Byte value should be between 0 and 255."),
[a]};O.BYTE=u(1);I.CHAR=function(a){return[a.charCodeAt(0)]};O.CHAR=u(1);I.CHARARRAY=function(a){for(var b=[],d=0;d<a.length;d+=1)b[d]=a.charCodeAt(d);return b};O.CHARARRAY=function(a){return a.length};I.USHORT=function(a){return[a>>8&255,255&a]};O.USHORT=u(2);I.SHORT=function(a){return 32768<=a&&(a=-(65536-a)),[a>>8&255,255&a]};O.SHORT=u(2);I.UINT24=function(a){return[a>>16&255,a>>8&255,255&a]};O.UINT24=u(3);I.ULONG=function(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]};O.ULONG=u(4);I.LONG=function(a){return 2147483648<=
a&&(a=-(4294967296-a)),[a>>24&255,a>>16&255,a>>8&255,255&a]};O.LONG=u(4);I.FIXED=I.ULONG;O.FIXED=O.ULONG;I.FWORD=I.SHORT;O.FWORD=O.SHORT;I.UFWORD=I.USHORT;O.UFWORD=O.USHORT;I.LONGDATETIME=function(a){return[0,0,0,0,a>>24&255,a>>16&255,a>>8&255,255&a]};O.LONGDATETIME=u(8);I.TAG=function(a){return R.argument(4===a.length,"Tag should be exactly 4 ASCII characters."),[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]};O.TAG=u(4);I.Card8=I.BYTE;O.Card8=O.BYTE;I.Card16=I.USHORT;O.Card16=
O.USHORT;I.OffSize=I.BYTE;O.OffSize=O.BYTE;I.SID=I.USHORT;O.SID=O.USHORT;I.NUMBER=function(a){return-107<=a&&107>=a?[a+139]:108<=a&&1131>=a?[247+((a-=108)>>8),255&a]:-1131<=a&&-108>=a?[251+((a=-a-108)>>8),255&a]:-32768<=a&&32767>=a?I.NUMBER16(a):I.NUMBER32(a)};O.NUMBER=function(a){return I.NUMBER(a).length};I.NUMBER16=function(a){return[28,a>>8&255,255&a]};O.NUMBER16=u(3);I.NUMBER32=function(a){return[29,a>>24&255,a>>16&255,a>>8&255,255&a]};O.NUMBER32=u(5);I.REAL=function(a){var b=a.toString(),d=
/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);d&&(b=parseFloat("1e"+((d[2]?+d[2]:0)+d[1].length)),b=(Math.round(a*b)/b).toString());a="";d=0;for(var c=b.length;d<c;d+=1){var e=b[d];a+="e"===e?"-"===b[++d]?"c":"b":"."===e?"a":"-"===e?"e":e}b=[30];d=0;for(c=(a+=1&a.length?"f":"ff").length;d<c;d+=2)b.push(parseInt(a.substr(d,2),16));return b};O.REAL=function(a){return I.REAL(a).length};I.NAME=I.CHARARRAY;O.NAME=O.CHARARRAY;I.STRING=I.CHARARRAY;O.STRING=O.CHARARRAY;Na.UTF8=function(a,b,d){for(var c=
[],e=0;e<d;e++,b+=1)c[e]=a.getUint8(b);return String.fromCharCode.apply(null,c)};Na.UTF16=function(a,b,d){var c=[];d/=2;for(var e=0;e<d;e++,b+=2)c[e]=a.getUint16(b);return String.fromCharCode.apply(null,c)};I.UTF16=function(a){for(var b=[],d=0;d<a.length;d+=1){var c=a.charCodeAt(d);b[b.length]=c>>8&255;b[b.length]=255&c}return b};O.UTF16=function(a){return 2*a.length};var tb={"x-mac-croatian":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u0160\u2122\u00b4\u00a8\u2260\u017d\u00d8\u221e\u00b1\u2264\u2265\u2206\u00b5\u2202\u2211\u220f\u0161\u222b\u00aa\u00ba\u03a9\u017e\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u0106\u00ab\u010c\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\uf8ff\u00a9\u2044\u20ac\u2039\u203a\u00c6\u00bb\u2013\u00b7\u201a\u201e\u2030\u00c2\u0107\u00c1\u010d\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\u0111\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u03c0\u00cb\u02da\u00b8\u00ca\u00e6\u02c7",
"x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\u00b0\u0490\u00a3\u00a7\u2022\u00b6\u0406\u00ae\u00a9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\u00b1\u2264\u2265\u0456\u00b5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e",
"x-mac-gaelic":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u1e02\u00b1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\u00e6\u00f8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\u00ff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\u00b7\u1ef2\u1ef3\u204a\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\u2663\u00d2\u00da\u00db\u00d9\u0131\u00dd\u00fd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83",
"x-mac-greek":"\u00c4\u00b9\u00b2\u00c9\u00b3\u00d6\u00dc\u0385\u00e0\u00e2\u00e4\u0384\u00a8\u00e7\u00e9\u00e8\u00ea\u00eb\u00a3\u2122\u00ee\u00ef\u2022\u00bd\u2030\u00f4\u00f6\u00a6\u20ac\u00f9\u00fb\u00fc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\u00df\u00ae\u00a9\u03a3\u03aa\u00a7\u2260\u00b0\u00b7\u0391\u00b1\u2264\u2265\u00a5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\u00ac\u039f\u03a1\u2248\u03a4\u00ab\u00bb\u2026\u00a0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\u00f7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\u00ad",
"x-mac-icelandic":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u00dd\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u00d0\u00f0\u00de\u00fe\u00fd\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7",
"x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\u00b0\u14a1\u14a5\u14a6\u2022\u00b6\u14a7\u00ae\u00a9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\u00a0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142",
"x-mac-ce":"\u00c4\u0100\u0101\u00c9\u0104\u00d6\u00dc\u00e1\u0105\u010c\u00e4\u010d\u0106\u0107\u00e9\u0179\u017a\u010e\u00ed\u010f\u0112\u0113\u0116\u00f3\u0117\u00f4\u00f6\u00f5\u00fa\u011a\u011b\u00fc\u2020\u00b0\u0118\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u0119\u00a8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\u00ac\u221a\u0144\u0147\u2206\u00ab\u00bb\u2026\u00a0\u0148\u0150\u00d5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\u00c1\u0164\u0165\u00cd\u017d\u017e\u016a\u00d3\u00d4\u016b\u016e\u00da\u016f\u0170\u0171\u0172\u0173\u00dd\u00fd\u0137\u017b\u0141\u017c\u0122\u02c7",
macintosh:"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7",
"x-mac-romanian":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u0102\u0218\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u0103\u0219\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7",
"x-mac-turkish":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\uf8a0\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7"};
Na.MACSTRING=function(a,b,d,c){c=tb[c];if(void 0!==c){for(var e="",f=0;f<d;f++){var m=a.getUint8(b+f);e+=127>=m?String.fromCharCode(m):c[127&m]}return e}};var fb,gb="function"==typeof WeakMap&&new WeakMap;I.MACSTRING=function(a,b){a:{if(!fb)for(d in fb={},tb)fb[d]=new String(d);var d=fb[b];if(void 0!==d){if(gb){var c=gb.get(d);if(void 0!==c){d=c;break a}}b=tb[b];if(void 0!==b){c={};for(var e=0;e<b.length;e++)c[b.charCodeAt(e)]=e+128;d=(gb&&gb.set(d,c),c);break a}}d=void 0}if(void 0!==d){b=[];for(c=
0;c<a.length;c++){e=a.charCodeAt(c);if(128<=e&&void 0===(e=d[e]))return;b[c]=e}return b}};O.MACSTRING=function(a,b){a=I.MACSTRING(a,b);return void 0!==a?a.length:0};I.VARDELTAS=function(a){for(var b=0,d=[];b<a.length;){var c=a[b];if(0===c){c=b;b=0;for(var e=a.length;c<e&&64>b&&0===a[c];)++c,++b;c=(d.push(128|b-1),c)}else if(-128<=c&&127>=c){c=a;var f=b;b=d;var m=0,h=c.length;for(e=f;e<h&&64>m;){var k=c[e];if(!(-128<=k&&127>=k))break;if(0===k&&e+1<h&&0===c[e+1])break;++e;++m}for(b.push(m-1);f<e;++f)b.push(c[f]+
256&255);c=e}else{c=a;f=b;b=d;m=0;h=c.length;for(e=f;e<h&&64>m;){k=c[e];if(0===k)break;if(k=-128<=k&&127>=k&&e+1<h)k=c[e+1],k=-128<=k&&127>=k;if(k)break;++e;++m}for(b.push(64|m-1);f<e;++f)m=c[f],b.push(m+65536>>8&255,m+256&255);c=e}b=c}return d};I.INDEX=function(a){for(var b=1,d=[b],c=[],e=0;e<a.length;e+=1){var f=I.OBJECT(a[e]);Array.prototype.push.apply(c,f);b+=f.length;d.push(b)}if(0===c.length)return[0,0];e=[];b=1+Math.floor(Math.log(b)/Math.log(2))/8|0;f=[void 0,I.BYTE,I.USHORT,I.UINT24,I.ULONG][b];
for(var m=0;m<d.length;m+=1){var h=f(d[m]);Array.prototype.push.apply(e,h)}return Array.prototype.concat(I.Card16(a.length),I.OffSize(b),e,c)};O.INDEX=function(a){return I.INDEX(a).length};I.DICT=function(a){for(var b=[],d=Object.keys(a),c=d.length,e=0;e<c;e+=1){var f=parseInt(d[e],0),m=a[f];b=(b=b.concat(I.OPERAND(m.value,m.type))).concat(I.OPERATOR(f))}return b};O.DICT=function(a){return I.DICT(a).length};I.OPERATOR=function(a){return 1200>a?[a]:[12,a-1200]};I.OPERAND=function(a,b){var d=[];if(Array.isArray(b))for(var c=
0;c<b.length;c+=1)R.argument(a.length===b.length,"Not enough arguments given for type"+b),d=d.concat(I.OPERAND(a[c],b[c]));else if("SID"===b)d=d.concat(I.NUMBER(a));else if("offset"===b)d=d.concat(I.NUMBER32(a));else if("number"===b)d=d.concat(I.NUMBER(a));else{if("real"!==b)throw Error("Unknown operand type "+b);d=d.concat(I.REAL(a))}return d};I.OP=I.BYTE;O.OP=O.BYTE;var hb="function"==typeof WeakMap&&new WeakMap;I.CHARSTRING=function(a){if(hb){var b=hb.get(a);if(void 0!==b)return b}b=[];for(var d=
a.length,c=0;c<d;c+=1){var e=a[c];b=b.concat(I[e.type](e.value))}return hb&&hb.set(a,b),b};O.CHARSTRING=function(a){return I.CHARSTRING(a).length};I.OBJECT=function(a){var b=I[a.type];return R.argument(void 0!==b,"No encoding function for type "+a.type),b(a.value)};O.OBJECT=function(a){var b=O[a.type];return R.argument(void 0!==b,"No sizeOf function for type "+a.type),b(a.value)};I.TABLE=function(a){for(var b=[],d=a.fields.length,c=[],e=[],f=0;f<d;f+=1){var m=a.fields[f],h=I[m.type];R.argument(void 0!==
h,"No encoding function for field type "+m.type+" ("+m.name+")");var k=a[m.name];void 0===k&&(k=m.value);h=h(k);"TABLE"===m.type?(e.push(b.length),b=b.concat([0,0]),c.push(h)):b=b.concat(h)}for(d=0;d<c.length;d+=1)f=e[d],m=b.length,R.argument(65536>m,"Table "+a.tableName+" too big."),b[f]=m>>8,b[f+1]=255&m,b=b.concat(c[d]);return b};O.TABLE=function(a){for(var b=0,d=a.fields.length,c=0;c<d;c+=1){var e=a.fields[c],f=O[e.type];R.argument(void 0!==f,"No sizeOf function for field type "+e.type+" ("+e.name+
")");var m=a[e.name];void 0===m&&(m=e.value);b+=f(m);"TABLE"===e.type&&(b+=2)}return b};I.RECORD=I.TABLE;O.RECORD=O.TABLE;I.LITERAL=function(a){return a};O.LITERAL=function(a){return a.length};w.prototype.encode=function(){return I.TABLE(this)};w.prototype.sizeOf=function(){return O.TABLE(this)};var N={Table:w,Record:w,Coverage:(A.prototype=Object.create(w.prototype)).constructor=A,ScriptList:(E.prototype=Object.create(w.prototype)).constructor=E,FeatureList:(K.prototype=Object.create(w.prototype)).constructor=
K,LookupList:(H.prototype=Object.create(w.prototype)).constructor=H,ushortList:C,tableList:p,recordList:q},Lc={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};x.prototype.parseByte=function(){var a=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a};x.prototype.parseChar=function(){var a=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a};x.prototype.parseCard8=x.prototype.parseByte;x.prototype.parseCard16=x.prototype.parseUShort=
function(){var a=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a};x.prototype.parseSID=x.prototype.parseUShort;x.prototype.parseOffset16=x.prototype.parseUShort;x.prototype.parseShort=function(){var a=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a};x.prototype.parseF2Dot14=function(){var a=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,a};x.prototype.parseOffset32=x.prototype.parseULong=
function(){var a=T(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a};x.prototype.parseFixed=function(){var a=Q(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a};x.prototype.parseString=function(a){var b=this.data,d=this.offset+this.relativeOffset,c="";this.relativeOffset+=a;for(var e=0;e<a;e++)c+=String.fromCharCode(b.getUint8(d+e));return c};x.prototype.parseTag=function(){return this.parseString(4)};x.prototype.parseLongDateTime=function(){var a=
T(this.data,this.offset+this.relativeOffset+4);return a-=2082844800,this.relativeOffset+=8,a};x.prototype.parseVersion=function(a){var b=P(this.data,this.offset+this.relativeOffset),d=P(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===a&&(a=4096),b+d/a/10};x.prototype.skip=function(a,b){void 0===b&&(b=1);this.relativeOffset+=Lc[a]*b};x.prototype.parseULongList=function(a){void 0===a&&(a=this.parseULong());for(var b=Array(a),d=this.data,c=this.offset+this.relativeOffset,
e=0;e<a;e++)b[e]=d.getUint32(c),c+=4;return this.relativeOffset+=4*a,b};x.prototype.parseOffset16List=x.prototype.parseUShortList=function(a){void 0===a&&(a=this.parseUShort());for(var b=Array(a),d=this.data,c=this.offset+this.relativeOffset,e=0;e<a;e++)b[e]=d.getUint16(c),c+=2;return this.relativeOffset+=2*a,b};x.prototype.parseShortList=function(a){for(var b=Array(a),d=this.data,c=this.offset+this.relativeOffset,e=0;e<a;e++)b[e]=d.getInt16(c),c+=2;return this.relativeOffset+=2*a,b};x.prototype.parseByteList=
function(a){for(var b=Array(a),d=this.data,c=this.offset+this.relativeOffset,e=0;e<a;e++)b[e]=d.getUint8(c++);return this.relativeOffset+=a,b};x.prototype.parseList=function(a,b){b||(b=a,a=this.parseUShort());for(var d=Array(a),c=0;c<a;c++)d[c]=b.call(this);return d};x.prototype.parseList32=function(a,b){b||(b=a,a=this.parseULong());for(var d=Array(a),c=0;c<a;c++)d[c]=b.call(this);return d};x.prototype.parseRecordList=function(a,b){b||(b=a,a=this.parseUShort());for(var d=Array(a),c=Object.keys(b),
e=0;e<a;e++){for(var f={},m=0;m<c.length;m++){var h=c[m];f[h]=b[h].call(this)}d[e]=f}return d};x.prototype.parseRecordList32=function(a,b){b||(b=a,a=this.parseULong());for(var d=Array(a),c=Object.keys(b),e=0;e<a;e++){for(var f={},m=0;m<c.length;m++){var h=c[m];f[h]=b[h].call(this)}d[e]=f}return d};x.prototype.parseStruct=function(a){if("function"==typeof a)return a.call(this);for(var b=Object.keys(a),d={},c=0;c<b.length;c++){var e=b[c];d[e]=a[e].call(this)}return d};x.prototype.parseValueRecord=function(a){if(void 0===
a&&(a=this.parseUShort()),0!==a){var b={};return 1&a&&(b.xPlacement=this.parseShort()),2&a&&(b.yPlacement=this.parseShort()),4&a&&(b.xAdvance=this.parseShort()),8&a&&(b.yAdvance=this.parseShort()),16&a&&(b.xPlaDevice=void 0,this.parseShort()),32&a&&(b.yPlaDevice=void 0,this.parseShort()),64&a&&(b.xAdvDevice=void 0,this.parseShort()),128&a&&(b.yAdvDevice=void 0,this.parseShort()),b}};x.prototype.parseValueRecordList=function(){for(var a=this.parseUShort(),b=this.parseUShort(),d=Array(b),c=0;c<b;c++)d[c]=
this.parseValueRecord(a);return d};x.prototype.parsePointer=function(a){var b=this.parseOffset16();if(0<b)return(new x(this.data,this.offset+b)).parseStruct(a)};x.prototype.parsePointer32=function(a){var b=this.parseOffset32();if(0<b)return(new x(this.data,this.offset+b)).parseStruct(a)};x.prototype.parseListOfLists=function(a){for(var b=this.parseOffset16List(),d=b.length,c=this.relativeOffset,e=Array(d),f=0;f<d;f++){var m=b[f];if(0!==m)if(this.relativeOffset=m,a){for(var h=this.parseOffset16List(),
k=Array(h.length),l=0;l<h.length;l++)this.relativeOffset=m+h[l],k[l]=a.call(this);e[f]=k}else e[f]=this.parseUShortList();else e[f]=void 0}return this.relativeOffset=c,e};x.prototype.parseCoverage=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort(),d=this.parseUShort();if(1===b)return{format:1,glyphs:this.parseUShortList(d)};if(2!==b)throw Error("0x"+a.toString(16)+": Coverage format must be 1 or 2.");a=Array(d);for(b=0;b<d;b++)a[b]={start:this.parseUShort(),end:this.parseUShort(),
index:this.parseUShort()};return{format:2,ranges:a}};x.prototype.parseClassDef=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();if(1===b)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===b)return{format:2,ranges:this.parseRecordList({start:x.uShort,end:x.uShort,classId:x.uShort})};throw Error("0x"+a.toString(16)+": ClassDef format must be 1 or 2.");};x.list=function(a,b){return function(){return this.parseList(a,b)}};x.list32=function(a,b){return function(){return this.parseList32(a,
b)}};x.recordList=function(a,b){return function(){return this.parseRecordList(a,b)}};x.recordList32=function(a,b){return function(){return this.parseRecordList32(a,b)}};x.pointer=function(a){return function(){return this.parsePointer(a)}};x.pointer32=function(a){return function(){return this.parsePointer32(a)}};x.tag=x.prototype.parseTag;x.byte=x.prototype.parseByte;x.uShort=x.offset16=x.prototype.parseUShort;x.uShortList=x.prototype.parseUShortList;x.uLong=x.offset32=x.prototype.parseULong;x.uLongList=
x.prototype.parseULongList;x.struct=x.prototype.parseStruct;x.coverage=x.prototype.parseCoverage;x.classDef=x.prototype.parseClassDef;var nc={reserved:x.uShort,reqFeatureIndex:x.uShort,featureIndexes:x.uShortList};x.prototype.parseScriptList=function(){return this.parsePointer(x.recordList({tag:x.tag,script:x.pointer({defaultLangSys:x.pointer(nc),langSysRecords:x.recordList({tag:x.tag,langSys:x.pointer(nc)})})}))||[]};x.prototype.parseFeatureList=function(){return this.parsePointer(x.recordList({tag:x.tag,
feature:x.pointer({featureParams:x.offset16,lookupListIndexes:x.uShortList})}))||[]};x.prototype.parseLookupList=function(a){return this.parsePointer(x.list(x.pointer(function(){var b=this.parseUShort();R.argument(1<=b&&9>=b,"GPOS/GSUB lookup type "+b+" unknown.");var d=this.parseUShort(),c=16&d;return{lookupType:b,lookupFlag:d,subtables:this.parseList(x.pointer(a[b])),markFilteringSet:c?this.parseUShort():void 0}})))||[]};x.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var a=
this.parseUShort(),b=this.parseUShort();return R.argument(1===a&&1>b,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:x.offset32,featureTableSubstitutionOffset:x.offset32})})||[]};var L={getByte:F,getCard8:F,getUShort:P,getCard16:P,getShort:function(a,b){return a.getInt16(b,!1)},getULong:T,getFixed:Q,getTag:function(a,b){for(var d="",c=b;c<b+4;c+=1)d+=String.fromCharCode(a.getInt8(c));return d},getOffset:function(a,b,d){for(var c=0,e=0;e<d;e+=1)c<<=8,c+=a.getUint8(b+
e);return c},getBytes:function(a,b,d){for(var c=[];b<d;b+=1)c.push(a.getUint8(b));return c},bytesToString:function(a){for(var b="",d=0;d<a.length;d+=1)b+=String.fromCharCode(a[d]);return b},Parser:x},cc={parse:function(a,b){var d={};d.version=L.getUShort(a,b);R.argument(0===d.version,"cmap table version should be 0.");d.numTables=L.getUShort(a,b+2);for(var c=-1,e=d.numTables-1;0<=e;--e){var f=L.getUShort(a,b+4+8*e),m=L.getUShort(a,b+4+8*e+2);if(3===f&&(0===m||1===m||10===m)||0===f&&(0===m||1===m||
2===m||3===m||4===m)){c=L.getULong(a,b+4+8*e+4);break}}if(-1===c)throw Error("No valid cmap sub-tables found.");e=new L.Parser(a,b+c);if(d.format=e.parseUShort(),12===d.format)!function(a,b){var d;b.parseUShort();a.length=b.parseULong();a.language=b.parseULong();a.groupCount=d=b.parseULong();a.glyphIndexMap={};for(var c=0;c<d;c+=1)for(var e=b.parseULong(),f=b.parseULong(),m=b.parseULong();e<=f;e+=1)a.glyphIndexMap[e]=m,m++}(d,e);else{if(4!==d.format)throw Error("Only format 4 and 12 cmap tables are supported (found format "+
d.format+").");!function(a,b,d,c,e){var f;a.length=b.parseUShort();a.language=b.parseUShort();a.segCount=f=b.parseUShort()>>1;b.skip("uShort",3);a.glyphIndexMap={};b=new L.Parser(d,c+e+14);var m=new L.Parser(d,c+e+16+2*f),h=new L.Parser(d,c+e+16+4*f),k=new L.Parser(d,c+e+16+6*f);c=c+e+16+8*f;for(e=0;e<f-1;e+=1)for(var l=void 0,B=b.parseUShort(),n=m.parseUShort(),M=h.parseShort(),g=k.parseUShort(),t=n;t<=B;t+=1)0!==g?(c=k.offset+k.relativeOffset-2,c+=g,c+=2*(t-n),0!==(l=L.getUShort(d,c))&&(l=l+M&65535)):
l=t+M&65535,a.glyphIndexMap[t]=l}(d,e,a,b,c)}return d},make:function(a){var b,d=!0;for(b=a.length-1;0<b;--b)if(65535<a.get(b).unicode){console.log("Adding CMAP format 12 (needed!)");d=!1;break}var c=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:d?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:d?12:20}];d||(c=c.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",
type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}]));c=c.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);c=new N.Table("cmap",c);c.segments=[];for(b=0;b<a.length;b+=1){for(var e=a.get(b),f=0;f<e.unicodes.length;f+=1){var m=c;var h=
e.unicodes[f];var k=b;m.segments.push({end:h,start:h,delta:-(h-k),offset:0,glyphIndex:k})}c.segments=c.segments.sort(function(a,b){return a.start-b.start})}c.segments.push({end:65535,start:65535,delta:1,offset:0});m=c.segments.length;h=0;k=[];e=[];f=[];var l=[],n=[];a=[];for(b=0;b<m;b+=1){var g=c.segments[b];65535>=g.end&&65535>=g.start?(k=k.concat({name:"end_"+b,type:"USHORT",value:g.end}),e=e.concat({name:"start_"+b,type:"USHORT",value:g.start}),f=f.concat({name:"idDelta_"+b,type:"SHORT",value:g.delta}),
l=l.concat({name:"idRangeOffset_"+b,type:"USHORT",value:g.offset}),void 0!==g.glyphId&&(n=n.concat({name:"glyph_"+b,type:"USHORT",value:g.glyphId}))):h+=1;d||void 0===g.glyphIndex||(a=(a=(a=a.concat({name:"cmap12Start_"+b,type:"ULONG",value:g.start})).concat({name:"cmap12End_"+b,type:"ULONG",value:g.end})).concat({name:"cmap12Glyph_"+b,type:"ULONG",value:g.glyphIndex}))}(c.segCountX2=2*(m-h),c.searchRange=2*Math.pow(2,Math.floor(Math.log(m-h)/Math.log(2))),c.entrySelector=Math.log(c.searchRange/2)/
Math.log(2),c.rangeShift=c.segCountX2-c.searchRange,c.fields=c.fields.concat(k),c.fields.push({name:"reservedPad",type:"USHORT",value:0}),c.fields=c.fields.concat(e),c.fields=c.fields.concat(f),c.fields=c.fields.concat(l),c.fields=c.fields.concat(n),c.cmap4Length=2*k.length+16+2*e.length+2*f.length+2*l.length+2*n.length,d)||(d=16+4*a.length,c.cmap12Offset=20+c.cmap4Length,c.fields=c.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",
type:"ULONG",value:d},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:a.length/3}]),c.fields=c.fields.concat(a));return c}},cb=".notdef;space;exclam;quotedbl;numbersign;dollar;percent;ampersand;quoteright;parenleft;parenright;asterisk;plus;comma;hyphen;period;slash;zero;one;two;three;four;five;six;seven;eight;nine;colon;semicolon;less;equal;greater;question;at;A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;Q;R;S;T;U;V;W;X;Y;Z;bracketleft;backslash;bracketright;asciicircum;underscore;quoteleft;a;b;c;d;e;f;g;h;i;j;k;l;m;n;o;p;q;r;s;t;u;v;w;x;y;z;braceleft;bar;braceright;asciitilde;exclamdown;cent;sterling;fraction;yen;florin;section;currency;quotesingle;quotedblleft;guillemotleft;guilsinglleft;guilsinglright;fi;fl;endash;dagger;daggerdbl;periodcentered;paragraph;bullet;quotesinglbase;quotedblbase;quotedblright;guillemotright;ellipsis;perthousand;questiondown;grave;acute;circumflex;tilde;macron;breve;dotaccent;dieresis;ring;cedilla;hungarumlaut;ogonek;caron;emdash;AE;ordfeminine;Lslash;Oslash;OE;ordmasculine;ae;dotlessi;lslash;oslash;oe;germandbls;onesuperior;logicalnot;mu;trademark;Eth;onehalf;plusminus;Thorn;onequarter;divide;brokenbar;degree;thorn;threequarters;twosuperior;registered;minus;eth;multiply;threesuperior;copyright;Aacute;Acircumflex;Adieresis;Agrave;Aring;Atilde;Ccedilla;Eacute;Ecircumflex;Edieresis;Egrave;Iacute;Icircumflex;Idieresis;Igrave;Ntilde;Oacute;Ocircumflex;Odieresis;Ograve;Otilde;Scaron;Uacute;Ucircumflex;Udieresis;Ugrave;Yacute;Ydieresis;Zcaron;aacute;acircumflex;adieresis;agrave;aring;atilde;ccedilla;eacute;ecircumflex;edieresis;egrave;iacute;icircumflex;idieresis;igrave;ntilde;oacute;ocircumflex;odieresis;ograve;otilde;scaron;uacute;ucircumflex;udieresis;ugrave;yacute;ydieresis;zcaron;exclamsmall;Hungarumlautsmall;dollaroldstyle;dollarsuperior;ampersandsmall;Acutesmall;parenleftsuperior;parenrightsuperior;266 ff;onedotenleader;zerooldstyle;oneoldstyle;twooldstyle;threeoldstyle;fouroldstyle;fiveoldstyle;sixoldstyle;sevenoldstyle;eightoldstyle;nineoldstyle;commasuperior;threequartersemdash;periodsuperior;questionsmall;asuperior;bsuperior;centsuperior;dsuperior;esuperior;isuperior;lsuperior;msuperior;nsuperior;osuperior;rsuperior;ssuperior;tsuperior;ff;ffi;ffl;parenleftinferior;parenrightinferior;Circumflexsmall;hyphensuperior;Gravesmall;Asmall;Bsmall;Csmall;Dsmall;Esmall;Fsmall;Gsmall;Hsmall;Ismall;Jsmall;Ksmall;Lsmall;Msmall;Nsmall;Osmall;Psmall;Qsmall;Rsmall;Ssmall;Tsmall;Usmall;Vsmall;Wsmall;Xsmall;Ysmall;Zsmall;colonmonetary;onefitted;rupiah;Tildesmall;exclamdownsmall;centoldstyle;Lslashsmall;Scaronsmall;Zcaronsmall;Dieresissmall;Brevesmall;Caronsmall;Dotaccentsmall;Macronsmall;figuredash;hypheninferior;Ogoneksmall;Ringsmall;Cedillasmall;questiondownsmall;oneeighth;threeeighths;fiveeighths;seveneighths;onethird;twothirds;zerosuperior;foursuperior;fivesuperior;sixsuperior;sevensuperior;eightsuperior;ninesuperior;zeroinferior;oneinferior;twoinferior;threeinferior;fourinferior;fiveinferior;sixinferior;seveninferior;eightinferior;nineinferior;centinferior;dollarinferior;periodinferior;commainferior;Agravesmall;Aacutesmall;Acircumflexsmall;Atildesmall;Adieresissmall;Aringsmall;AEsmall;Ccedillasmall;Egravesmall;Eacutesmall;Ecircumflexsmall;Edieresissmall;Igravesmall;Iacutesmall;Icircumflexsmall;Idieresissmall;Ethsmall;Ntildesmall;Ogravesmall;Oacutesmall;Ocircumflexsmall;Otildesmall;Odieresissmall;OEsmall;Oslashsmall;Ugravesmall;Uacutesmall;Ucircumflexsmall;Udieresissmall;Yacutesmall;Thornsmall;Ydieresissmall;001.000;001.001;001.002;001.003;Black;Bold;Book;Light;Medium;Regular;Roman;Semibold".split(";"),
Mc="                                space exclam quotedbl numbersign dollar percent ampersand quoteright parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore quoteleft a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde                                   exclamdown cent sterling fraction yen florin section currency quotesingle quotedblleft guillemotleft guilsinglleft guilsinglright fi fl  endash dagger daggerdbl periodcentered  paragraph bullet quotesinglbase quotedblbase quotedblright guillemotright ellipsis perthousand  questiondown  grave acute circumflex tilde macron breve dotaccent dieresis  ring cedilla  hungarumlaut ogonek caron emdash                 AE  ordfeminine     Lslash Oslash OE ordmasculine      ae    dotlessi   lslash oslash oe germandbls".split(" "),
Nc="                                space exclamsmall Hungarumlautsmall  dollaroldstyle dollarsuperior ampersandsmall Acutesmall parenleftsuperior parenrightsuperior twodotenleader onedotenleader comma hyphen period fraction zerooldstyle oneoldstyle twooldstyle threeoldstyle fouroldstyle fiveoldstyle sixoldstyle sevenoldstyle eightoldstyle nineoldstyle colon semicolon commasuperior threequartersemdash periodsuperior questionsmall  asuperior bsuperior centsuperior dsuperior esuperior   isuperior   lsuperior msuperior nsuperior osuperior   rsuperior ssuperior tsuperior  ff fi fl ffi ffl parenleftinferior  parenrightinferior Circumflexsmall hyphensuperior Gravesmall Asmall Bsmall Csmall Dsmall Esmall Fsmall Gsmall Hsmall Ismall Jsmall Ksmall Lsmall Msmall Nsmall Osmall Psmall Qsmall Rsmall Ssmall Tsmall Usmall Vsmall Wsmall Xsmall Ysmall Zsmall colonmonetary onefitted rupiah Tildesmall                                   exclamdownsmall centoldstyle Lslashsmall   Scaronsmall Zcaronsmall Dieresissmall Brevesmall Caronsmall  Dotaccentsmall   Macronsmall   figuredash hypheninferior   Ogoneksmall Ringsmall Cedillasmall    onequarter onehalf threequarters questiondownsmall oneeighth threeeighths fiveeighths seveneighths onethird twothirds   zerosuperior onesuperior twosuperior threesuperior foursuperior fivesuperior sixsuperior sevensuperior eightsuperior ninesuperior zeroinferior oneinferior twoinferior threeinferior fourinferior fiveinferior sixinferior seveninferior eightinferior nineinferior centinferior dollarinferior periodinferior commainferior Agravesmall Aacutesmall Acircumflexsmall Atildesmall Adieresissmall Aringsmall AEsmall Ccedillasmall Egravesmall Eacutesmall Ecircumflexsmall Edieresissmall Igravesmall Iacutesmall Icircumflexsmall Idieresissmall Ethsmall Ntildesmall Ogravesmall Oacutesmall Ocircumflexsmall Otildesmall Odieresissmall OEsmall Oslashsmall Ugravesmall Uacutesmall Ucircumflexsmall Udieresissmall Yacutesmall Thornsmall Ydieresissmall".split(" "),
Fa=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(" ");
W.prototype.charToGlyphIndex=function(a){a=a.codePointAt(0);var b=this.font.glyphs;if(b)for(var d=0;d<b.length;d+=1)for(var c=b.get(d),e=0;e<c.unicodes.length;e+=1)if(c.unicodes[e]===a)return d;return null};ca.prototype.charToGlyphIndex=function(a){return this.cmap.glyphIndexMap[a.codePointAt(0)]||0};Z.prototype.charToGlyphIndex=function(a){a=a.codePointAt(0);return this.charset.indexOf(this.encoding[a])};S.prototype.nameToGlyphIndex=function(a){return this.names.indexOf(a)};S.prototype.glyphIndexToName=
function(a){return this.names[a]};var Ga={line:function(a,b,d,c,e){a.beginPath();a.moveTo(b,d);a.lineTo(c,e);a.stroke()}};V.prototype.bindConstructorValues=function(a){var b,d;this.index=a.index||0;this.name=a.name||null;this.unicode=a.unicode||void 0;this.unicodes=a.unicodes||void 0!==a.unicode?[a.unicode]:[];a.xMin&&(this.xMin=a.xMin);a.yMin&&(this.yMin=a.yMin);a.xMax&&(this.xMax=a.xMax);a.yMax&&(this.yMax=a.yMax);a.advanceWidth&&(this.advanceWidth=a.advanceWidth);Object.defineProperty(this,"path",
(b=a.path,d=b||new r,{configurable:!0,get:function(){return"function"==typeof d&&(d=d()),d},set:function(a){d=a}}))};V.prototype.addUnicode=function(a){0===this.unicodes.length&&(this.unicode=a);this.unicodes.push(a)};V.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};V.prototype.getPath=function(a,b,d,c,e){var f;a=void 0!==a?a:0;b=void 0!==b?b:0;d=void 0!==d?d:72;c||(c={});var m=c.xScale,h=c.yScale;(c.hinting&&e&&e.hinting&&(f=this.path&&e.hinting.exec(this,d)),f)?(c=e.hinting.getCommands(f),
a=Math.round(a),b=Math.round(b),m=h=1):(c=this.path.commands,d*=1/this.path.unitsPerEm,void 0===m&&(m=d),void 0===h&&(h=d));d=new r;for(e=0;e<c.length;e+=1)f=c[e],"M"===f.type?d.moveTo(a+f.x*m,b+-f.y*h):"L"===f.type?d.lineTo(a+f.x*m,b+-f.y*h):"Q"===f.type?d.quadraticCurveTo(a+f.x1*m,b+-f.y1*h,a+f.x*m,b+-f.y*h):"C"===f.type?d.curveTo(a+f.x1*m,b+-f.y1*h,a+f.x2*m,b+-f.y2*h,a+f.x*m,b+-f.y*h):"Z"===f.type&&d.closePath();return d};V.prototype.getContours=function(){if(void 0===this.points)return[];for(var a=
[],b=[],d=0;d<this.points.length;d+=1){var c=this.points[d];b.push(c);c.lastPointOfContour&&(a.push(b),b=[])}return R.argument(0===b.length,"There are still points left in the current contour."),a};V.prototype.getMetrics=function(){for(var a=this.path.commands,b=[],d=[],c=0;c<a.length;c+=1){var e=a[c];"Z"!==e.type&&(b.push(e.x),d.push(e.y));"Q"!==e.type&&"C"!==e.type||(b.push(e.x1),d.push(e.y1));"C"===e.type&&(b.push(e.x2),d.push(e.y2))}a={xMin:Math.min.apply(null,b),yMin:Math.min.apply(null,d),xMax:Math.max.apply(null,
b),yMax:Math.max.apply(null,d),leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a};V.prototype.draw=function(a,b,d,c,e){this.getPath(b,d,c,e).draw(a)};V.prototype.drawPoints=function(a,b,d,c){function e(b,d,c,e){var f=2*Math.PI;a.beginPath();for(var m=0;m<b.length;m+=1)a.moveTo(d+b[m].x*e,c+b[m].y*e),
a.arc(d+b[m].x*e,c+b[m].y*e,2,0,f,!1);a.closePath();a.fill()}b=void 0!==b?b:0;d=void 0!==d?d:0;c=1/this.path.unitsPerEm*(void 0!==c?c:24);for(var f=[],m=[],h=this.path,k=0;k<h.commands.length;k+=1){var l=h.commands[k];void 0!==l.x&&f.push({x:l.x,y:-l.y});void 0!==l.x1&&m.push({x:l.x1,y:-l.y1});void 0!==l.x2&&m.push({x:l.x2,y:-l.y2})}a.fillStyle="blue";e(f,b,d,c);a.fillStyle="red";e(m,b,d,c)};V.prototype.drawMetrics=function(a,b,d,c){b=void 0!==b?b:0;d=void 0!==d?d:0;c=1/this.path.unitsPerEm*(void 0!==
c?c:24);a.lineWidth=1;a.strokeStyle="black";Ga.line(a,b,-1E4,b,1E4);Ga.line(a,-1E4,d,1E4,d);var e=this.xMin||0,f=this.yMin||0,m=this.xMax||0,h=this.yMax||0,k=this.advanceWidth||0;a.strokeStyle="blue";Ga.line(a,b+e*c,-1E4,b+e*c,1E4);Ga.line(a,b+m*c,-1E4,b+m*c,1E4);Ga.line(a,-1E4,d+-f*c,1E4,d+-f*c);Ga.line(a,-1E4,d+-h*c,1E4,d+-h*c);a.strokeStyle="green";Ga.line(a,b+k*c,-1E4,b+k*c,1E4)};ja.prototype.get=function(a){return"function"==typeof this.glyphs[a]&&(this.glyphs[a]=this.glyphs[a]()),this.glyphs[a]};
ja.prototype.push=function(a,b){this.glyphs[a]=b;this.length++};var Ma={GlyphSet:ja,glyphLoader:function(a,b){return new V({index:b,font:a})},ttfGlyphLoader:function(a,b,d,c,e,f){return function(){var m=new V({index:b,font:a});return m.path=function(){d(m,c,e);var b=f(a.glyphs,m);return b.unitsPerEm=a.unitsPerEm,b},ia(m,"xMin","_xMin"),ia(m,"xMax","_xMax"),ia(m,"yMin","_yMin"),ia(m,"yMax","_yMax"),m}},cffGlyphLoader:function(a,b,d,c){return function(){var e=new V({index:b,font:a});return e.path=function(){var b=
d(a,e,c);return b.unitsPerEm=a.unitsPerEm,b},e}}},Fb=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,
type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:"real real real real real real".split(" "),value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,
type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Eb=
[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],jc={parse:function(a,b,d){d.tables.cff={};var c,e=ea(a,ea(a,((c={}).formatMajor=L.getCard8(a,b),c.formatMinor=L.getCard8(a,b+1),c.size=L.getCard8(a,b+2),c.offsetSize=L.getCard8(a,b+3),c.startOffset=b,c.endOffset=b+4,c).endOffset,L.bytesToString).endOffset);c=ea(a,e.endOffset,L.bytesToString);var f=ea(a,c.endOffset);d.gsubrs=f.objects;d.gsubrsBias=la(d.gsubrs);
e=va(a,b,e.objects,c.objects);if(1!==e.length)throw Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+e.length);e=e[0];if((d.tables.cff.topDict=e)._privateDict&&(d.defaultWidthX=e._privateDict.defaultWidthX,d.nominalWidthX=e._privateDict.nominalWidthX),void 0!==e.ros[0]&&void 0!==e.ros[1]&&(d.isCIDFont=!0),d.isCIDFont){f=e.fdArray;var m=e.fdSelect;if(0===f||0===m)throw Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var h=
va(a,b,ea(a,f+=b).objects,c.objects);e._fdArray=h;e._fdSelect=function(a,b,d,c){var e,f=[];a=new L.Parser(a,b);b=a.parseCard8();if(0===b)for(var m=0;m<d;m++){if(c<=(e=a.parseCard8()))throw Error("CFF table CID Font FDSelect has bad FD index value "+e+" (FD count "+c+")");f.push(e)}else{if(3!==b)throw Error("CFF Table CID Font FDSelect table has unsupported format "+b);b=a.parseCard16();var h=a.parseCard16();if(0!==h)throw Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);
for(var k=0;k<b;k++){if(e=a.parseCard8(),m=a.parseCard16(),c<=e)throw Error("CFF table CID Font FDSelect has bad FD index value "+e+" (FD count "+c+")");if(d<m)throw Error("CFF Table CID Font FDSelect format 3 range has bad GID "+m);for(;h<m;h++)f.push(e);h=m}if(m!==d)throw Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+m);}return f}(a,m+b,d.numGlyphs,h.length)}f=b+e.private[1];m=X(a,f,e.private[0],c.objects);(d.defaultWidthX=m.defaultWidthX,d.nominalWidthX=m.nominalWidthX,
0!==m.subrs)?(f=ea(a,f+m.subrs),d.subrs=f.objects,d.subrsBias=la(d.subrs)):(d.subrs=[],d.subrsBias=0);f=ea(a,b+e.charStrings);d.nGlyphs=f.objects.length;c=function(a,b,d,c){var e;a=new L.Parser(a,b);--d;b=[".notdef"];var f=a.parseCard8();if(0===f)for(e=0;e<d;e+=1)f=a.parseSID(),b.push(da(c,f));else if(1===f)for(;b.length<=d;){f=a.parseSID();e=a.parseCard8();for(var m=0;m<=e;m+=1)b.push(da(c,f)),f+=1}else{if(2!==f)throw Error("Unknown charset format "+f);for(;b.length<=d;)for(f=a.parseSID(),e=a.parseCard16(),
m=0;m<=e;m+=1)b.push(da(c,f)),f+=1}return b}(a,b+e.charset,d.nGlyphs,c.objects);0===e.encoding?d.cffEncoding=new Z(Mc,c):1===e.encoding?d.cffEncoding=new Z(Nc,c):d.cffEncoding=function(a,b,d){var c={};a=new L.Parser(a,b);b=a.parseCard8();if(0===b)for(var e=a.parseCard8(),f=0;f<e;f+=1)c[b=a.parseCard8()]=f;else{if(1!==b)throw Error("Unknown encoding format "+b);e=a.parseCard8();b=1;for(f=0;f<e;f+=1)for(var m=a.parseCard8(),h=a.parseCard8(),k=m;k<=m+h;k+=1)c[k]=b,b+=1}return new Z(c,d)}(a,b+e.encoding,
c);d.encoding=d.encoding||d.cffEncoding;d.glyphs=new Ma.GlyphSet(d);for(a=0;a<d.nGlyphs;a+=1)d.glyphs.push(a,Ma.cffGlyphLoader(d,a,ka,f.objects[a]))},make:function(a,b){var d=new N.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),c=1/b.unitsPerEm;c={version:b.version,
fullName:b.fullName,familyName:b.familyName,weight:b.weightName,fontBBox:b.fontBBox||[0,0,0,0],fontMatrix:[c,0,0,c,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]};for(var e=[],f=1;f<a.length;f+=1){var m=a.get(f);e.push(m.name)}m=[];d.header=new N.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]);d.nameIndex=function(a){var b=new N.Record("Name INDEX",[{name:"names",type:"INDEX",
value:[]}]);b.names=[];for(var d=0;d<a.length;d+=1)b.names.push({name:"name_"+d,type:"NAME",value:a[d]});return b}([b.postScriptName]);var h,k;b=aa(c,m);d.topDictIndex=$a(b);d.globalSubrIndex=new N.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]);d.charsets=function(a,b){for(var d=new N.Record("Charsets",[{name:"format",type:"Card8",value:0}]),c=0;c<a.length;c+=1){var e=Ca(a[c],b);d.fields.push({name:"glyph_"+c,type:"SID",value:e})}return d}(e,m);d.charStringsIndex=function(a){for(var b=
new N.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),d=0;d<a.length;d+=1){var c=a.get(d);var e=[];var f=c.path;e.push({name:"width",type:"NUMBER",value:c.advanceWidth});for(var m=0,h=0,k=0;k<f.commands.length;k+=1){var l=f.commands[k];"Q"===l.type&&(l={type:"C",x:l.x,y:l.y,x1:1/3*m+2/3*l.x1,y1:1/3*h+2/3*l.y1,x2:1/3*l.x+2/3*l.x1,y2:1/3*l.y+2/3*l.y1});if("M"===l.type)m=Math.round(l.x-m),h=Math.round(l.y-h),e.push({name:"dx",type:"NUMBER",value:m}),e.push({name:"dy",type:"NUMBER",
value:h}),e.push({name:"rmoveto",type:"OP",value:21}),m=Math.round(l.x),h=Math.round(l.y);else if("L"===l.type)m=Math.round(l.x-m),h=Math.round(l.y-h),e.push({name:"dx",type:"NUMBER",value:m}),e.push({name:"dy",type:"NUMBER",value:h}),e.push({name:"rlineto",type:"OP",value:5}),m=Math.round(l.x),h=Math.round(l.y);else if("C"===l.type){var B=Math.round(l.x1-m),n=Math.round(l.y1-h),g=Math.round(l.x2-l.x1),M=Math.round(l.y2-l.y1);m=Math.round(l.x-l.x2);h=Math.round(l.y-l.y2);e.push({name:"dx1",type:"NUMBER",
value:B});e.push({name:"dy1",type:"NUMBER",value:n});e.push({name:"dx2",type:"NUMBER",value:g});e.push({name:"dy2",type:"NUMBER",value:M});e.push({name:"dx",type:"NUMBER",value:m});e.push({name:"dy",type:"NUMBER",value:h});e.push({name:"rrcurveto",type:"OP",value:8});m=Math.round(l.x);h=Math.round(l.y)}}e=(e.push({name:"endchar",type:"OP",value:14}),e);b.charStrings.push({name:c.name,type:"CHARSTRING",value:e})}return b}(a);d.privateDict=(h={},(k=new N.Record("Private DICT",[{name:"dict",type:"DICT",
value:{}}])).dict=Da(Eb,h,m),k);d.stringIndex=function(a){var b=new N.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);b.strings=[];for(var d=0;d<a.length;d+=1)b.strings.push({name:"string_"+d,type:"STRING",value:a[d]});return b}(m);a=d.header.sizeOf()+d.nameIndex.sizeOf()+d.topDictIndex.sizeOf()+d.stringIndex.sizeOf()+d.globalSubrIndex.sizeOf();return c.charset=a,c.encoding=0,c.charStrings=c.charset+d.charsets.sizeOf(),c.private[1]=c.charStrings+d.charStringsIndex.sizeOf(),b=aa(c,
m),d.topDictIndex=$a(b),d}},dc={parse:function(a,b){var d={};a=new L.Parser(a,b);return d.version=a.parseVersion(),d.fontRevision=Math.round(1E3*a.parseFixed())/1E3,d.checkSumAdjustment=a.parseULong(),d.magicNumber=a.parseULong(),R.argument(1594834165===d.magicNumber,"Font header has wrong magic number."),d.flags=a.parseUShort(),d.unitsPerEm=a.parseUShort(),d.created=a.parseLongDateTime(),d.modified=a.parseLongDateTime(),d.xMin=a.parseShort(),d.yMin=a.parseShort(),d.xMax=a.parseShort(),d.yMax=a.parseShort(),
d.macStyle=a.parseUShort(),d.lowestRecPPEM=a.parseUShort(),d.fontDirectionHint=a.parseShort(),d.indexToLocFormat=a.parseShort(),d.glyphDataFormat=a.parseShort(),d},make:function(a){var b=Math.round((new Date).getTime()/1E3)+2082844800,d=b;return a.createdTimestamp&&(d=a.createdTimestamp+2082844800),new N.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},
{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1E3},{name:"created",type:"LONGDATETIME",value:d},{name:"modified",type:"LONGDATETIME",value:b},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",
type:"SHORT",value:0}],a)}},ec={parse:function(a,b){var d={};a=new L.Parser(a,b);return d.version=a.parseVersion(),d.ascender=a.parseShort(),d.descender=a.parseShort(),d.lineGap=a.parseShort(),d.advanceWidthMax=a.parseUShort(),d.minLeftSideBearing=a.parseShort(),d.minRightSideBearing=a.parseShort(),d.xMaxExtent=a.parseShort(),d.caretSlopeRise=a.parseShort(),d.caretSlopeRun=a.parseShort(),d.caretOffset=a.parseShort(),a.relativeOffset+=8,d.metricDataFormat=a.parseShort(),d.numberOfHMetrics=a.parseUShort(),
d},make:function(a){return new N.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",
type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],a)}},kc={parse:function(a,b,d,c,e){var f,h;a=new L.Parser(a,b);for(b=0;b<c;b+=1){b<d&&(f=a.parseUShort(),h=a.parseShort());var m=e.get(b);m.advanceWidth=f;m.leftSideBearing=h}},make:function(a){for(var b=new N.Table("hmtx",
[]),d=0;d<a.length;d+=1){var c=a.get(d),e=c.leftSideBearing||0;b.fields.push({name:"advanceWidth_"+d,type:"USHORT",value:c.advanceWidth||0});b.fields.push({name:"leftSideBearing_"+d,type:"SHORT",value:e})}return b}},fc={make:function(a){for(var b=new N.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:a.length}]),d="",c=12+4*a.length,e=0;e<a.length;++e){var f=d.indexOf(a[e]);0>f&&(f=d.length,d+=a[e]);b.fields.push({name:"offset "+
e,type:"USHORT",value:c+f});b.fields.push({name:"length "+e,type:"USHORT",value:a[e].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:d}),b},parse:function(a,b){var d=new L.Parser(a,b),c=d.parseULong();R.argument(1===c,"Unsupported ltag table version.");d.skip("uLong",1);c=d.parseULong();for(var e=[],f=0;f<c;f++){for(var h="",m=b+d.parseUShort(),k=d.parseUShort(),l=m;l<m+k;++l)h+=String.fromCharCode(a.getInt8(l));e.push(h)}return e}},gc={parse:function(a,b){var d={};a=new L.Parser(a,
b);return d.version=a.parseVersion(),d.numGlyphs=a.parseUShort(),1===d.version&&(d.maxPoints=a.parseUShort(),d.maxContours=a.parseUShort(),d.maxCompositePoints=a.parseUShort(),d.maxCompositeContours=a.parseUShort(),d.maxZones=a.parseUShort(),d.maxTwilightPoints=a.parseUShort(),d.maxStorage=a.parseUShort(),d.maxFunctionDefs=a.parseUShort(),d.maxInstructionDefs=a.parseUShort(),d.maxStackElements=a.parseUShort(),d.maxSizeOfInstructions=a.parseUShort(),d.maxComponentElements=a.parseUShort(),d.maxComponentDepth=
a.parseUShort()),d},make:function(a){return new N.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:a}])}},oc="copyright fontFamily fontSubfamily uniqueID fullName version postScriptName trademark manufacturer designer description manufacturerURL designerURL license licenseURL reserved preferredFamily preferredSubfamily compatibleFullName sampleText postScriptFindFontName wwsFamily wwsSubfamily".split(" "),pc={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",
7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",
68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Oc={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,
13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,
138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},qc={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",
5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",
3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",
1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",
4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Bc={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",
7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ac={15:"x-mac-icelandic",17:"x-mac-turkish",
18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},ic={parse:function(a,b,d){var c={};b=new L.Parser(a,b);for(var e=b.parseUShort(),f=b.parseUShort(),h=b.offset+b.parseUShort(),m=0;m<f;m++){var k=b.parseUShort(),l=b.parseUShort(),n=b.parseUShort(),g=b.parseUShort();g=oc[g]||g;var B=b.parseUShort(),t=b.parseUShort();a:{switch(k){case 0:if(65535===
n){var r="und";break a}if(d){r=d[n];break a}break;case 1:r=pc[n];break a;case 3:r=qc[n];break a}r=void 0}k=Ha(k,l,n);void 0!==k&&void 0!==r&&(k="utf-16"===k?Na.UTF16(a,h+t,B):Na.MACSTRING(a,h+t,B,k))&&(l=c[g],void 0===l&&(l=c[g]={}),l[r]=k)}return 1===e&&b.parseUShort(),c},make:function(a,b){var d,c=[],e={},f=Ra(oc);for(m in a){var h=f[m];if(void 0===h&&(h=m),d=parseInt(h),isNaN(d))throw Error('Name table entry "'+m+'" does not exist, see nameTableNames for complete list.');e[d]=a[m];c.push(d)}var m=
Ra(pc);h=Ra(qc);a=[];f=[];for(var k=0;k<c.length;k++){var l=e[d=c[k]],n;for(n in l){var g=l[n],B=1,t=m[n],r=Oc[t],u=Ha(B,r,t);u=I.MACSTRING(g,u);void 0===u&&(B=0,0>(t=b.indexOf(n))&&(t=b.length,b.push(n)),r=4,u=I.UTF16(g));var w=Va(u,f);a.push(wa(B,r,t,d,u.length,w));B=h[n];void 0!==B&&(g=I.UTF16(g),t=Va(g,f),a.push(wa(3,1,B,d,g.length,t)))}}a.sort(function(a,b){return a.platformID-b.platformID||a.encodingID-b.encodingID||a.languageID-b.languageID||a.nameID-b.nameID});b=new N.Table("name",[{name:"format",
type:"USHORT",value:0},{name:"count",type:"USHORT",value:a.length},{name:"stringOffset",type:"USHORT",value:6+12*a.length}]);for(d=0;d<a.length;d++)b.fields.push({name:"record_"+d,type:"RECORD",value:a[d]});return b.fields.push({name:"strings",type:"LITERAL",value:f}),b}},ub=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},
{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},
{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},
{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,
end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},
{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},
{begin:66E3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],qb={parse:function(a,b){var d={};a=new L.Parser(a,b);d.version=a.parseUShort();d.xAvgCharWidth=a.parseShort();d.usWeightClass=a.parseUShort();d.usWidthClass=a.parseUShort();d.fsType=a.parseUShort();d.ySubscriptXSize=a.parseShort();d.ySubscriptYSize=a.parseShort();d.ySubscriptXOffset=a.parseShort();d.ySubscriptYOffset=a.parseShort();d.ySuperscriptXSize=a.parseShort();d.ySuperscriptYSize=a.parseShort();d.ySuperscriptXOffset=a.parseShort();
d.ySuperscriptYOffset=a.parseShort();d.yStrikeoutSize=a.parseShort();d.yStrikeoutPosition=a.parseShort();d.sFamilyClass=a.parseShort();d.panose=[];for(b=0;10>b;b++)d.panose[b]=a.parseByte();return d.ulUnicodeRange1=a.parseULong(),d.ulUnicodeRange2=a.parseULong(),d.ulUnicodeRange3=a.parseULong(),d.ulUnicodeRange4=a.parseULong(),d.achVendID=String.fromCharCode(a.parseByte(),a.parseByte(),a.parseByte(),a.parseByte()),d.fsSelection=a.parseUShort(),d.usFirstCharIndex=a.parseUShort(),d.usLastCharIndex=
a.parseUShort(),d.sTypoAscender=a.parseShort(),d.sTypoDescender=a.parseShort(),d.sTypoLineGap=a.parseShort(),d.usWinAscent=a.parseUShort(),d.usWinDescent=a.parseUShort(),1<=d.version&&(d.ulCodePageRange1=a.parseULong(),d.ulCodePageRange2=a.parseULong()),2<=d.version&&(d.sxHeight=a.parseShort(),d.sCapHeight=a.parseShort(),d.usDefaultChar=a.parseUShort(),d.usBreakChar=a.parseUShort(),d.usMaxContent=a.parseUShort()),d},make:function(a){return new N.Table("OS/2",[{name:"version",type:"USHORT",value:3},
{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",
value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",
type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",
value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],a)},unicodeRanges:ub,
getUnicodeRange:function(a){for(var b=0;b<ub.length;b+=1){var d=ub[b];if(a>=d.begin&&a<d.end)return b}return-1}},hc={parse:function(a,b){var d={};a=new L.Parser(a,b);switch(d.version=a.parseVersion(),d.italicAngle=a.parseFixed(),d.underlinePosition=a.parseShort(),d.underlineThickness=a.parseShort(),d.isFixedPitch=a.parseULong(),d.minMemType42=a.parseULong(),d.maxMemType42=a.parseULong(),d.minMemType1=a.parseULong(),d.maxMemType1=a.parseULong(),d.version){case 1:d.names=Fa.slice();break;case 2:d.numberOfGlyphs=
a.parseUShort();d.glyphNameIndex=Array(d.numberOfGlyphs);for(b=0;b<d.numberOfGlyphs;b++)d.glyphNameIndex[b]=a.parseUShort();d.names=[];for(b=0;b<d.numberOfGlyphs;b++)if(d.glyphNameIndex[b]>=Fa.length){var c=a.parseChar();d.names.push(a.parseString(c))}break;case 2.5:for(d.numberOfGlyphs=a.parseUShort(),d.offset=Array(d.numberOfGlyphs),b=0;b<d.numberOfGlyphs;b++)d.offset[b]=a.parseChar()}return d},make:function(){return new N.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",
type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},pa=Array(9);pa[1]=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();return 1===b?{substFormat:1,coverage:this.parsePointer(x.coverage),deltaGlyphId:this.parseUShort()}:
2===b?{substFormat:2,coverage:this.parsePointer(x.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+a.toString(16)+": lookup type 1 format must be 1 or 2.")};pa[2]=function(){var a=this.parseUShort();return R.argument(1===a,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(x.coverage),sequences:this.parseListOfLists()}};pa[3]=function(){var a=this.parseUShort();return R.argument(1===a,"GSUB Alternate Substitution Subtable identifier-format must be 1"),
{substFormat:a,coverage:this.parsePointer(x.coverage),alternateSets:this.parseListOfLists()}};pa[4]=function(){var a=this.parseUShort();return R.argument(1===a,"GSUB ligature table identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(x.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Oa={sequenceIndex:x.uShort,lookupListIndex:x.uShort};pa[5]=function(){var a=this.offset+this.relativeOffset,
b=this.parseUShort();if(1===b)return{substFormat:b,coverage:this.parsePointer(x.coverage),ruleSets:this.parseListOfLists(function(){var a=this.parseUShort(),b=this.parseUShort();return{input:this.parseUShortList(a-1),lookupRecords:this.parseRecordList(b,Oa)}})};if(2===b)return{substFormat:b,coverage:this.parsePointer(x.coverage),classDef:this.parsePointer(x.classDef),classSets:this.parseListOfLists(function(){var a=this.parseUShort(),b=this.parseUShort();return{classes:this.parseUShortList(a-1),lookupRecords:this.parseRecordList(b,
Oa)}})};if(3===b){a=this.parseUShort();var d=this.parseUShort();return{substFormat:b,coverages:this.parseList(a,x.pointer(x.coverage)),lookupRecords:this.parseRecordList(d,Oa)}}R.assert(!1,"0x"+a.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};pa[6]=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();return 1===b?{substFormat:1,coverage:this.parsePointer(x.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-
1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Oa)}})}:2===b?{substFormat:2,coverage:this.parsePointer(x.coverage),backtrackClassDef:this.parsePointer(x.classDef),inputClassDef:this.parsePointer(x.classDef),lookaheadClassDef:this.parsePointer(x.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Oa)}})}:3===b?{substFormat:3,
backtrackCoverage:this.parseList(x.pointer(x.coverage)),inputCoverage:this.parseList(x.pointer(x.coverage)),lookaheadCoverage:this.parseList(x.pointer(x.coverage)),lookupRecords:this.parseRecordList(Oa)}:void R.assert(!1,"0x"+a.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};pa[7]=function(){var a=this.parseUShort();R.argument(1===a,"GSUB Extension Substitution subtable identifier-format must be 1");a=this.parseUShort();var b=new x(this.data,this.offset+this.parseULong());return{substFormat:1,
lookupType:a,extension:pa[a].call(b)}};pa[8]=function(){var a=this.parseUShort();return R.argument(1===a,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(x.coverage),backtrackCoverage:this.parseList(x.pointer(x.coverage)),lookaheadCoverage:this.parseList(x.pointer(x.coverage)),substitutes:this.parseUShortList()}};var ib=Array(9);ib[1]=function(a){return 1===a.substFormat?new N.Table("substitutionTable",[{name:"substFormat",
type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new N.Coverage(a.coverage)},{name:"deltaGlyphID",type:"USHORT",value:a.deltaGlyphId}]):new N.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new N.Coverage(a.coverage)}].concat(N.ushortList("substitute",a.substitute)))};ib[3]=function(a){return R.assert(1===a.substFormat,"Lookup type 3 substFormat must be 1."),new N.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},
{name:"coverage",type:"TABLE",value:new N.Coverage(a.coverage)}].concat(N.tableList("altSet",a.alternateSets,function(a){return new N.Table("alternateSetTable",N.ushortList("alternate",a))})))};ib[4]=function(a){return R.assert(1===a.substFormat,"Lookup type 4 substFormat must be 1."),new N.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new N.Coverage(a.coverage)}].concat(N.tableList("ligSet",a.ligatureSets,function(a){return new N.Table("ligatureSetTable",
N.tableList("ligature",a,function(a){return new N.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:a.ligGlyph}].concat(N.ushortList("component",a.components,a.components.length+1)))}))})))};var lc={parse:function(a,b){a=new x(a,b||0);b=a.parseVersion(1);return R.argument(1===b||1.1===b,"Unsupported GSUB table version."),1===b?{version:b,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(pa)}:{version:b,scripts:a.parseScriptList(),features:a.parseFeatureList(),
lookups:a.parseLookupList(pa),variations:a.parseFeatureVariationsList()}},make:function(a){return new N.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new N.ScriptList(a.scripts)},{name:"features",type:"TABLE",value:new N.FeatureList(a.features)},{name:"lookups",type:"TABLE",value:new N.LookupList(a.lookups,ib)}])}},mc={parse:function(a,b){var d=new L.Parser(a,b),c=d.parseULong();R.argument(1===c,"Unsupported META table version.");d.parseULong();d.parseULong();
c=d.parseULong();for(var e={},f=0;f<c;f++){var h=d.parseTag(),m=d.parseULong(),k=d.parseULong();m=Na.UTF8(a,b+m,k);e[h]=m}return e},make:function(a){var b=Object.keys(a).length,d="",c=16+12*b;b=new N.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:c},{name:"numTags",type:"ULONG",value:b}]);for(var e in a){var f=d.length;d+=a[e];b.fields.push({name:"tag "+e,type:"TAG",value:e});b.fields.push({name:"offset "+e,type:"ULONG",value:c+
f});b.fields.push({name:"length "+e,type:"ULONG",value:a[e].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:d}),b}},Pc={make:La,fontToTable:function(a){for(var b,d=[],c=[],e=[],f=[],h=[],m=[],k=[],l=0,n=0,g=0,t=0,r=0,u=0;u<a.glyphs.length;u+=1){var w=a.glyphs.get(u),v=0|w.unicode;if(isNaN(w.advanceWidth))throw Error("Glyph "+w.name+" ("+u+"): advanceWidth is not a number.");(v<b||void 0===b)&&0<v&&(b=v);l<v&&(l=v);v=qb.getUnicodeRange(v);if(32>v)n|=1<<v;else if(64>v)g|=1<<
v-32;else if(96>v)t|=1<<v-64;else{if(!(123>v))throw Error("Unicode ranges bits > 123 are reserved for internal usage");r|=1<<v-96}".notdef"!==w.name&&(v=w.getMetrics(),d.push(v.xMin),c.push(v.yMin),e.push(v.xMax),f.push(v.yMax),m.push(v.leftSideBearing),k.push(v.rightSideBearing),h.push(w.advanceWidth))}d=Math.min.apply(null,d);c=Math.min.apply(null,c);e=Math.max.apply(null,e);f=Math.max.apply(null,f);u=Math.max.apply(null,h);for(v=w=0;v<h.length;v+=1)w+=h[v];f={xMin:d,yMin:c,xMax:e,yMax:f,advanceWidthMax:u,
advanceWidthAvg:w/h.length,minLeftSideBearing:Math.min.apply(null,m),maxLeftSideBearing:Math.max.apply(null,m),minRightSideBearing:Math.min.apply(null,k)};f.ascender=a.ascender;f.descender=a.descender;h=dc.make({flags:3,unitsPerEm:a.unitsPerEm,xMin:f.xMin,yMin:f.yMin,xMax:f.xMax,yMax:f.yMax,lowestRecPPEM:3,createdTimestamp:a.createdTimestamp});m=ec.make({ascender:f.ascender,descender:f.descender,advanceWidthMax:f.advanceWidthMax,minLeftSideBearing:f.minLeftSideBearing,minRightSideBearing:f.minRightSideBearing,
xMaxExtent:f.maxLeftSideBearing+(f.xMax-f.xMin),numberOfHMetrics:a.glyphs.length});k=gc.make(a.glyphs.length);b=qb.make({xAvgCharWidth:Math.round(f.advanceWidthAvg),usWeightClass:a.tables.os2.usWeightClass,usWidthClass:a.tables.os2.usWidthClass,usFirstCharIndex:b,usLastCharIndex:l,ulUnicodeRange1:n,ulUnicodeRange2:g,ulUnicodeRange3:t,ulUnicodeRange4:r,fsSelection:a.tables.os2.fsSelection,sTypoAscender:f.ascender,sTypoDescender:f.descender,sTypoLineGap:0,usWinAscent:f.yMax,usWinDescent:Math.abs(f.yMin),
ulCodePageRange1:1,sxHeight:Wa(a,"xyvw",{yMax:Math.round(f.ascender/2)}).yMax,sCapHeight:Wa(a,"HIKLEFJMNTZBDPRAGOQSUVWXY",f).yMax,usDefaultChar:a.hasChar(" ")?32:0,usBreakChar:a.hasChar(" ")?32:0});l=kc.make(a.glyphs);n=cc.make(a.glyphs);g=a.getEnglishName("fontFamily");t=a.getEnglishName("fontSubfamily");r=g+" "+t;(e=a.getEnglishName("postScriptName"))||(e=g.replace(/\s/g,"")+"-"+t);c={};for(var z in a.names)c[z]=a.names[z];c.uniqueID||(c.uniqueID={en:a.getEnglishName("manufacturer")+":"+r});c.postScriptName||
(c.postScriptName={en:e});c.preferredFamily||(c.preferredFamily=a.names.fontFamily);c.preferredSubfamily||(c.preferredSubfamily=a.names.fontSubfamily);d=[];z=ic.make(c,d);c=0<d.length?fc.make(d):void 0;d=hc.make();t=jc.make(a.glyphs,{version:a.getEnglishName("version"),fullName:r,familyName:g,weightName:t,postScriptName:e,unitsPerEm:a.unitsPerEm,fontBBox:[0,f.yMin,f.ascender,f.advanceWidthMax]});g=a.metas&&0<Object.keys(a.metas).length?mc.make(a.metas):void 0;z=[h,m,k,b,z,n,d,t,l];c&&z.push(c);a.tables.gsub&&
z.push(lc.make(a.tables.gsub));g&&z.push(g);a=La(z);z=Ta(a.encode());b=a.fields;l=!1;for(n=0;n<b.length;n+=1)if("head table"===b[n].name){b[n].value.checkSumAdjustment=2981146554-z;l=!0;break}if(!l)throw Error("Could not find head table with checkSum to adjust.");return a},computeCheckSum:Ta};(ha.prototype=ba.prototype={searchTag:sa,binSearch:Sa,getTable:function(a){var b=this.font.tables[this.tableName];return!b&&a&&(b=this.font.tables[this.tableName]=this.createDefaultTable()),b},getScriptNames:function(){var a=
this.getTable();return a?a.scripts.map(function(a){return a.tag}):[]},getDefaultScriptName:function(){var a=this.getTable();if(a){for(var b=!1,d=0;d<a.scripts.length;d++){var c=a.scripts[d].tag;if("DFLT"===c)return c;"latn"===c&&(b=!0)}return b?"latn":void 0}},getScriptTable:function(a,b){var d=this.getTable(b);if(d){a=a||"DFLT";var c=d.scripts;d=sa(d.scripts,a);if(0<=d)return c[d].script;if(b)return a={tag:a,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}},
c.splice(-1-d,0,a),a.script}},getLangSysTable:function(a,b,d){if(a=this.getScriptTable(a,d)){if(!b||"dflt"===b||"DFLT"===b)return a.defaultLangSys;var c=sa(a.langSysRecords,b);if(0<=c)return a.langSysRecords[c].langSys;if(d)return b={tag:b,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}},a.langSysRecords.splice(-1-c,0,b),b.langSys}},getFeatureTable:function(a,b,d,c){if(a=this.getLangSysTable(a,b,c)){var e;a=a.featureIndexes;b=this.font.tables[this.tableName].features;for(var f=0;f<a.length;f++)if((e=
b[a[f]]).tag===d)return e.feature;if(c)return c=b.length,R.assert(0===c||d>=b[c-1].tag,"Features must be added in alphabetical order."),e={tag:d,feature:{params:0,lookupListIndexes:[]}},b.push(e),a.push(c),e.feature}},getLookupTables:function(a,b,d,c,e){b=this.getFeatureTable(a,b,d,e);a=[];if(b){var f;b=b.lookupListIndexes;d=this.font.tables[this.tableName].lookups;for(var h=0;h<b.length;h++)(f=d[b[h]]).lookupType===c&&a.push(f);if(0===a.length&&e)return f={lookupType:c,lookupFlag:0,subtables:[],
markFilteringSet:void 0},c=d.length,d.push(f),b.push(c),[f]}return a},getGlyphClass:function(a,b){switch(a.format){case 1:return a.startGlyph<=b&&b<a.startGlyph+a.classes.length?a.classes[b-a.startGlyph]:0;case 2:return(a=Ka(a.ranges,b))?a.classId:0}},getCoverageIndex:function(a,b){switch(a.format){case 1:return b=Sa(a.glyphs,b),0<=b?b:-1;case 2:return(a=Ka(a.ranges,b))?a.index+b-a.start:-1}},expandCoverage:function(a){if(1===a.format)return a.glyphs;var b=[];a=a.ranges;for(var d=0;d<a.length;d++){var c=
a[d],e=c.end;for(c=c.start;c<=e;c++)b.push(c)}return b}}).init=function(){var a=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(a)};ha.prototype.getKerningValue=function(a,b,d){for(var c=0;c<a.length;c++)for(var e=a[c].subtables,f=0;f<e.length;f++){var h=e[f],k=this.getCoverageIndex(h.coverage,b);if(!(0>k))switch(h.posFormat){case 1:h=h.pairSets[k];for(k=0;k<h.length;k++){var m=h[k];if(m.secondGlyph===d)return m.value1&&m.value1.xAdvance||0}break;case 2:return a=this.getGlyphClass(h.classDef1,
b),d=this.getGlyphClass(h.classDef2,d),d=h.classRecords[a][d],d.value1&&d.value1.xAdvance||0}}return 0};ha.prototype.getKerningTables=function(a,b){if(this.font.tables.gpos)return this.getLookupTables(a,b,"kern",2)};(ra.prototype=ba.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};ra.prototype.getSingle=function(a,b,d){var c=[];a=this.getLookupTables(b,
d,a,1);for(b=0;b<a.length;b++){d=a[b].subtables;for(var e=0;e<d.length;e++){var f=d[e],h=this.expandCoverage(f.coverage);if(1===f.substFormat){var k=f.deltaGlyphId;for(f=0;f<h.length;f++){var m=h[f];c.push({sub:m,by:m+k})}}else for(k=f.substitute,f=0;f<h.length;f++)c.push({sub:h[f],by:k[f]})}}return c};ra.prototype.getAlternates=function(a,b,d){var c=[];a=this.getLookupTables(b,d,a,3);for(b=0;b<a.length;b++){d=a[b].subtables;for(var e=0;e<d.length;e++){var f=d[e],h=this.expandCoverage(f.coverage);
f=f.alternateSets;for(var k=0;k<h.length;k++)c.push({sub:h[k],by:f[k]})}}return c};ra.prototype.getLigatures=function(a,b,d){var c=[];a=this.getLookupTables(b,d,a,4);for(b=0;b<a.length;b++){d=a[b].subtables;for(var e=0;e<d.length;e++){var f=d[e],h=this.expandCoverage(f.coverage);f=f.ligatureSets;for(var k=0;k<h.length;k++)for(var m=h[k],l=f[k],n=0;n<l.length;n++){var g=l[n];c.push({sub:[m].concat(g.components),by:g.ligGlyph})}}}return c};ra.prototype.addSingle=function(a,b,d,c){a=vb(this.getLookupTables(d,
c,a,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});R.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);d=b.sub;c=this.binSearch(a.coverage.glyphs,d);0>c&&(c=-1-c,a.coverage.glyphs.splice(c,0,d),a.substitute.splice(c,0,0));a.substitute[c]=b.by};ra.prototype.addAlternate=function(a,b,d,c){a=vb(this.getLookupTables(d,c,a,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});R.assert(1===a.coverage.format,
"Ligature: unable to modify coverage table format "+a.coverage.format);d=b.sub;c=this.binSearch(a.coverage.glyphs,d);0>c&&(c=-1-c,a.coverage.glyphs.splice(c,0,d),a.alternateSets.splice(c,0,0));a.alternateSets[c]=b.by};ra.prototype.addLigature=function(a,b,d,c){a=this.getLookupTables(d,c,a,4,!0)[0];(d=a.subtables[0])||(d={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},a.subtables[0]=d);R.assert(1===d.coverage.format,"Ligature: unable to modify coverage table format "+d.coverage.format);
c=b.sub[0];a=b.sub.slice(1);b={ligGlyph:b.by,components:a};var e=this.binSearch(d.coverage.glyphs,c);if(0<=e){d=d.ligatureSets[e];for(c=0;c<d.length;c++){a:{e=d[c].components;var f=e.length;if(f!==a.length)e=!1;else{for(var h=0;h<f;h++)if(e[h]!==a[h]){e=!1;break a}e=!0}}if(e)return}d.push(b)}else e=-1-e,d.coverage.glyphs.splice(e,0,c),d.ligatureSets.splice(e,0,[b])};ra.prototype.getFeature=function(a,b,d){if(/ss\d\d/.test(a))return this.getSingle(a,b,d);switch(a){case "aalt":case "salt":return this.getSingle(a,
b,d).concat(this.getAlternates(a,b,d));case "dlig":case "liga":case "rlig":return this.getLigatures(a,b,d)}};ra.prototype.add=function(a,b,d,c){if(/ss\d\d/.test(a))return this.addSingle(a,b,d,c);switch(a){case "aalt":case "salt":return"number"==typeof b.by?this.addSingle(a,b,d,c):this.addAlternate(a,b,d,c);case "dlig":case "liga":case "rlig":return this.addLigature(a,b,d,c)}};var Hb={getPath:yb,parse:function(a,b,d,c){for(var e=new Ma.GlyphSet(c),f=0;f<d.length-1;f+=1){var h=d[f];h!==d[f+1]?e.push(f,
Ma.ttfGlyphLoader(c,f,tc,a,b+h,uc)):e.push(f,Ma.glyphLoader(c,f))}return e}},rc=function(a){var b=this.srPeriod,d=this.srPhase,c=1;return 0>a&&(a=-a,c=-1),a+=this.srThreshold-d,a=Math.trunc(a/b)*b,0>(a+=d)?d*c:a*c},ta={x:1,y:0,axis:"x",distance:function(a,b,d,c){return(d?a.xo:a.x)-(c?b.xo:b.x)},interpolate:function(a,b,d,c){var e,f,h,k,m,l,n;if(!c||c===this)return e=a.xo-b.xo,f=a.xo-d.xo,m=b.x-b.xo,l=d.x-d.xo,0===(n=(h=Math.abs(e))+(k=Math.abs(f)))?void(a.x=a.xo+(m+l)/2):void(a.x=a.xo+(m*k+l*h)/n);
e=c.distance(a,b,!0,!0);f=c.distance(a,d,!0,!0);m=c.distance(b,b,!1,!0);l=c.distance(d,d,!1,!0);0!==(n=(h=Math.abs(e))+(k=Math.abs(f)))?ta.setRelative(a,a,(m*k+l*h)/n,c,!0):ta.setRelative(a,a,(m+l)/2,c,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(a,b,d,c,e){a.x=c&&c!==this?(e?b.xo:b.x)+d*c.x+(a.y-((e?b.yo:b.y)+d*c.y))/c.normalSlope:(e?b.xo:b.x)+d},slope:0,touch:function(a){a.xTouched=!0},touched:function(a){return a.xTouched},untouch:function(a){a.xTouched=!1}},xa={x:0,y:1,axis:"y",
distance:function(a,b,d,c){return(d?a.yo:a.y)-(c?b.yo:b.y)},interpolate:function(a,b,d,c){var e,f,h,k,m,l,n;if(!c||c===this)return e=a.yo-b.yo,f=a.yo-d.yo,m=b.y-b.yo,l=d.y-d.yo,0===(n=(h=Math.abs(e))+(k=Math.abs(f)))?void(a.y=a.yo+(m+l)/2):void(a.y=a.yo+(m*k+l*h)/n);e=c.distance(a,b,!0,!0);f=c.distance(a,d,!0,!0);m=c.distance(b,b,!1,!0);l=c.distance(d,d,!1,!0);0!==(n=(h=Math.abs(e))+(k=Math.abs(f)))?xa.setRelative(a,a,(m*k+l*h)/n,c,!0):xa.setRelative(a,a,(m+l)/2,c,!0)},normalSlope:0,setRelative:function(a,
b,d,c,e){a.y=c&&c!==this?(e?b.yo:b.y)+d*c.y+c.normalSlope*(a.x-((e?b.xo:b.x)+d*c.x)):(e?b.yo:b.y)+d},slope:Number.POSITIVE_INFINITY,touch:function(a){a.yTouched=!0},touched:function(a){return a.yTouched},untouch:function(a){a.yTouched=!1}};Object.freeze(ta);Object.freeze(xa);Xa.prototype.distance=function(a,b,d,c){return this.x*ta.distance(a,b,d,c)+this.y*xa.distance(a,b,d,c)};Xa.prototype.interpolate=function(a,b,d,c){var e,f,h;var k=c.distance(a,b,!0,!0);var m=c.distance(a,d,!0,!0);b=c.distance(b,
b,!1,!0);d=c.distance(d,d,!1,!0);0!==(h=(e=Math.abs(k))+(f=Math.abs(m)))?this.setRelative(a,a,(b*f+d*e)/h,c,!0):this.setRelative(a,a,(b+d)/2,c,!0)};Xa.prototype.setRelative=function(a,b,d,c,e){c=c||this;var f=c.normalSlope,h=this.slope,k=a.x,m=a.y;a.x=(h*k-f*((e?b.xo:b.x)+d*c.x)+((e?b.yo:b.y)+d*c.y)-m)/(h-f);a.y=h*(a.x-k)+m};Xa.prototype.touch=function(a){a.xTouched=!0;a.yTouched=!0};ya.prototype.nextTouched=function(a){for(var b=this.nextPointOnContour;!a.touched(b)&&b!==this;)b=b.nextPointOnContour;
return b};ya.prototype.prevTouched=function(a){for(var b=this.prevPointOnContour;!a.touched(b)&&b!==this;)b=b.prevPointOnContour;return b};var Za=Object.freeze(new ya(0,0)),Qc={cvCutIn:1.0625,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};zb.prototype.exec=function(a,d){if("number"!=typeof d)throw Error("Point size is not a number!");if(!(2<this._errorState)){var c=this.font,e=this._prepState;if(!e||e.ppem!==d){e=this._fpgmState;if(!e){za.prototype=Qc;(e=this._fpgmState=new za("fpgm",c.tables.fpgm)).funcs=
[];e.font=c;b.DEBUG&&(console.log("---EXEC FPGM---"),e.step=-1);try{Pa(e)}catch(U){return console.log("Hinting error in FPGM:"+U),void(this._errorState=3)}}za.prototype=e;(e=this._prepState=new za("prep",c.tables.prep)).ppem=d;var f=c.tables.cvt;if(f){var h=e.cvt=Array(f.length);d/=c.unitsPerEm;for(c=0;c<f.length;c++)h[c]=f[c]*d}else e.cvt=[];b.DEBUG&&(console.log("---EXEC PREP---"),e.step=-1);try{Pa(e)}catch(U){2>this._errorState&&console.log("Hinting error in PREP:"+U),this._errorState=2}}if(!(1<
this._errorState))try{return Rc(a,e)}catch(U){return 1>this._errorState&&(console.log("Hinting error:"+U),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}};var Rc=function(a,d){var c=d.ppem/d.font.unitsPerEm,e=a.components;if(za.prototype=d,e){var f=d.font;var h=[];d=[];for(var k=0;k<e.length;k++){var m=e[k],l=f.glyphs.get(m.glyphIndex);var n=new za("glyf",l.instructions);b.DEBUG&&(console.log("---EXEC COMP "+k+"---"),n.step=-1);sc(l,n,c,c);l=Math.round(m.dx*c);
var g=Math.round(m.dy*c),t=n.gZone;m=n.contours;for(var r=0;r<t.length;r++){var u=t[r];u.xTouched=u.yTouched=!1;u.xo=u.x+=l;u.yo=u.y+=g}l=h.length;h.push.apply(h,t);for(t=0;t<m.length;t++)d.push(m[t]+l)}a.instructions&&!n.inhibitGridFit&&((n=new za("glyf",a.instructions)).gZone=n.z0=n.z1=n.z2=h,n.contours=d,h.push(new ya(0,0),new ya(Math.round(a.advanceWidth*c),0)),b.DEBUG&&(console.log("---EXEC COMPOSITE---"),n.step=-1),Pa(n),h.length-=2)}else n=new za("glyf",a.instructions),b.DEBUG&&(console.log("---EXEC GLYPH---"),
n.step=-1),sc(a,n,c,c),h=n.gZone;return h};var sc=function(a,d,c,e){for(var f,h,k,l=a.points||[],m=l.length,n=d.gZone=d.z0=d.z1=d.z2=[],g=d.contours=[],t=0;t<m;t++)f=l[t],n[t]=new ya(f.x*c,f.y*e,f.lastPointOfContour,f.onCurve);for(e=0;e<m;e++)f=n[e],h||(h=f,g.push(e)),f.lastPointOfContour?((f.nextPointOnContour=h).prevPointOnContour=f,h=void 0):(k=n[e+1],(f.nextPointOnContour=k).prevPointOnContour=f);if(!d.inhibitGridFit){if(b.DEBUG)for(console.log("PROCESSING GLYPH",d.stack),f=0;f<m;f++)console.log(f,
n[f].x,n[f].y);if(n.push(new ya(0,0),new ya(Math.round(a.advanceWidth*c),0)),Pa(d),n.length-=2,b.DEBUG)for(console.log("FINISHED GLYPH",d.stack),a=0;a<m;a++)console.log(a,n[a].x,n[a].y)}};var Pa=function(a){var d=a.prog;if(d){var c,e=d.length;for(a.ip=0;a.ip<e;a.ip++){if(b.DEBUG&&a.step++,!(c=Sc[d[a.ip]]))throw Error("unknown instruction: 0x"+Number(d[a.ip]).toString(16));c(a)}}};var Sc=[Jb.bind(void 0,xa),Jb.bind(void 0,ta),Kb.bind(void 0,xa),Kb.bind(void 0,ta),Lb.bind(void 0,xa),Lb.bind(void 0,
ta),Mb.bind(void 0,0),Mb.bind(void 0,1),Nb.bind(void 0,0),Nb.bind(void 0,1),function(a){var d=a.stack,c=d.pop();d=d.pop();b.DEBUG&&console.log(a.step,"SPVFS[]",c,d);a.pv=a.dpv=Ya(d,c)},function(a){var d=a.stack,c=d.pop();d=d.pop();b.DEBUG&&console.log(a.step,"SPVFS[]",c,d);a.fv=Ya(d,c)},function(a){var d=a.stack,c=a.pv;b.DEBUG&&console.log(a.step,"GPV[]");d.push(16384*c.x);d.push(16384*c.y)},function(a){var d=a.stack,c=a.fv;b.DEBUG&&console.log(a.step,"GFV[]");d.push(16384*c.x);d.push(16384*c.y)},
function(a){a.fv=a.pv;b.DEBUG&&console.log(a.step,"SFVTPV[]")},function(a){var d=a.stack,c=d.pop(),e=d.pop(),f=d.pop(),h=d.pop(),k=d.pop(),l=a.z0;d=a.z1;var m=l[c],n=l[e];l=d[f];d=d[h];a=a.z2[k];b.DEBUG&&console.log("ISECT[], ",c,e,f,h,k);c=m.x;e=m.y;f=n.x;n=n.y;h=l.x;l=l.y;m=d.x;d=d.y;k=(c-f)*(l-d)-(e-n)*(h-m);var g=c*n-e*f,t=h*d-l*m;a.x=(g*(h-m)-t*(c-f))/k;a.y=(g*(l-d)-t*(e-n))/k},function(a){a.rp0=a.stack.pop();b.DEBUG&&console.log(a.step,"SRP0[]",a.rp0)},function(a){a.rp1=a.stack.pop();b.DEBUG&&
console.log(a.step,"SRP1[]",a.rp1)},function(a){a.rp2=a.stack.pop();b.DEBUG&&console.log(a.step,"SRP2[]",a.rp2)},function(a){var d=a.stack.pop();switch(b.DEBUG&&console.log(a.step,"SZP0[]",d),a.zp0=d){case 0:a.tZone||db(a);a.z0=a.tZone;break;case 1:a.z0=a.gZone;break;default:throw Error("Invalid zone pointer");}},function(a){var d=a.stack.pop();switch(b.DEBUG&&console.log(a.step,"SZP1[]",d),a.zp1=d){case 0:a.tZone||db(a);a.z1=a.tZone;break;case 1:a.z1=a.gZone;break;default:throw Error("Invalid zone pointer");
}},function(a){var d=a.stack.pop();switch(b.DEBUG&&console.log(a.step,"SZP2[]",d),a.zp2=d){case 0:a.tZone||db(a);a.z2=a.tZone;break;case 1:a.z2=a.gZone;break;default:throw Error("Invalid zone pointer");}},function(a){var d=a.stack.pop();switch(b.DEBUG&&console.log(a.step,"SZPS[]",d),a.zp0=a.zp1=a.zp2=d,d){case 0:a.tZone||db(a);a.z0=a.z1=a.z2=a.tZone;break;case 1:a.z0=a.z1=a.z2=a.gZone;break;default:throw Error("Invalid zone pointer");}},function(a){a.loop=a.stack.pop();b.DEBUG&&console.log(a.step,
"SLOOP[]",a.loop)},function(a){b.DEBUG&&console.log(a.step,"RTG[]");a.round=Ab},function(a){b.DEBUG&&console.log(a.step,"RTHG[]");a.round=xc},function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"SMD[]",d);a.minDis=d/64},function(a){b.DEBUG&&console.log(a.step,"ELSE[]");Ib(a,!1)},function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"JMPR[]",d);a.ip+=d-1},function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"SCVTCI[]",d);a.cvCutIn=d/64},void 0,void 0,function(a){var d=a.stack;
b.DEBUG&&console.log(a.step,"DUP[]");d.push(d[d.length-1])},mb,function(a){b.DEBUG&&console.log(a.step,"CLEAR[]");a.stack.length=0},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"SWAP[]");d.push(c);d.push(e)},function(a){var d=a.stack;b.DEBUG&&console.log(a.step,"DEPTH[]");d.push(d.length)},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"CINDEX[]",c);d.push(d[d.length-c])},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"MINDEX[]",c);d.push(d.splice(d.length-
c,1)[0])},void 0,void 0,void 0,function(a){var d=a.stack,c=d.pop();d=d.pop();b.DEBUG&&console.log(a.step,"LOOPCALL[]",c,d);var e=a.ip,f=a.prog;a.prog=a.funcs[c];for(c=0;c<d;c++)Pa(a),b.DEBUG&&console.log(++a.step,c+1<d?"next loopcall":"done loopcall",c);a.ip=e;a.prog=f},function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"CALL[]",d);var c=a.ip,e=a.prog;a.prog=a.funcs[d];Pa(a);a.ip=c;a.prog=e;b.DEBUG&&console.log(++a.step,"returning from",d)},function(a){if("fpgm"!==a.env)throw Error("FDEF not allowed here");
var d=a.prog,c=a.ip,e=a.stack.pop(),f=c;for(b.DEBUG&&console.log(a.step,"FDEF[]",e);45!==d[++c];);a.ip=c;a.funcs[e]=d.slice(f+1,c)},void 0,Ob.bind(void 0,0),Ob.bind(void 0,1),Pb.bind(void 0,xa),Pb.bind(void 0,ta),Qb.bind(void 0,0),Qb.bind(void 0,1),Rb.bind(void 0,0),Rb.bind(void 0,1),Sb.bind(void 0,0),Sb.bind(void 0,1),function(a){for(var d=a.stack,c=a.loop,e=a.fv,f=d.pop()/64,h=a.z2;c--;){var k=d.pop(),l=h[k];b.DEBUG&&console.log(a.step,(1<a.loop?"loop "+(a.loop-c)+": ":"")+"SHPIX[]",k,f);e.setRelative(l,
l,f);e.touch(l)}a.loop=1},function(a){for(var d=a.stack,c=a.rp1,e=a.rp2,f=a.loop,h=a.z0[c],k=a.z1[e],l=a.fv,m=a.dpv,n=a.z2;f--;){var g=d.pop(),t=n[g];b.DEBUG&&console.log(a.step,(1<a.loop?"loop "+(a.loop-f)+": ":"")+"IP[]",g,c,"<->",e);l.interpolate(t,h,k,m);l.touch(t)}a.loop=1},Tb.bind(void 0,0),Tb.bind(void 0,1),function(a){for(var d=a.stack,c=a.z0[a.rp0],e=a.loop,f=a.fv,h=a.pv,k=a.z1;e--;){var l=d.pop(),m=k[l];b.DEBUG&&console.log(a.step,(1<a.loop?"loop "+(a.loop-e)+": ":"")+"ALIGNRP[]",l);f.setRelative(m,
c,0,h);f.touch(m)}a.loop=1},function(a){b.DEBUG&&console.log(a.step,"RTDG[]");a.round=wc},Ub.bind(void 0,0),Ub.bind(void 0,1),function(a){var d=a.prog,c=a.ip,e=a.stack,f=d[++c];b.DEBUG&&console.log(a.step,"NPUSHB[]",f);for(var h=0;h<f;h++)e.push(d[++c]);a.ip=c},function(a){var d=a.ip,c=a.prog,e=a.stack,f=c[++d];b.DEBUG&&console.log(a.step,"NPUSHW[]",f);for(var h=0;h<f;h++){var k=c[++d]<<8|c[++d];32768&k&&(k=-(1+(65535^k)));e.push(k)}a.ip=d},function(a){var d=a.stack,c=a.store;c||(c=a.store=[]);var e=
d.pop();d=d.pop();b.DEBUG&&console.log(a.step,"WS",e,d);c[d]=e},function(a){var d=a.stack,c=a.store,e=d.pop();b.DEBUG&&console.log(a.step,"RS",e);d.push(c&&c[e]||0)},function(a){var d=a.stack,c=d.pop();d=d.pop();b.DEBUG&&console.log(a.step,"WCVTP",c,d);a.cvt[d]=c/64},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"RCVT",c);d.push(64*a.cvt[c])},Vb.bind(void 0,0),Vb.bind(void 0,1),void 0,Wb.bind(void 0,0),Wb.bind(void 0,1),function(a){b.DEBUG&&console.log(a.step,"MPPEM[]");a.stack.push(a.ppem)},
void 0,function(a){b.DEBUG&&console.log(a.step,"FLIPON[]");a.autoFlip=!0},void 0,void 0,function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"LT[]",c,e);d.push(e<c?1:0)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"LTEQ[]",c,e);d.push(e<=c?1:0)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"GT[]",c,e);d.push(c<e?1:0)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"GTEQ[]",c,e);d.push(c<=e?1:
0)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"EQ[]",c,e);d.push(c===e?1:0)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"NEQ[]",c,e);d.push(c!==e?1:0)},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"ODD[]",c);d.push(Math.trunc(c)%2?1:0)},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"EVEN[]",c);d.push(Math.trunc(c)%2?0:1)},function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"IF[]",d);d||(Ib(a,
!0),b.DEBUG&&console.log(a.step,"EIF[]"))},function(a){b.DEBUG&&console.log(a.step,"EIF[]")},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"AND[]",c,e);d.push(c&&e?1:0)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"OR[]",c,e);d.push(c||e?1:0)},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"NOT[]",c);d.push(c?0:1)},nb.bind(void 0,1),function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"SDB[]",d);a.deltaBase=d},function(a){var d=
a.stack.pop();b.DEBUG&&console.log(a.step,"SDS[]",d);a.deltaShift=Math.pow(.5,d)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"ADD[]",c,e);d.push(e+c)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"SUB[]",c,e);d.push(e-c)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"DIV[]",c,e);d.push(64*e/c)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"MUL[]",c,e);d.push(e*c/64)},function(a){var d=
a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"ABS[]",c);d.push(Math.abs(c))},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"NEG[]",c);d.push(-c)},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"FLOOR[]",c);d.push(64*Math.floor(c/64))},function(a){var d=a.stack,c=d.pop();b.DEBUG&&console.log(a.step,"CEILING[]",c);d.push(64*Math.ceil(c/64))},eb.bind(void 0,0),eb.bind(void 0,1),eb.bind(void 0,2),eb.bind(void 0,3),void 0,void 0,void 0,void 0,function(a){var d=a.stack,
c=d.pop();d=d.pop();b.DEBUG&&console.log(a.step,"WCVTF[]",c,d);a.cvt[d]=c*a.ppem/a.font.unitsPerEm},nb.bind(void 0,2),nb.bind(void 0,3),ob.bind(void 0,1),ob.bind(void 0,2),ob.bind(void 0,3),function(a){var d=a.stack.pop();switch(b.DEBUG&&console.log(a.step,"SROUND[]",d),a.round=rc,192&d){case 0:var c=.5;break;case 64:c=1;break;case 128:c=2;break;default:throw Error("invalid SROUND value");}switch(a.srPeriod=c,48&d){case 0:a.srPhase=0;break;case 16:a.srPhase=.25*c;break;case 32:a.srPhase=.5*c;break;
case 48:a.srPhase=.75*c;break;default:throw Error("invalid SROUND value");}d&=15;a.srThreshold=0===d?0:(d/8-.5)*c},function(a){var d=a.stack.pop();switch(b.DEBUG&&console.log(a.step,"S45ROUND[]",d),a.round=rc,192&d){case 0:var c=Math.sqrt(2)/2;break;case 64:c=Math.sqrt(2);break;case 128:c=2*Math.sqrt(2);break;default:throw Error("invalid S45ROUND value");}switch(a.srPeriod=c,48&d){case 0:a.srPhase=0;break;case 16:a.srPhase=.25*c;break;case 32:a.srPhase=.5*c;break;case 48:a.srPhase=.75*c;break;default:throw Error("invalid S45ROUND value");
}d&=15;a.srThreshold=0===d?0:(d/8-.5)*c},void 0,void 0,function(a){b.DEBUG&&console.log(a.step,"ROFF[]");a.round=vc},void 0,function(a){b.DEBUG&&console.log(a.step,"RUTG[]");a.round=yc},function(a){b.DEBUG&&console.log(a.step,"RDTG[]");a.round=zc},mb,mb,void 0,void 0,void 0,void 0,void 0,function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"SCANCTRL[]",d)},Xb.bind(void 0,0),Xb.bind(void 0,1),function(a){var d=a.stack,c=d.pop(),e=0;b.DEBUG&&console.log(a.step,"GETINFO[]",c);1&c&&(e=35);32&c&&
(e|=4096);d.push(e)},void 0,function(a){var d=a.stack,c=d.pop(),e=d.pop(),f=d.pop();b.DEBUG&&console.log(a.step,"ROLL[]");d.push(e);d.push(c);d.push(f)},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"MAX[]",c,e);d.push(Math.max(e,c))},function(a){var d=a.stack,c=d.pop(),e=d.pop();b.DEBUG&&console.log(a.step,"MIN[]",c,e);d.push(Math.min(e,c))},function(a){var d=a.stack.pop();b.DEBUG&&console.log(a.step,"SCANTYPE[]",d)},function(a){var d=a.stack.pop(),c=a.stack.pop();switch(b.DEBUG&&
console.log(a.step,"INSTCTRL[]",d,c),d){case 1:return void(a.inhibitGridFit=!!c);case 2:return void(a.ignoreCvt=!!c);default:throw Error("invalid INSTCTRL[] selector");}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Aa.bind(void 0,1),Aa.bind(void 0,2),Aa.bind(void 0,3),Aa.bind(void 0,4),Aa.bind(void 0,5),Aa.bind(void 0,
6),Aa.bind(void 0,7),Aa.bind(void 0,8),Ba.bind(void 0,1),Ba.bind(void 0,2),Ba.bind(void 0,3),Ba.bind(void 0,4),Ba.bind(void 0,5),Ba.bind(void 0,6),Ba.bind(void 0,7),Ba.bind(void 0,8),J.bind(void 0,0,0,0,0,0),J.bind(void 0,0,0,0,0,1),J.bind(void 0,0,0,0,0,2),J.bind(void 0,0,0,0,0,3),J.bind(void 0,0,0,0,1,0),J.bind(void 0,0,0,0,1,1),J.bind(void 0,0,0,0,1,2),J.bind(void 0,0,0,0,1,3),J.bind(void 0,0,0,1,0,0),J.bind(void 0,0,0,1,0,1),J.bind(void 0,0,0,1,0,2),J.bind(void 0,0,0,1,0,3),J.bind(void 0,0,0,
1,1,0),J.bind(void 0,0,0,1,1,1),J.bind(void 0,0,0,1,1,2),J.bind(void 0,0,0,1,1,3),J.bind(void 0,0,1,0,0,0),J.bind(void 0,0,1,0,0,1),J.bind(void 0,0,1,0,0,2),J.bind(void 0,0,1,0,0,3),J.bind(void 0,0,1,0,1,0),J.bind(void 0,0,1,0,1,1),J.bind(void 0,0,1,0,1,2),J.bind(void 0,0,1,0,1,3),J.bind(void 0,0,1,1,0,0),J.bind(void 0,0,1,1,0,1),J.bind(void 0,0,1,1,0,2),J.bind(void 0,0,1,1,0,3),J.bind(void 0,0,1,1,1,0),J.bind(void 0,0,1,1,1,1),J.bind(void 0,0,1,1,1,2),J.bind(void 0,0,1,1,1,3),J.bind(void 0,1,0,0,
0,0),J.bind(void 0,1,0,0,0,1),J.bind(void 0,1,0,0,0,2),J.bind(void 0,1,0,0,0,3),J.bind(void 0,1,0,0,1,0),J.bind(void 0,1,0,0,1,1),J.bind(void 0,1,0,0,1,2),J.bind(void 0,1,0,0,1,3),J.bind(void 0,1,0,1,0,0),J.bind(void 0,1,0,1,0,1),J.bind(void 0,1,0,1,0,2),J.bind(void 0,1,0,1,0,3),J.bind(void 0,1,0,1,1,0),J.bind(void 0,1,0,1,1,1),J.bind(void 0,1,0,1,1,2),J.bind(void 0,1,0,1,1,3),J.bind(void 0,1,1,0,0,0),J.bind(void 0,1,1,0,0,1),J.bind(void 0,1,1,0,0,2),J.bind(void 0,1,1,0,0,3),J.bind(void 0,1,1,0,1,
0),J.bind(void 0,1,1,0,1,1),J.bind(void 0,1,1,0,1,2),J.bind(void 0,1,1,0,1,3),J.bind(void 0,1,1,1,0,0),J.bind(void 0,1,1,1,0,1),J.bind(void 0,1,1,1,0,2),J.bind(void 0,1,1,1,0,3),J.bind(void 0,1,1,1,1,0),J.bind(void 0,1,1,1,1,1),J.bind(void 0,1,1,1,1,2),J.bind(void 0,1,1,1,1,3)];var Tc=Array.from||function(a){return a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};Y.prototype.hasChar=function(a){return null!==this.encoding.charToGlyphIndex(a)};Y.prototype.charToGlyphIndex=function(a){return this.encoding.charToGlyphIndex(a)};
Y.prototype.charToGlyph=function(a){a=this.charToGlyphIndex(a);a=this.glyphs.get(a);return a||(a=this.glyphs.get(0)),a};Y.prototype.stringToGlyphs=function(a,d){d=d||this.defaultRenderOptions;var b=Tc(a);a=[];for(var c=0;c<b.length;c+=1)a.push(this.charToGlyphIndex(b[c]));b=a.length;if(d.features){var e=d.script||this.substitution.getDefaultScriptName();c=[];d.features.liga&&(c=c.concat(this.substitution.getFeature("liga",e,d.language)));d.features.rlig&&(c=c.concat(this.substitution.getFeature("rlig",
e,d.language)));for(d=0;d<b;d+=1)for(e=0;e<c.length;e++){for(var f=c[e],h=f.sub,k=h.length,l=0;l<k&&h[l]===a[d+l];)l++;l===k&&(a.splice(d,k,f.by),b=b-k+1)}}c=Array(b);d=this.glyphs.get(0);for(e=0;e<b;e+=1)c[e]=this.glyphs.get(a[e])||d;return c};Y.prototype.nameToGlyphIndex=function(a){return this.glyphNames.nameToGlyphIndex(a)};Y.prototype.nameToGlyph=function(a){a=this.nameToGlyphIndex(a);a=this.glyphs.get(a);return a||(a=this.glyphs.get(0)),a};Y.prototype.glyphIndexToName=function(a){return this.glyphNames.glyphIndexToName?
this.glyphNames.glyphIndexToName(a):""};Y.prototype.getKerningValue=function(a,d){a=a.index||a;d=d.index||d;var b=this.position.defaultKerningTables;return b?this.position.getKerningValue(b,a,d):this.kerningPairs[a+","+d]||0};Y.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}};Y.prototype.forEachGlyph=function(a,d,b,c,e,f){d=void 0!==d?d:0;b=void 0!==b?b:0;c=void 0!==c?c:72;e=e||this.defaultRenderOptions;var h=1/this.unitsPerEm*c;a=this.stringToGlyphs(a,e);if(e.kerning){var k=
e.script||this.position.getDefaultScriptName();k=this.position.getKerningTables(k,e.language)}for(var l=0;l<a.length;l+=1){var n=a[l];if(f.call(this,n,d,b,c,e),n.advanceWidth&&(d+=n.advanceWidth*h),e.kerning&&l<a.length-1)d+=(k?this.position.getKerningValue(k,n.index,a[l+1].index):this.getKerningValue(n,a[l+1]))*h;e.letterSpacing?d+=e.letterSpacing*c:e.tracking&&(d+=e.tracking/1E3*c)}return d};Y.prototype.getPath=function(a,d,b,c,e){var f=new r;return this.forEachGlyph(a,d,b,c,e,function(a,d,b,c){a=
a.getPath(d,b,c,e,this);f.extend(a)}),f};Y.prototype.getPaths=function(a,d,b,c,e){var f=[];return this.forEachGlyph(a,d,b,c,e,function(a,d,b,c){a=a.getPath(d,b,c,e,this);f.push(a)}),f};Y.prototype.getAdvanceWidth=function(a,d,b){return this.forEachGlyph(a,0,0,d,b,function(){})};Y.prototype.draw=function(a,d,b,c,e,f){this.getPath(d,b,c,e,f).draw(a)};Y.prototype.drawPoints=function(a,d,b,c,e,f){this.forEachGlyph(d,b,c,e,f,function(d,b,c,e){d.drawPoints(a,b,c,e)})};Y.prototype.drawMetrics=function(a,
d,b,c,e,f){this.forEachGlyph(d,b,c,e,f,function(d,b,c,e){d.drawMetrics(a,b,c,e)})};Y.prototype.getEnglishName=function(a){if(a=this.names[a])return a.en};Y.prototype.validate=function(){function a(a){(a=d.getEnglishName(a))&&a.trim().length}var d=this;a("fontFamily");a("weightName");a("manufacturer");a("copyright");a("version");this.unitsPerEm};Y.prototype.toTables=function(){return Pc.fontToTable(this)};Y.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),
this.toArrayBuffer()};Y.prototype.toArrayBuffer=function(){for(var a=this.toTables().encode(),d=new ArrayBuffer(a.length),b=new Uint8Array(d),c=0;c<a.length;c++)b[c]=a[c];return d};Y.prototype.download=function(a){var d=this.getEnglishName("fontFamily"),b=this.getEnglishName("fontSubfamily");a=a||d.replace(/\s/g,"")+"-"+b+".otf";var e=this.toArrayBuffer();"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,
e.byteLength,function(d){d.root.getFile(a,{create:!0},function(a){a.createWriter(function(d){var b=new DataView(e);b=new Blob([b],{type:"font/opentype"});d.write(b);d.addEventListener("writeend",function(){location.href=a.toURL()},!1)})})},function(a){throw Error(a.name+": "+a.message);})):(d=g("fs"),b=function(a){var d=new c(a.byteLength);a=new Uint8Array(a);for(var b=0;b<d.length;++b)d[b]=a[b];return d}(e),d.writeFileSync(a,b))};Y.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,
STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Y.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Y.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Kc={make:function(a,d){var b,c,e,f,h=new N.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",
value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:a.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:a.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*a.axes.length}]);h.offsetToData=h.sizeOf();for(var k=0;k<a.axes.length;k++)h.fields=h.fields.concat((b=k,c=a.axes[k],e=d,f=Yb(c.name,e),[{name:"tag_"+b,type:"TAG",value:c.tag},{name:"minValue_"+b,type:"FIXED",value:c.minValue<<16},{name:"defaultValue_"+
b,type:"FIXED",value:c.defaultValue<<16},{name:"maxValue_"+b,type:"FIXED",value:c.maxValue<<16},{name:"flags_"+b,type:"USHORT",value:0},{name:"nameID_"+b,type:"USHORT",value:f}]));for(b=0;b<a.instances.length;b++)h.fields=h.fields.concat(Cc(b,a.instances[b],a.axes,d));return h},parse:function(a,d,b){var c=new L.Parser(a,d),e=c.parseULong();R.argument(65536===e,"Unsupported fvar table version.");var f=c.parseOffset16();c.skip("uShort",1);var h,k,l,n,g,t=c.parseUShort(),m=c.parseUShort();e=c.parseUShort();
c=c.parseUShort();for(var r=[],u=0;u<t;u++)r.push((h=a,k=d+f+u*m,l=b,g=n=void 0,n={},g=new L.Parser(h,k),n.tag=g.parseTag(),n.minValue=g.parseFixed(),n.defaultValue=g.parseFixed(),n.maxValue=g.parseFixed(),g.skip("uShort",1),n.name=l[g.parseUShort()]||{},n));h=[];d=d+f+t*m;for(f=0;f<e;f++)h.push(Dc(a,d+f*c,r,b));return{axes:r,instances:h}}},qa=Array(10);qa[1]=function(){var a=this.offset+this.relativeOffset,d=this.parseUShort();return 1===d?{posFormat:1,coverage:this.parsePointer(x.coverage),value:this.parseValueRecord()}:
2===d?{posFormat:2,coverage:this.parsePointer(x.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+a.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};qa[2]=function(){var a=this.offset+this.relativeOffset,d=this.parseUShort();R.assert(1===d||2===d,"0x"+a.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");a=this.parsePointer(x.coverage);var b=this.parseUShort(),c=this.parseUShort();if(1===d)return{posFormat:d,coverage:a,valueFormat1:b,valueFormat2:c,pairSets:this.parseList(x.pointer(x.list(function(){return{secondGlyph:this.parseUShort(),
value1:this.parseValueRecord(b),value2:this.parseValueRecord(c)}})))};if(2===d){var e=this.parsePointer(x.classDef),f=this.parsePointer(x.classDef),h=this.parseUShort(),k=this.parseUShort();return{posFormat:d,coverage:a,valueFormat1:b,valueFormat2:c,classDef1:e,classDef2:f,class1Count:h,class2Count:k,classRecords:this.parseList(h,x.list(k,function(){return{value1:this.parseValueRecord(b),value2:this.parseValueRecord(c)}}))}}};qa[3]=function(){return{error:"GPOS Lookup 3 not supported"}};qa[4]=function(){return{error:"GPOS Lookup 4 not supported"}};
qa[5]=function(){return{error:"GPOS Lookup 5 not supported"}};qa[6]=function(){return{error:"GPOS Lookup 6 not supported"}};qa[7]=function(){return{error:"GPOS Lookup 7 not supported"}};qa[8]=function(){return{error:"GPOS Lookup 8 not supported"}};qa[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Uc=Array(10),Jc={parse:function(a,d){a=new x(a,d||0);d=a.parseVersion(1);return R.argument(1===d||1.1===d,"Unsupported GPOS table version "+d),1===d?{version:d,scripts:a.parseScriptList(),
features:a.parseFeatureList(),lookups:a.parseLookupList(qa)}:{version:d,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(qa),variations:a.parseFeatureVariationsList()}},make:function(a){return new N.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new N.ScriptList(a.scripts)},{name:"features",type:"TABLE",value:new N.FeatureList(a.features)},{name:"lookups",type:"TABLE",value:new N.LookupList(a.lookups,Uc)}])}},Ic={parse:function(a,
d){a=new L.Parser(a,d);d=a.parseUShort();if(0===d)return function(a){var d={};a.skip("uShort");var b=a.parseUShort();R.argument(0===b,"Unsupported kern sub-table version.");a.skip("uShort",2);b=a.parseUShort();a.skip("uShort",3);for(var c=0;c<b;c+=1){var e=a.parseUShort(),f=a.parseUShort(),h=a.parseShort();d[e+","+f]=h}return d}(a);if(1===d)return function(a){var d={};a.skip("uShort");1<a.parseULong()&&console.warn("Only the first kern subtable is supported.");a.skip("uLong");var b=255&a.parseUShort();
if(a.skip("uShort"),0===b){b=a.parseUShort();a.skip("uShort",3);for(var c=0;c<b;c+=1){var e=a.parseUShort(),f=a.parseUShort(),h=a.parseShort();d[e+","+f]=h}}return d}(a);throw Error("Unsupported kern table version ("+d+").");}},Hc={parse:function(a,d,b,c){a=new L.Parser(a,d);d=c?a.parseUShort:a.parseULong;for(var e=[],f=0;f<b+1;f+=1){var h=d.call(a);c&&(h*=2);e.push(h)}return e}};b.Font=Y;b.Glyph=V;b.Path=r;b.BoundingBox=t;b._parse=L;b.parse=pb;b.load=function(a,d){("undefined"==typeof window?Ec:
Fc)(a,function(a,b){if(a)return d(a);try{var c=pb(b)}catch(bb){return d(bb,null)}return d(null,c)})};b.loadSync=function(a){return pb(wb(g("fs").readFileSync(a)))};Object.defineProperty(b,"__esModule",{value:!0})})("object"==typeof q&&void 0!==p?q:this.opentype={})}).call(this,g("buffer").Buffer)},{buffer:3,fs:2}],10:[function(g,p,q){function c(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function f(a){if(l===setTimeout)return setTimeout(a,
0);if((l===c||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(u){try{return l.call(null,a,0)}catch(w){return l.call(this,a,0)}}}function a(){r&&n&&(r=!1,n.length?t=n.concat(t):z=-1,t.length&&d())}function d(){if(!r){var d=f(a);r=!0;for(var c=t.length;c;){n=t;for(t=[];++z<c;)n&&n[z].run();z=-1;c=t.length}n=null;r=!1;(function(a){if(k===clearTimeout)return clearTimeout(a);if((k===b||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(a);try{k(a)}catch(C){try{return k.call(null,
a)}catch(G){return k.call(this,a)}}})(d)}}function e(a,d){this.fun=a;this.array=d}function h(){}g=p.exports={};try{var l="function"==typeof setTimeout?setTimeout:c}catch(v){l=c}try{var k="function"==typeof clearTimeout?clearTimeout:b}catch(v){k=b}!0;var n,t=[],r=!1,z=-1;g.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];t.push(new e(a,b));1!==t.length||r||f(d)};e.prototype.run=function(){this.fun.apply(null,this.array)};
g.title="browser";g.browser=!0;g.env={};g.argv=[];g.version="";g.versions={};g.on=h;g.addListener=h;g.once=h;g.off=h;g.removeListener=h;g.removeAllListeners=h;g.emit=h;g.prependListener=h;g.prependOnceListener=h;g.listeners=function(a){return[]};g.binding=function(a){throw Error("process.binding is not supported");};g.cwd=function(){return"/"};g.chdir=function(a){throw Error("process.chdir is not supported");};g.umask=function(){return 0}},{}],11:[function(g,p,q){!function(c){function b(a){if("string"!=
typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function f(a){return"string"!=typeof a&&(a=String(a)),a}function a(a){var d={next:function(){var d=a.shift();return{done:void 0===d,value:d}}};return u&&(d[Symbol.iterator]=function(){return d}),d}function d(a){this.map={};a instanceof d?a.forEach(function(a,d){this.append(d,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):
a&&Object.getOwnPropertyNames(a).forEach(function(d){this.append(d,a[d])},this)}function e(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function h(a){return new Promise(function(d,b){a.onload=function(){d(a.result)};a.onerror=function(){b(a.error)}})}function l(a){var d=new FileReader,b=h(d);return d.readAsArrayBuffer(a),b}function k(a){if(a.slice)return a.slice(0);var d=new Uint8Array(a.byteLength);return d.set(new Uint8Array(a)),d.buffer}function n(){return this.bodyUsed=
!1,this._initBody=function(a){if(this._bodyInit=a)if("string"==typeof a)this._bodyText=a;else if(C&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(p&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(v&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(q&&C&&a&&DataView.prototype.isPrototypeOf(a))this._bodyArrayBuffer=k(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!q||!ArrayBuffer.prototype.isPrototypeOf(a)&&!E(a))throw Error("unsupported BodyInit type");
this._bodyArrayBuffer=k(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},C&&(this.blob=function(){var a=e(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));
if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?e(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var a,d,b,c=e(this);if(c)return c;if(this._bodyBlob)return a=this._bodyBlob,d=new FileReader,b=h(d),d.readAsText(a),b;if(this._bodyArrayBuffer)return Promise.resolve(function(a){a=new Uint8Array(a);for(var d=Array(a.length),b=0;b<
a.length;b++)d[b]=String.fromCharCode(a[b]);return d.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(r)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(a,b){var c,e,f=(b=b||{}).body;if(a instanceof g){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url;this.credentials=a.credentials;b.headers||(this.headers=
new d(a.headers));this.method=a.method;this.mode=a.mode;f||null==a._bodyInit||(f=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new d(b.headers)),this.method=(c=b.method||this.method||"GET",e=c.toUpperCase(),-1<K.indexOf(e)?e:c),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&f)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(f)}
function r(a){var d=new FormData;return a.trim().split("&").forEach(function(a){if(a){var b=a.split("=");a=b.shift().replace(/\+/g," ");b=b.join("=").replace(/\+/g," ");d.append(decodeURIComponent(a),decodeURIComponent(b))}}),d}function z(a,b){b||(b={});this.type="default";this.status=void 0===b.status?200:b.status;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in b?b.statusText:"OK";this.headers=new d(b.headers);this.url=b.url||"";this._initBody(a)}if(!c.fetch){var v="URLSearchParams"in
c,u="Symbol"in c&&"iterator"in Symbol,w;if(w="FileReader"in c&&"Blob"in c)try{w=(new Blob,!0)}catch(F){w=!1}var C=w,p="FormData"in c,q="ArrayBuffer"in c;if(q)var A="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),E=ArrayBuffer.isView||function(a){return a&&-1<A.indexOf(Object.prototype.toString.call(a))};d.prototype.append=function(a,d){a=b(a);
d=f(d);var c=this.map[a];this.map[a]=c?c+","+d:d};d.prototype.delete=function(a){delete this.map[b(a)]};d.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null};d.prototype.has=function(a){return this.map.hasOwnProperty(b(a))};d.prototype.set=function(a,d){this.map[b(a)]=f(d)};d.prototype.forEach=function(a,d){for(var b in this.map)this.map.hasOwnProperty(b)&&a.call(d,this.map[b],b,this)};d.prototype.keys=function(){var d=[];return this.forEach(function(a,b){d.push(b)}),a(d)};d.prototype.values=
function(){var d=[];return this.forEach(function(a){d.push(a)}),a(d)};d.prototype.entries=function(){var d=[];return this.forEach(function(a,b){d.push([b,a])}),a(d)};u&&(d.prototype[Symbol.iterator]=d.prototype.entries);var K="DELETE GET HEAD OPTIONS POST PUT".split(" ");g.prototype.clone=function(){return new g(this,{body:this._bodyInit})};n.call(g.prototype);n.call(z.prototype);z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),
url:this.url})};z.error=function(){var a=new z(null,{status:0,statusText:""});return a.type="error",a};var H=[301,302,303,307,308];z.redirect=function(a,d){if(-1===H.indexOf(d))throw new RangeError("Invalid status code");return new z(null,{status:d,headers:{location:a}})};c.Headers=d;c.Request=g;c.Response=z;c.fetch=function(a,b){return new Promise(function(c,e){var f=new g(a,b),h=new XMLHttpRequest;h.onload=function(){var a,b,e={status:h.status,statusText:h.statusText,headers:(a=h.getAllResponseHeaders()||
"",b=new d,a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var d=a.split(":");if(a=d.shift().trim())d=d.join(":").trim(),b.append(a,d)}),b)};e.url="responseURL"in h?h.responseURL:e.headers.get("X-Request-URL");c(new z("response"in h?h.response:h.responseText,e))};h.onerror=function(){e(new TypeError("Network request failed"))};h.ontimeout=function(){e(new TypeError("Network request failed"))};h.open(f.method,f.url,!0);"include"===f.credentials?h.withCredentials=!0:"omit"===f.credentials&&
(h.withCredentials=!1);"responseType"in h&&C&&(h.responseType="blob");f.headers.forEach(function(a,d){h.setRequestHeader(d,a)});h.send(void 0===f._bodyInit?null:f._bodyInit)})};c.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],12:[function(g,p,q){q=g("./core/main");g("./core/constants");g("./core/environment");g("./core/error_helpers");g("./core/helpers");g("./core/legacy");g("./core/p5.Element");g("./core/p5.Graphics");g("./core/p5.Renderer");g("./core/p5.Renderer2D");g("./core/rendering");
g("./core/shim");g("./core/structure");g("./core/transform");g("./core/shape/2d_primitives");g("./core/shape/attributes");g("./core/shape/curves");g("./core/shape/vertex");g("./color/color_conversion");g("./color/creating_reading");g("./color/p5.Color");g("./color/setting");g("./data/p5.TypedDict");g("./data/local_storage.js");g("./events/acceleration");g("./events/keyboard");g("./events/mouse");g("./events/touch");g("./image/filters");g("./image/image");g("./image/loading_displaying");g("./image/p5.Image");
g("./image/pixels");g("./io/files");g("./io/p5.Table");g("./io/p5.TableRow");g("./io/p5.XML");g("./math/calculation");g("./math/math");g("./math/noise");g("./math/p5.Vector");g("./math/random");g("./math/trigonometry");g("./typography/attributes");g("./typography/loading_displaying");g("./typography/p5.Font");g("./utilities/array_functions");g("./utilities/conversion");g("./utilities/string_functions");g("./utilities/time_date");g("./webgl/3d_primitives");g("./webgl/interaction");g("./webgl/light");
g("./webgl/loading");g("./webgl/material");g("./webgl/p5.Camera");g("./webgl/p5.Geometry");g("./webgl/p5.Matrix");g("./webgl/p5.RendererGL.Immediate");g("./webgl/p5.RendererGL");g("./webgl/p5.RendererGL.Retained");g("./webgl/p5.Shader");g("./webgl/p5.Texture");g("./webgl/text");g("./core/init");p.exports=q},{"./color/color_conversion":13,"./color/creating_reading":14,"./color/p5.Color":15,"./color/setting":16,"./core/constants":17,"./core/environment":18,"./core/error_helpers":19,"./core/helpers":20,
"./core/init":21,"./core/legacy":22,"./core/main":23,"./core/p5.Element":24,"./core/p5.Graphics":25,"./core/p5.Renderer":26,"./core/p5.Renderer2D":27,"./core/rendering":28,"./core/shape/2d_primitives":29,"./core/shape/attributes":30,"./core/shape/curves":31,"./core/shape/vertex":32,"./core/shim":33,"./core/structure":34,"./core/transform":35,"./data/local_storage.js":36,"./data/p5.TypedDict":37,"./events/acceleration":38,"./events/keyboard":39,"./events/mouse":40,"./events/touch":41,"./image/filters":42,
"./image/image":43,"./image/loading_displaying":44,"./image/p5.Image":45,"./image/pixels":46,"./io/files":47,"./io/p5.Table":48,"./io/p5.TableRow":49,"./io/p5.XML":50,"./math/calculation":51,"./math/math":52,"./math/noise":53,"./math/p5.Vector":54,"./math/random":55,"./math/trigonometry":56,"./typography/attributes":57,"./typography/loading_displaying":58,"./typography/p5.Font":59,"./utilities/array_functions":60,"./utilities/conversion":61,"./utilities/string_functions":62,"./utilities/time_date":63,
"./webgl/3d_primitives":64,"./webgl/interaction":65,"./webgl/light":66,"./webgl/loading":67,"./webgl/material":68,"./webgl/p5.Camera":69,"./webgl/p5.Geometry":70,"./webgl/p5.Matrix":71,"./webgl/p5.RendererGL":74,"./webgl/p5.RendererGL.Immediate":72,"./webgl/p5.RendererGL.Retained":73,"./webgl/p5.Shader":75,"./webgl/p5.Texture":76,"./webgl/text":77}],13:[function(g,p,q){g=g("../core/main");g.ColorConversion={};g.ColorConversion._hsbaToHSLA=function(c){var b=c[0],f=c[1],a=c[2],d=(2-f)*a/2;return 0!==
d&&(1===d?f=0:.5>d?f/=2-f:f=f*a/(2-2*d)),[b,f,d,c[3]]};g.ColorConversion._hsbaToRGBA=function(c){var b=6*c[0],f=c[1],a=c[2];if(0===f)c=[a,a,a,c[3]];else{var d,e,h=Math.floor(b),l=a*(1-f),k=a*(1-f*(b-h));b=a*(1-f*(1+h-b));a=1===h?(d=k,e=a,l):2===h?(d=l,e=a,b):3===h?(d=l,e=k,a):4===h?(d=b,e=l,a):5===h?(d=a,e=l,k):(d=a,e=b,l);c=[d,e,a,c[3]]}return c};g.ColorConversion._hslaToHSBA=function(c){var b,f=c[1],a=c[2];return[c[0],2*((b=.5>a?(1+f)*a:a+f-a*f)-a)/b,b,c[3]]};g.ColorConversion._hslaToRGBA=function(c){var b=
6*c[0],f=c[1],a=c[2],d=[];0===f?d=[a,a,a,c[3]]:(a=2*a-(f=.5>a?(1+f)*a:a+f-a*f),d=function(a,d,b){return 0>a?a+=6:6<=a&&(a-=6),1>a?d+(b-d)*a:3>a?b:4>a?d+(b-d)*(4-a):d},d=[d(b+2,a,f),d(b,a,f),d(b-2,a,f),c[3]]);return d};g.ColorConversion._rgbaToHSBA=function(c){var b,f,a=c[0],d=c[1],e=c[2],h=Math.max(a,d,e),l=h-Math.min(a,d,e);return 0===l?f=b=0:(f=l/h,a===h?b=(d-e)/l:d===h?b=2+(e-a)/l:e===h&&(b=4+(a-d)/l),0>b?b+=6:6<=b&&(b-=6)),[b/6,f,h,c[3]]};g.ColorConversion._rgbaToHSLA=function(c){var b,f,a=c[0],
d=c[1],e=c[2],h=Math.max(a,d,e),l=Math.min(a,d,e),k=h+l;l=h-l;return 0===l?f=b=0:(f=1>k?l/k:l/(2-k),a===h?b=(d-e)/l:d===h?b=2+(e-a)/l:e===h&&(b=4+(a-d)/l),0>b?b+=6:6<=b&&(b-=6)),[b/6,f,k/2,c[3]]};p.exports=g.ColorConversion},{"../core/main":23}],14:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants");g("./p5.Color");g("../core/error_helpers");c.prototype.alpha=function(b){return c._validateParameters("alpha",arguments),this.color(b)._getAlpha()};c.prototype.blue=function(b){return c._validateParameters("blue",
arguments),this.color(b)._getBlue()};c.prototype.brightness=function(b){return c._validateParameters("brightness",arguments),this.color(b)._getBrightness()};c.prototype.color=function(){return(c._validateParameters("color",arguments),arguments[0]instanceof c.Color)?arguments[0]:new c.Color(this,arguments[0]instanceof Array?arguments[0]:arguments)};c.prototype.green=function(b){return c._validateParameters("green",arguments),this.color(b)._getGreen()};c.prototype.hue=function(b){return c._validateParameters("hue",
arguments),this.color(b)._getHue()};c.prototype.lerpColor=function(f,a,d){c._validateParameters("lerpColor",arguments);var e,h,l,k,n=this._colorMode,g=this._colorMaxes;if(n===b.RGB){var r=f.levels.map(function(a){return a/255});var z=a.levels.map(function(a){return a/255})}else if(n===b.HSB)f._getBrightness(),a._getBrightness(),r=f.hsba,z=a.hsba;else{if(n!==b.HSL)throw Error(n+"cannot be used for interpolation.");f._getLightness();a._getLightness();r=f.hsla;z=a.hsla}return d=Math.max(Math.min(d,1),
0),void 0===this.lerp&&(this.lerp=function(a,d,b){return b*(d-a)+a}),e=this.lerp(r[0],z[0],d),h=this.lerp(r[1],z[1],d),l=this.lerp(r[2],z[2],d),k=this.lerp(r[3],z[3],d),e*=g[n][0],h*=g[n][1],l*=g[n][2],k*=g[n][3],this.color(e,h,l,k)};c.prototype.lightness=function(b){return c._validateParameters("lightness",arguments),this.color(b)._getLightness()};c.prototype.red=function(b){return c._validateParameters("red",arguments),this.color(b)._getRed()};c.prototype.saturation=function(b){return c._validateParameters("saturation",
arguments),this.color(b)._getSaturation()};p.exports=c},{"../core/constants":17,"../core/error_helpers":19,"../core/main":23,"./p5.Color":15}],15:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants"),f=g("./color_conversion");c.Color=function(a,d){if(this._storeModeAndMaxes(a._colorMode,a._colorMaxes),this.mode!==b.RGB&&this.mode!==b.HSL&&this.mode!==b.HSB)throw Error(this.mode+" is an invalid colorMode.");return this._array=c.Color._parseInputs.apply(this,d),this._calculateLevels(),this};
c.Color.prototype.toString=function(a){var d=this.levels,c=this._array,e=c[3];switch(a){case "#rrggbb":return"#".concat(16>d[0]?"0".concat(d[0].toString(16)):d[0].toString(16),16>d[1]?"0".concat(d[1].toString(16)):d[1].toString(16),16>d[2]?"0".concat(d[2].toString(16)):d[2].toString(16));case "#rrggbbaa":return"#".concat(16>d[0]?"0".concat(d[0].toString(16)):d[0].toString(16),16>d[1]?"0".concat(d[1].toString(16)):d[1].toString(16),16>d[2]?"0".concat(d[2].toString(16)):d[2].toString(16),16>d[3]?"0".concat(d[2].toString(16)):
d[3].toString(16));case "#rgb":return"#".concat(Math.round(15*c[0]).toString(16),Math.round(15*c[1]).toString(16),Math.round(15*c[2]).toString(16));case "#rgba":return"#".concat(Math.round(15*c[0]).toString(16),Math.round(15*c[1]).toString(16),Math.round(15*c[2]).toString(16),Math.round(15*c[3]).toString(16));case "rgb":return"rgb(".concat(d[0],", ",d[1],", ",d[2],")");case "rgb%":return"rgb(".concat((100*c[0]).toPrecision(3),"%, ",(100*c[1]).toPrecision(3),"%, ",(100*c[2]).toPrecision(3),"%)");case "rgba%":return"rgba(".concat((100*
c[0]).toPrecision(3),"%, ",(100*c[1]).toPrecision(3),"%, ",(100*c[2]).toPrecision(3),"%, ",(100*c[3]).toPrecision(3),"%)");case "hsb":case "hsv":return this.hsba||(this.hsba=f._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[b.HSB][0],", ",this.hsba[1]*this.maxes[b.HSB][1],", ",this.hsba[2]*this.maxes[b.HSB][2],")");case "hsb%":case "hsv%":return this.hsba||(this.hsba=f._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),
"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case "hsba":case "hsva":return this.hsba||(this.hsba=f._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[b.HSB][0],", ",this.hsba[1]*this.maxes[b.HSB][1],", ",this.hsba[2]*this.maxes[b.HSB][2],", ",e,")");case "hsba%":case "hsva%":return this.hsba||(this.hsba=f._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*e).toPrecision(3),
"%)");case "hsl":return this.hsla||(this.hsla=f._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[b.HSL][0],", ",this.hsla[1]*this.maxes[b.HSL][1],", ",this.hsla[2]*this.maxes[b.HSL][2],")");case "hsl%":return this.hsla||(this.hsla=f._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case "hsla":return this.hsla||(this.hsla=f._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*
this.maxes[b.HSL][0],", ",this.hsla[1]*this.maxes[b.HSL][1],", ",this.hsla[2]*this.maxes[b.HSL][2],", ",e,")");case "hsla%":return this.hsla||(this.hsla=f._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*e).toPrecision(3),"%)");default:return"rgba(".concat(d[0],",",d[1],",",d[2],",",e,")")}};c.Color.prototype.setRed=function(a){this._array[0]=a/this.maxes[b.RGB][0];this._calculateLevels()};
c.Color.prototype.setGreen=function(a){this._array[1]=a/this.maxes[b.RGB][1];this._calculateLevels()};c.Color.prototype.setBlue=function(a){this._array[2]=a/this.maxes[b.RGB][2];this._calculateLevels()};c.Color.prototype.setAlpha=function(a){this._array[3]=a/this.maxes[this.mode][3];this._calculateLevels()};c.Color.prototype._calculateLevels=function(){for(var a=this._array,d=this.levels=Array(a.length),b=a.length-1;0<=b;--b)d[b]=Math.round(255*a[b])};c.Color.prototype._getAlpha=function(){return this._array[3]*
this.maxes[this.mode][3]};c.Color.prototype._storeModeAndMaxes=function(a,d){this.mode=a;this.maxes=d};c.Color.prototype._getMode=function(){return this.mode};c.Color.prototype._getMaxes=function(){return this.maxes};c.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[b.RGB][2]};c.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=f._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[b.HSB][2]};c.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[b.RGB][1]};
c.Color.prototype._getHue=function(){return this.mode===b.HSB?(this.hsba||(this.hsba=f._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[b.HSB][0]):(this.hsla||(this.hsla=f._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[b.HSL][0])};c.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=f._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[b.HSL][2]};c.Color.prototype._getRed=function(){return this._array[0]*this.maxes[b.RGB][0]};c.Color.prototype._getSaturation=function(){return this.mode===
b.HSB?(this.hsba||(this.hsba=f._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[b.HSB][1]):(this.hsla||(this.hsla=f._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[b.HSL][1])};var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",
cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",
deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",
lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",
mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",
powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",
yellow:"#ffff00",yellowgreen:"#9acd32"};g=/\s*/;q=/(\d{1,3})/;var d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,e=new RegExp(d.source+"%"),h=/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,l=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,k=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,n=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,t=new RegExp(["^rgb\\(",q.source,",",q.source,",",q.source,"\\)$"].join(g.source),"i"),r=new RegExp(["^rgb\\(",e.source,",",e.source,",",e.source,"\\)$"].join(g.source),"i"),z=new RegExp(["^rgba\\(",
q.source,",",q.source,",",q.source,",",d.source,"\\)$"].join(g.source),"i"),v=new RegExp(["^rgba\\(",e.source,",",e.source,",",e.source,",",d.source,"\\)$"].join(g.source),"i"),u=new RegExp(["^hsl\\(",q.source,",",e.source,",",e.source,"\\)$"].join(g.source),"i"),w=new RegExp(["^hsla\\(",q.source,",",e.source,",",e.source,",",d.source,"\\)$"].join(g.source),"i"),C=new RegExp(["^hsb\\(",q.source,",",e.source,",",e.source,"\\)$"].join(g.source),"i"),G=new RegExp(["^hsba\\(",q.source,",",e.source,",",
e.source,",",d.source,"\\)$"].join(g.source),"i");c.Color._parseInputs=function(d,e,g,p){var q=arguments.length;var A=this.mode,D=this.maxes[A],E=[];if(3<=q){E[0]=d/D[0];E[1]=e/D[1];E[2]=g/D[2];E[3]="number"==typeof p?p/D[3]:1;for(q=E.length-1;0<=q;--q)D=E[q],0>D?E[q]=0:1<D&&(E[q]=1);return A===b.HSL?f._hslaToRGBA(E):A===b.HSB?f._hsbaToRGBA(E):E}if(1===q&&"string"==typeof d){A=d.trim().toLowerCase();if(a[A])return c.Color._parseInputs.call(this,a[A]);if(h.test(A))return(E=h.exec(A).slice(1).map(function(a){return parseInt(a+
a,16)/255}))[3]=1,E;if(k.test(A))return(E=k.exec(A).slice(1).map(function(a){return parseInt(a,16)/255}))[3]=1,E;if(l.test(A))return E=l.exec(A).slice(1).map(function(a){return parseInt(a+a,16)/255});if(n.test(A))return E=n.exec(A).slice(1).map(function(a){return parseInt(a,16)/255});if(t.test(A))return(E=t.exec(A).slice(1).map(function(a){return a/255}))[3]=1,E;if(r.test(A))return(E=r.exec(A).slice(1).map(function(a){return parseFloat(a)/100}))[3]=1,E;if(z.test(A))return E=z.exec(A).slice(1).map(function(a,
d){return 3===d?parseFloat(a):a/255});if(v.test(A))return E=v.exec(A).slice(1).map(function(a,d){return 3===d?parseFloat(a):parseFloat(a)/100});if(u.test(A)?(E=u.exec(A).slice(1).map(function(a,d){return 0===d?parseInt(a,10)/360:parseInt(a,10)/100}))[3]=1:w.test(A)&&(E=w.exec(A).slice(1).map(function(a,d){return 0===d?parseInt(a,10)/360:3===d?parseFloat(a):parseInt(a,10)/100})),(E=E.map(function(a){return Math.max(Math.min(a,1),0)})).length)return f._hslaToRGBA(E);if(C.test(A)?(E=C.exec(A).slice(1).map(function(a,
d){return 0===d?parseInt(a,10)/360:parseInt(a,10)/100}))[3]=1:G.test(A)&&(E=G.exec(A).slice(1).map(function(a,d){return 0===d?parseInt(a,10)/360:3===d?parseFloat(a):parseInt(a,10)/100})),E.length){for(q=E.length-1;0<=q;--q)E[q]=Math.max(Math.min(E[q],1),0);return f._hsbaToRGBA(E)}E=[1,1,1,1]}else{if(1!==q&&2!==q||"number"!=typeof d)throw Error(arguments+"is not a valid color representation.");E[0]=d/D[2];E[1]=d/D[2];E[2]=d/D[2];E[3]="number"==typeof e?e/D[3]:1;E=E.map(function(a){return Math.max(Math.min(a,
1),0)})}return E};p.exports=c.Color},{"../core/constants":17,"../core/main":23,"./color_conversion":13}],16:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants");g("./p5.Color");c.prototype.background=function(){return this._renderer.background.apply(this._renderer,arguments),this};c.prototype.clear=function(){return this._renderer.clear(),this};c.prototype.colorMode=function(f,a,d,e,h){if(c._validateParameters("colorMode",arguments),f===b.RGB||f===b.HSB||f===b.HSL){this._colorMode=f;
var l=this._colorMaxes[f];2===arguments.length?(l[0]=a,l[1]=a,l[2]=a,l[3]=a):4===arguments.length?(l[0]=a,l[1]=d,l[2]=e):5===arguments.length&&(l[0]=a,l[1]=d,l[2]=e,l[3]=h)}return this};c.prototype.fill=function(){return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),this._renderer.fill.apply(this._renderer,arguments),this};c.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this};c.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",
!1),this};c.prototype.stroke=function(){return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),this._renderer.stroke.apply(this._renderer,arguments),this};p.exports=c},{"../core/constants":17,"../core/main":23,"./p5.Color":15}],17:[function(g,p,q){g=Math.PI;p.exports={P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:g/2,PI:g,QUARTER_PI:g/4,TAU:2*g,TWO_PI:2*g,DEGREES:"degrees",RADIANS:"radians",
DEG_TO_RAD:g/180,RAD_TO_DEG:180/g,CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:0,LINES:1,LINE_STRIP:3,LINE_LOOP:2,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,
DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"source-over",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",SUBTRACT:"subtract",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"copy",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",
ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",BOLDITALIC:"bold italic",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",STROKE:"stroke",FILL:"fill",TEXTURE:"texture",IMMEDIATE:"immediate",IMAGE:"image",NEAREST:"nearest",REPEAT:"repeat",CLAMP:"clamp",MIRROR:"mirror",LANDSCAPE:"landscape",PORTRAIT:"portrait",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF",GRID:"grid",AXES:"axes"}},{}],
18:[function(g,p,q){function c(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function b(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}var f=g("./main");g=g("./constants");var a=[g.ARROW,g.CROSS,g.HAND,g.MOVE,g.TEXT,g.WAIT];f.prototype._frameRate=0;f.prototype._lastFrameTime=window.performance.now();f.prototype._targetFrameRate=
60;var d=window.print;f.prototype.print=function(){arguments.length?console.log.apply(console,arguments):d()};f.prototype.frameCount=0;f.prototype.deltaTime=0;f.prototype.focused=document.hasFocus();f.prototype.cursor=function(d,b,c){var e="auto",f=this._curElement.elt;-1<a.indexOf(d)?e=d:"string"==typeof d&&(e="",b&&c&&"number"==typeof b&&"number"==typeof c&&(e=b+" "+c),e="http://"===d.substring(0,7)||"https://"===d.substring(0,8)?"url("+d+") "+e+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(d)?
"url("+d+") "+e+", auto":d);f.style.cursor=e};f.prototype.frameRate=function(a){return f._validateParameters("frameRate",arguments),"number"!=typeof a||0>a?this._frameRate:(this._setProperty("_targetFrameRate",a),this)};f.prototype.getFrameRate=function(){return this.frameRate()};f.prototype.setFrameRate=function(a){return this.frameRate(a)};f.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"};f.prototype.displayWidth=screen.width;f.prototype.displayHeight=screen.height;f.prototype.windowWidth=
c();f.prototype.windowHeight=b();f.prototype._onresize=function(a){this._setProperty("windowWidth",c());this._setProperty("windowHeight",b());var d,e=this._isGlobal?window:this;"function"==typeof e.windowResized&&(void 0===(d=e.windowResized(a))||d||a.preventDefault())};f.prototype.width=0;f.prototype.height=0;f.prototype.fullscreen=function(a){if(f._validateParameters("fullscreen",arguments),void 0===a)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||
document.msFullscreenElement;if(a){var d=document.documentElement;if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw Error("Fullscreen not enabled in this browser.");d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?
document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};f.prototype.pixelDensity=function(a){var d;return f._validateParameters("pixelDensity",arguments),"number"==typeof a?(a!==this._pixelDensity&&(this._pixelDensity=a,this._pixelsDirty=!0),(d=this).resizeCanvas(this.width,this.height,!0)):d=this._pixelDensity,d};f.prototype.displayDensity=function(){return window.devicePixelRatio};f.prototype.getURL=function(){return location.href};
f.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(a){return""!==a})};f.prototype.getURLParams=function(){for(var a,d=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,b={};null!=(a=d.exec(location.search));)a.index===d.lastIndex&&d.lastIndex++,b[a[1]]=a[2];return b};p.exports=f},{"./constants":17,"./main":23}],19:[function(g,p,q){var c=g("./main");g("./constants");c._validateParameters=c._friendlyFileLoadError=c._friendlyError=function(){};var b=null,f=function(a,d){var e,f;d||
(d=console.log.bind(console));b||(e={},(b=[].concat((f=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return"_"!==a[0]&&!(a in e)&&(e[a]=!0)}).map(function(d){var b;return b="function"==typeof a[d]?"function":d===d.toUpperCase()?"constant":"variable",{name:d,type:b}})})(c.prototype),f(g("./constants")))).sort(function(a,d){return d.name.length-a.name.length}));b.some(function(b){if(a.message&&null!==a.message.match("\\W?"+b.name+"\\W"))return d("Did you just try to use p5.js's "+
b.name+("function"===b.type?"() ":" ")+b.type+"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),!0})};c.prototype._helpForMisusedAtTopLevelCode=f;"complete"!==document.readyState&&(window.addEventListener("error",f,!1),window.addEventListener("load",function(){window.removeEventListener("error",f,!1)}));p.exports=c},{"../../docs/reference/data.json":void 0,
"./constants":17,"./main":23}],20:[function(g,p,q){var c=g("./constants");p.exports={modeAdjust:function(b,f,a,d,e){return e===c.CORNER?{x:b,y:f,w:a,h:d}:e===c.CORNERS?{x:b,y:f,w:a-b,h:d-f}:e===c.RADIUS?{x:b-a,y:f-d,w:2*a,h:2*d}:e===c.CENTER?{x:b-.5*a,y:f-.5*d,w:a,h:d}:void 0}}},{"./constants":17}],21:[function(g,p,q){var c=g("../core/main");g=function(){window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!c.instance&&new c};"complete"===document.readyState?
g():window.addEventListener("load",g,!1)},{"../core/main":23}],22:[function(g,p,q){g=g("./main");g.prototype.pushStyle=function(){throw Error("pushStyle() not used, see push()");};g.prototype.popStyle=function(){throw Error("popStyle() not used, see pop()");};g.prototype.popMatrix=function(){throw Error("popMatrix() not used, see pop()");};g.prototype.printMatrix=function(){throw Error("printMatrix() is not implemented in p5.js, refer to [https://simonsarris.com/a-transformation-class-for-canvas-to-keep-track-of-the-transformation-matrix/] to add your own implementation.");
};g.prototype.pushMatrix=function(){throw Error("pushMatrix() not used, see push()");};p.exports=g},{"./main":23}],23:[function(g,p,q){g("./shim");var c=g("./constants"),b=function l(d,b,c){this._setupDone=!1;this._pixelDensity=Math.ceil(window.devicePixelRatio)||1;this._userNode=b;this._curElement=null;this._elements=[];this._glAttributes=null;this._preloadCount=this._requestAnimId=0;this._isGlobal=!1;this._loop=!0;this._initializeInstanceVariables();this._defaultCanvasSize={width:100,height:100};
this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null};this._events.wheel=null;this._loadingScreenId="p5_loading";this._registeredMethods={};b=Object.getOwnPropertyNames(l.prototype._registeredMethods);for(c=0;c<b.length;c++){var e=b[c];this._registeredMethods[e]=l.prototype._registeredMethods[e].slice()}window.DeviceOrientationEvent&&
(this._events.deviceorientation=null);window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null);this._start=function(){this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode));var d=(this._isGlobal?window:this).preload;if(d){var b=document.getElementById(this._loadingScreenId);b||((b=document.createElement("div")).innerHTML="Loading...",b.style.position="absolute",b.id=this._loadingScreenId,(this._userNode||document.body).appendChild(b));
b=this._preloadMethods;for(var c in b){b[c]=b[c]||l;var e=b[c];e!==l.prototype&&e!==l||(this._isGlobal&&(window[c]=this._wrapPreload(this,c)),e=this);this._registeredPreloadMethods[c]=e[c];e[c]=this._wrapPreload(e,c)}d();this._runIfPreloadsAreDone()}else this._setup(),this._draw()}.bind(this);this._runIfPreloadsAreDone=function(){var d=this._isGlobal?window:this;if(0===d._preloadCount){var b=document.getElementById(d._loadingScreenId);b&&b.parentNode.removeChild(b);d._setup();d._draw()}};this._decrementPreload=
function(){var d=this._isGlobal?window:this;"function"==typeof d.preload&&(d._setProperty("_preloadCount",d._preloadCount-1),d._runIfPreloadsAreDone())};this._wrapPreload=function(d,b){return function(){return this._incrementPreload(),this._registeredPreloadMethods[b].apply(d,arguments)}.bind(this)};this._incrementPreload=function(){var d=this._isGlobal?window:this;d._setProperty("_preloadCount",d._preloadCount+1)};this._setup=function(){this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,
"p2d");var d=this._isGlobal?window:this;if("function"==typeof d.preload)for(var b in this._preloadMethods)d[b]=this._preloadMethods[b][b],d[b]&&this&&(d[b]=d[b].bind(this));"function"==typeof d.setup&&d.setup();d=document.getElementsByTagName("canvas");for(b=0;b<d.length;b++){var c=d[b];"true"===c.dataset.hidden&&(c.style.visibility="",delete c.dataset.hidden)}this._setupDone=!0}.bind(this);this._draw=function(){var d=window.performance.now(),b=d-this._lastFrameTime,c=1E3/this._targetFrameRate;(!this._loop||
c-5<=b)&&(this.redraw(),this._frameRate=1E3/(d-this._lastFrameTime),this.deltaTime=d-this._lastFrameTime,this._setProperty("deltaTime",this.deltaTime),this._lastFrameTime=d,void 0!==this._updateMouseCoords&&this._updateMouseCoords());this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(this);this._setProperty=function(d,b){this[d]=b;this._isGlobal&&(window[d]=b)}.bind(this);this.remove=function(){var d=document.getElementById(this._loadingScreenId);if(d&&(d.parentNode.removeChild(d),
this._incrementPreload()),this._curElement){for(var b in this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._events)window.removeEventListener(b,this._events[b]);for(d=0;d<this._elements.length;d++){b=this._elements[d];for(var c in b.elt.parentNode&&b.elt.parentNode.removeChild(b.elt),b._events)b.elt.removeEventListener(c,b._events[c])}var e=this;this._registeredMethods.remove.forEach(function(d){void 0!==d&&d.call(e)})}if(this._isGlobal){for(var f in l.prototype)try{delete window[f]}catch(E){window[f]=
void 0}for(var h in this)if(this.hasOwnProperty(h))try{delete window[h]}catch(E){window[h]=void 0}l.instance=null}}.bind(this);this._registeredMethods.init.forEach(function(d){void 0!==d&&d.call(this)},this);b=this._createFriendlyGlobalFunctionBinder();if(d)d(this);else{for(var f in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[f]?(d=f.substring(2),this._events.hasOwnProperty(d)||(Math.hasOwnProperty(f)&&Math[f]===l.prototype[f]?b(f,l.prototype[f]):b(f,l.prototype[f].bind(this)))):
b(f,l.prototype[f]);for(var h in this)this.hasOwnProperty(h)&&b(h,this[h])}for(var g in this._events)if(f=this["_on"+g])f=f.bind(this),window.addEventListener(g,f,{passive:!1}),this._events[g]=f;var z=function(){this._setProperty("focused",!0)}.bind(this),v=function(){this._setProperty("focused",!1)}.bind(this);window.addEventListener("focus",z);window.addEventListener("blur",v);this.registerMethod("remove",function(){window.removeEventListener("focus",z);window.removeEventListener("blur",v)});"complete"===
document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)},f;for(f in b.prototype._initializeInstanceVariables=function(){this._styles=[];this._curveDetail=this._bezierDetail=20;this._colorMode=c.RGB;this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]};this._pixelsDirty=!0;this._downKeys={}},b.instance=null,b.disableFriendlyErrors=!1,c)b.prototype[f]=c[f];b.prototype._preloadMethods={loadJSON:b.prototype,loadImage:b.prototype,loadStrings:b.prototype,
loadXML:b.prototype,loadBytes:b.prototype,loadTable:b.prototype,loadFont:b.prototype,loadModel:b.prototype,loadShader:b.prototype};b.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]};b.prototype._registeredPreloadMethods={};b.prototype.registerPreloadMethod=function(d,c){b.prototype._preloadMethods.hasOwnProperty(d)||(b.prototype._preloadMethods[d]=c)};b.prototype.registerMethod=function(d,c){var e=this||b.prototype;e._registeredMethods.hasOwnProperty(d)||(e._registeredMethods[d]=[]);
e._registeredMethods[d].push(c)};b.prototype._createFriendlyGlobalFunctionBinder=function(d){var b=(d=d||{}).globalObject||window;d.log||console.log.bind(console);return function(d,c){b[d]=c}};p.exports=b},{"./constants":17,"./shim":33}],24:[function(g,p,q){var c=g("./main");c.Element=function(b,c){this.elt=b;this._pInst=this._pixelsState=c;this._events={};this.width=this.elt.offsetWidth;this.height=this.elt.offsetHeight};c.Element.prototype.parent=function(b){return void 0===b?this.elt.parentNode:
("string"==typeof b?("#"===b[0]&&(b=b.substring(1)),b=document.getElementById(b)):b instanceof c.Element&&(b=b.elt),b.appendChild(this.elt),this)};c.Element.prototype.id=function(b){return void 0===b?this.elt.id:(this.elt.id=b,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)};c.Element.prototype.class=function(b){return void 0===b?this.elt.className:(this.elt.className=b,this)};c.Element.prototype.mousePressed=function(b){return c.Element._adjustListener("mousedown",function(c){return this._pInst._setProperty("mouseIsPressed",
!0),this._pInst._setMouseButton(c),b.call(this)},this),this};c.Element.prototype.doubleClicked=function(b){return c.Element._adjustListener("dblclick",b,this),this};c.Element.prototype.mouseWheel=function(b){return c.Element._adjustListener("wheel",b,this),this};c.Element.prototype.mouseReleased=function(b){return c.Element._adjustListener("mouseup",b,this),this};c.Element.prototype.mouseClicked=function(b){return c.Element._adjustListener("click",b,this),this};c.Element.prototype.mouseMoved=function(b){return c.Element._adjustListener("mousemove",
b,this),this};c.Element.prototype.mouseOver=function(b){return c.Element._adjustListener("mouseover",b,this),this};c.Element.prototype.mouseOut=function(b){return c.Element._adjustListener("mouseout",b,this),this};c.Element.prototype.touchStarted=function(b){return c.Element._adjustListener("touchstart",b,this),this};c.Element.prototype.touchMoved=function(b){return c.Element._adjustListener("touchmove",b,this),this};c.Element.prototype.touchEnded=function(b){return c.Element._adjustListener("touchend",
b,this),this};c.Element.prototype.dragOver=function(b){return c.Element._adjustListener("dragover",b,this),this};c.Element.prototype.dragLeave=function(b){return c.Element._adjustListener("dragleave",b,this),this};c.Element._adjustListener=function(b,f,a){return!1===f?c.Element._detachListener(b,a):c.Element._attachListener(b,f,a),this};c.Element._attachListener=function(b,f,a){a._events[b]&&c.Element._detachListener(b,a);f=f.bind(a);a.elt.addEventListener(b,f,!1);a._events[b]=f};c.Element._detachListener=
function(b,c){c.elt.removeEventListener(b,c._events[b],!1);c._events[b]=null};c.Element.prototype._setProperty=function(b,c){this[b]=c};p.exports=c.Element},{"./main":23}],25:[function(g,p,q){var c=g("./main"),b=g("./constants");c.Graphics=function(f,a,d,e){d=d||b.P2D;this.canvas=document.createElement("canvas");var h=e._userNode||document.body,l;for(l in h.appendChild(this.canvas),c.Element.call(this,this.canvas,e),c.prototype)this[l]||("function"==typeof c.prototype[l]?this[l]=c.prototype[l].bind(this):
this[l]=c.prototype[l]);return c.prototype._initializeInstanceVariables.apply(this),this.width=f,this.height=a,this._pixelDensity=e._pixelDensity,d===b.WEBGL?this._renderer=new c.RendererGL(this.canvas,this,!1):this._renderer=new c.Renderer2D(this.canvas,this,!1),e._elements.push(this),this._renderer.resize(f,a),this._renderer._applyDefaults(),this};c.Graphics.prototype=Object.create(c.Element.prototype);c.Graphics.prototype.reset=function(){this._renderer.resetMatrix();this._renderer.isP3D&&this._renderer._update()};
c.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var b=this._pInst._elements.indexOf(this),a;for(a in-1!==b&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(a,this._events[a])};p.exports=c.Graphics},{"./constants":17,"./main":23}],26:[function(g,p,q){function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function b(a){var d=0,b=0;if(a.offsetParent)for(;d+=a.offsetLeft,b+=a.offsetTop,a=a.offsetParent;);else d+=a.offsetLeft,b+=a.offsetTop;return[d,b]}var f=g("./main"),a=g("../core/constants");f.Renderer=function(d,b,c){f.Element.call(this,d,b);this.canvas=d;this._pixelsState=b;c?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",
this.height)):(this.canvas.style.display="none",this._styles=[]);this._textSize=12;this._textLeading=15;this._textFont="sans-serif";this._textStyle=a.NORMAL;this._textDescent=this._textAscent=null;this._textAlign=a.LEFT;this._textBaseline=a.BASELINE;this._rectMode=a.CORNER;this._ellipseMode=a.CENTER;this._curveTightness=0;this._imageMode=a.CORNER;this._tint=null;this._doFill=this._doStroke=!0;this._fillSet=this._strokeSet=!1};f.Renderer.prototype=Object.create(f.Element.prototype);f.Renderer.prototype.push=
function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}};f.Renderer.prototype.pop=function(a){a.properties&&Object.assign(this,a.properties)};f.Renderer.prototype.resize=
function(a,b){this.width=a;this.height=b;this.elt.width=a*this._pInst._pixelDensity;this.elt.height=b*this._pInst._pixelDensity;this.elt.style.width=a+"px";this.elt.style.height=b+"px";this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))};f.Renderer.prototype.get=function(a,b,c,l){var d=this._pixelsState,e=d._pixelDensity,h=this.canvas;if(void 0===a&&void 0===b)a=b=0,c=d.width,l=d.height;else if(a*=e,b*=e,void 0===c&&void 0===l)return 0>
a||0>b||a>=h.width||b>=h.height?[0,0,0,0]:this._getPixel(a,b);d=new f.Image(c,l);return d.canvas.getContext("2d").drawImage(h,a,b,c*e,l*e,0,0,c,l),d};f.Renderer.prototype.textLeading=function(a){return"number"==typeof a?(this._setProperty("_textLeading",a),this._pInst):this._textLeading};f.Renderer.prototype.textSize=function(d){return"number"==typeof d?(this._setProperty("_textSize",d),this._setProperty("_textLeading",d*a._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize};f.Renderer.prototype.textStyle=
function(d){return d?(d!==a.NORMAL&&d!==a.ITALIC&&d!==a.BOLD&&d!==a.BOLDITALIC||this._setProperty("_textStyle",d),this._applyTextProperties()):this._textStyle};f.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent};f.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent};f.Renderer.prototype.textAlign=function(a,b){return void 0!==a?(this._setProperty("_textAlign",a),void 0!==
b&&this._setProperty("_textBaseline",b),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}};f.Renderer.prototype.text=function(d,b,c,f,k){var e,h,l,g=this._pInst,v=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==d){if("string"!=typeof d&&(d=d.toString()),e=d.replace(/(\t)/g,"  ").split("\n"),void 0!==f){for(h=l=0;h<e.length;h++){var u="";var w=e[h].split(" ");for(d=0;d<w.length;d++){var C=u+w[d]+" ";f<this.textWidth(C)?(u=w[d]+" ",l+=g.textLeading()):
u=C}}switch(this._rectMode===a.CENTER&&(b-=f/2,c-=k/2),this._textAlign){case a.CENTER:b+=f/2;break;case a.RIGHT:b+=f}var p=!1;if(void 0!==k){switch(this._textBaseline){case a.BOTTOM:c+=k-l;break;case a.CENTER:c+=(k-l)/2;break;case a.BASELINE:p=!0,this._textBaseline=a.TOP}v=c+k-g.textAscent()}for(h=0;h<e.length;h++){u="";w=e[h].split(" ");for(d=0;d<w.length;d++)C=u+w[d]+" ",f<this.textWidth(C)&&0<u.length?(this._renderText(g,u,b,c,v),u=w[d]+" ",c+=g.textLeading()):u=C;this._renderText(g,u,b,c,v);c+=
g.textLeading();p&&(this._textBaseline=a.BASELINE)}}else for(f=0,k=g.textAlign().vertical,k===a.CENTER?f=(e.length-1)*g.textLeading()/2:k===a.BOTTOM&&(f=(e.length-1)*g.textLeading()),k=0;k<e.length;k++)this._renderText(g,e[k],b,c-f,v),c+=g.textLeading();return g}};f.Renderer.prototype._applyDefaults=function(){return this};f.Renderer.prototype._isOpenType=function(a){return"object"===c(a=a||this._textFont)&&a.font&&a.font.supported};f.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",
this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var a=document.createElement("span");a.style.fontFamily=this._textFont;a.style.fontSize=this._textSize+"px";a.innerHTML="ABCjgq|";var c=document.createElement("div");c.style.display="inline-block";c.style.width="1px";c.style.height="0px";var f=document.createElement("div");f.appendChild(a);f.appendChild(c);f.style.height="0px";f.style.overflow="hidden";document.body.appendChild(f);c.style.verticalAlign=
"baseline";var l=b(c),k=b(a),g=l[1]-k[1];c.style.verticalAlign="bottom";l=b(c);k=b(a);a=l[1]-k[1]-g;return document.body.removeChild(f),this._setProperty("_textAscent",g),this._setProperty("_textDescent",a),this};p.exports=f.Renderer},{"../core/constants":17,"./main":23}],27:[function(g,p,q){var c=g("./main"),b=g("./constants"),f=g("../image/filters");g("./p5.Renderer");c.Renderer2D=function(a,d,b){return c.Renderer.call(this,a,d,b),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",
this.drawingContext),this};c.Renderer2D.prototype=Object.create(c.Renderer.prototype);c.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0;this._setFill(b._DEFAULT_FILL);this._setStroke(b._DEFAULT_STROKE);this.drawingContext.lineCap=b.ROUND;this.drawingContext.font="normal 12px sans-serif"};c.Renderer2D.prototype.resize=function(a,d){c.Renderer.prototype.resize.call(this,a,d);this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)};
c.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),arguments[0]instanceof c.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var a=this._getFill(),d=this._pInst.color.apply(this._pInst,arguments).toString();this._setFill(d);this.drawingContext.fillRect(0,0,this.width,this.height);this._setFill(a)}this.drawingContext.restore();this._pixelsState._pixelsDirty=!0};c.Renderer2D.prototype.clear=function(){this.drawingContext.save();this.resetMatrix();
this.drawingContext.clearRect(0,0,this.width,this.height);this.drawingContext.restore();this._pixelsState._pixelsDirty=!0};c.Renderer2D.prototype.fill=function(){var a=this._pInst.color.apply(this._pInst,arguments);this._setFill(a.toString())};c.Renderer2D.prototype.stroke=function(){var a=this._pInst.color.apply(this._pInst,arguments);this._setStroke(a.toString())};c.Renderer2D.prototype.image=function(a,d,b,f,l,k,g,t,r){var e;try{this._tint&&(c.MediaElement&&a instanceof c.MediaElement&&a.loadPixels(),
a.canvas&&(e=this._getTintedImageCanvas(a)));e||(e=a.canvas||a.elt);var h=1;a.width&&0<a.width&&(h=e.width/a.width);this.drawingContext.drawImage(e,h*d,h*b,h*f,h*l,k,g,t,r)}catch(u){if("NS_ERROR_NOT_AVAILABLE"!==u.name)throw u;}this._pixelsState._pixelsDirty=!0};c.Renderer2D.prototype._getTintedImageCanvas=function(a){if(!a.canvas)return a;var d=f._toPixels(a.canvas),b=document.createElement("canvas");b.width=a.canvas.width;b.height=a.canvas.height;var c=b.getContext("2d");a=c.createImageData(a.canvas.width,
a.canvas.height);for(var l=a.data,k=0;k<d.length;k+=4){var g=d[k+1],t=d[k+2],r=d[k+3];l[k]=d[k]*this._tint[0]/255;l[k+1]=g*this._tint[1]/255;l[k+2]=t*this._tint[2]/255;l[k+3]=r*this._tint[3]/255}return c.putImageData(a,0,0),b};c.Renderer2D.prototype.blendMode=function(a){if(a===b.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(a!==b.BLEND&&a!==b.DARKEST&&a!==b.LIGHTEST&&a!==b.DIFFERENCE&&a!==b.MULTIPLY&&a!==b.EXCLUSION&&a!==b.SCREEN&&a!==b.REPLACE&&a!==b.OVERLAY&&a!==
b.HARD_LIGHT&&a!==b.SOFT_LIGHT&&a!==b.DODGE&&a!==b.BURN&&a!==b.ADD)throw Error("Mode "+a+" not recognized.");this.drawingContext.globalCompositeOperation=a}};c.Renderer2D.prototype.blend=function(){var a=this.drawingContext.globalCompositeOperation,d=arguments[arguments.length-1],b=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=d;this._pInst?this._pInst.copy.apply(this._pInst,b):this.copy.apply(this,b);this.drawingContext.globalCompositeOperation=
a};c.Renderer2D.prototype.copy=function(){if(9===arguments.length){var a=arguments[0];var d=arguments[1];var b=arguments[2];var f=arguments[3];var l=arguments[4];var k=arguments[5];var g=arguments[6];var t=arguments[7];var r=arguments[8]}else{if(8!==arguments.length)throw Error("Signature not supported");a=this._pInst;d=arguments[0];b=arguments[1];f=arguments[2];l=arguments[3];k=arguments[4];g=arguments[5];t=arguments[6];r=arguments[7]}c.Renderer2D._copyHelper(this,a,d,b,f,l,k,g,t,r);this._pixelsState._pixelsDirty=
!0};c.Renderer2D._copyHelper=function(a,d,b,c,f,k,g,t,r,z){d.loadPixels();var e=d.canvas.width/d.width;a.drawingContext.drawImage(d.canvas,e*b,e*c,e*f,e*k,g,t,r,z)};c.Renderer2D.prototype._getPixel=function(a,d){var b,c,f=this._pixelsState;return c=f._pixelsDirty?(b=this.drawingContext.getImageData(a,d,1,1).data,0):(b=f.pixels,4*(Math.floor(a)+Math.floor(d)*this.canvas.width)),[b[c+0],b[c+1],b[c+2],b[c+3]]};c.Renderer2D.prototype.loadPixels=function(){var a=this._pixelsState;if(a._pixelsDirty){a._pixelsDirty=
!1;var d=a._pixelDensity;d=this.drawingContext.getImageData(0,0,this.width*d,this.height*d);a._setProperty("imageData",d);a._setProperty("pixels",d.data)}};c.Renderer2D.prototype.set=function(a,d,b){a=Math.floor(a);d=Math.floor(d);var e=this._pixelsState;if(b instanceof c.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(e._pixelDensity,e._pixelDensity),this.drawingContext.drawImage(b.canvas,a,d),this.drawingContext.restore(),e._pixelsDirty=!0;
else{var f=0,k=0,g=0,t=0,r=4*(d*e._pixelDensity*this.width*e._pixelDensity+a*e._pixelDensity);if(e.imageData&&!e._pixelsDirty||e.loadPixels.call(e),"number"==typeof b)r<e.pixels.length&&(g=k=f=b,t=255);else if(b instanceof Array){if(4>b.length)throw Error("pixel array must be of the form [R, G, B, A]");r<e.pixels.length&&(f=b[0],k=b[1],g=b[2],t=b[3])}else b instanceof c.Color&&r<e.pixels.length&&(f=b.levels[0],k=b.levels[1],g=b.levels[2],t=b.levels[3]);for(b=0;b<e._pixelDensity;b++)for(var z=0;z<
e._pixelDensity;z++)r=4*((d*e._pixelDensity+z)*this.width*e._pixelDensity+(a*e._pixelDensity+b)),e.pixels[r]=f,e.pixels[r+1]=k,e.pixels[r+2]=g,e.pixels[r+3]=t}};c.Renderer2D.prototype.updatePixels=function(a,d,b,c){var e=this._pixelsState,f=e._pixelDensity;void 0===a&&void 0===d&&void 0===b&&void 0===c&&(d=a=0,b=this.width,c=this.height);a*=f;d*=f;b*=f;c*=f;this.drawingContext.putImageData(e.imageData,a,d,0,0,b,c);0===a&&0===d&&b===this.width&&c===this.height||(e._pixelsDirty=!0)};c.Renderer2D.prototype._acuteArcToBezier=
function(a,d){var b=d/2,c=Math.cos(b),f=a+b,k=Math.cos(f);f=Math.sin(f);var g=(4-c)/3;b=Math.sin(b)+1/Math.tan(b)*(c-g);return{ax:Math.cos(a).toFixed(7),ay:Math.sin(a).toFixed(7),bx:(g*k+b*f).toFixed(7),by:(g*f-b*k).toFixed(7),cx:(g*k-b*f).toFixed(7),cy:(g*f+b*k).toFixed(7),dx:Math.cos(a+d).toFixed(7),dy:Math.sin(a+d).toFixed(7)}};c.Renderer2D.prototype.arc=function(a,d,c,f,l,k,g){var e=this.drawingContext,h=c/2,n=f/2;c=0;f=[];a+=h;for(d+=n;1E-5<=k-l;)c=Math.min(k-l,b.HALF_PI),f.push(this._acuteArcToBezier(l,
c)),l+=c;return this._doFill&&(e.beginPath(),f.forEach(function(b,c){0===c&&e.moveTo(a+b.ax*h,d+b.ay*n);e.bezierCurveTo(a+b.bx*h,d+b.by*n,a+b.cx*h,d+b.cy*n,a+b.dx*h,d+b.dy*n)}),g!==b.PIE&&null!=g||e.lineTo(a,d),e.closePath(),e.fill(),this._pixelsState._pixelsDirty=!0),this._doStroke&&(e.beginPath(),f.forEach(function(b,c){0===c&&e.moveTo(a+b.ax*h,d+b.ay*n);e.bezierCurveTo(a+b.bx*h,d+b.by*n,a+b.cx*h,d+b.cy*n,a+b.dx*h,d+b.dy*n)}),g===b.PIE?(e.lineTo(a,d),e.closePath()):g===b.CHORD&&e.closePath(),e.stroke(),
this._pixelsState._pixelsDirty=!0),this};c.Renderer2D.prototype.ellipse=function(a){var d=this.drawingContext,b=this._doFill,c=this._doStroke,f=a[0],k=a[1],g=a[2],t=a[3];if(b&&!c){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!b&&c&&"rgba(0,0,0,0)"===this._getStroke())return this;a=g/2*.5522847498;var r=t/2*.5522847498,z=f+g,v=k+t;g=f+g/2;t=k+t/2;d.beginPath();d.moveTo(f,t);d.bezierCurveTo(f,t-r,g-a,k,g,k);d.bezierCurveTo(g+a,k,z,t-r,z,t);d.bezierCurveTo(z,t+r,g+a,v,g,v);d.bezierCurveTo(g-
a,v,f,t+r,f,t);d.closePath();b&&(d.fill(),this._pixelsState._pixelsDirty=!0);c&&(d.stroke(),this._pixelsState._pixelsDirty=!0)};c.Renderer2D.prototype.line=function(a,d,b,c){var e=this.drawingContext;return this._doStroke&&("rgba(0,0,0,0)"===this._getStroke()||(e.beginPath(),e.moveTo(a,d),e.lineTo(b,c),e.stroke(),this._pixelsState._pixelsDirty=!0)),this};c.Renderer2D.prototype.point=function(a,d){var c=this.drawingContext;if(!this._doStroke||"rgba(0,0,0,0)"===this._getStroke())return this;var f=this._getStroke(),
l=this._getFill();a=Math.round(a);d=Math.round(d);this._setFill(f);1<c.lineWidth?(c.beginPath(),c.arc(a,d,c.lineWidth/2,0,b.TWO_PI,!1),c.fill()):c.fillRect(a,d,1,1);this._setFill(l);this._pixelsState._pixelsDirty=!0};c.Renderer2D.prototype.quad=function(a,d,b,c,f,k,g,t){var e=this.drawingContext,h=this._doFill,l=this._doStroke;if(h&&!l){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!h&&l&&"rgba(0,0,0,0)"===this._getStroke())return this;return e.beginPath(),e.moveTo(a,d),e.lineTo(b,c),e.lineTo(f,
k),e.lineTo(g,t),e.closePath(),h&&e.fill(),l&&e.stroke(),this._pixelsState._pixelsDirty=!0,this};c.Renderer2D.prototype.rect=function(a){var d=a[0],b=a[1],c=a[2],f=a[3],k=a[4],g=a[5],t=a[6];a=a[7];var r=this.drawingContext,z=this._doFill,v=this._doStroke;if(z&&!v){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!z&&v&&"rgba(0,0,0,0)"===this._getStroke())return this;(r.beginPath(),void 0===k)?r.rect(d,b,c,f):(void 0===g&&(g=k),void 0===t&&(t=g),void 0===a&&(a=t),z=c/2,v=f/2,c<2*k&&(k=z),f<
2*k&&(k=v),c<2*g&&(g=z),f<2*g&&(g=v),c<2*t&&(t=z),f<2*t&&(t=v),c<2*a&&(a=z),f<2*a&&(a=v),r.beginPath(),r.moveTo(d+k,b),r.arcTo(d+c,b,d+c,b+f,g),r.arcTo(d+c,b+f,d,b+f,t),r.arcTo(d,b+f,d,b,a),r.arcTo(d,b,d+c,b,k),r.closePath());return this._doFill&&r.fill(),this._doStroke&&r.stroke(),this._pixelsState._pixelsDirty=!0,this};c.Renderer2D.prototype.triangle=function(a){var d=this.drawingContext,b=this._doFill,c=this._doStroke,f=a[0],k=a[1],g=a[2],t=a[3],r=a[4];a=a[5];if(b&&!c){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!b&&
c&&"rgba(0,0,0,0)"===this._getStroke())return this;d.beginPath();d.moveTo(f,k);d.lineTo(g,t);d.lineTo(r,a);d.closePath();b&&(d.fill(),this._pixelsState._pixelsDirty=!0);c&&(d.stroke(),this._pixelsState._pixelsDirty=!0)};c.Renderer2D.prototype.endShape=function(a,d,c,f,l,k,g){if(0===d.length||!this._doStroke&&!this._doFill)return this;(a=a===b.CLOSE)&&!k&&d.push(d[0]);k=d.length;if(!c||g!==b.POLYGON&&null!==g)if(!f||g!==b.POLYGON&&null!==g)if(!l||g!==b.POLYGON&&null!==g)if(g===b.POINTS)for(c=0;c<k;c++){var e=
d[c];this._doStroke&&this._pInst.stroke(e[6]);this._pInst.point(e[0],e[1])}else if(g===b.LINES)for(c=0;c+1<k;c+=2)e=d[c],this._doStroke&&this._pInst.stroke(d[c+1][6]),this._pInst.line(e[0],e[1],d[c+1][0],d[c+1][1]);else if(g===b.TRIANGLES)for(c=0;c+2<k;c+=3)e=d[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0],e[1]),this.drawingContext.lineTo(d[c+1][0],d[c+1][1]),this.drawingContext.lineTo(d[c+2][0],d[c+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(d[c+2][5]),
this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(d[c+2][6]),this.drawingContext.stroke());else if(g===b.TRIANGLE_STRIP)for(c=0;c+1<k;c++)e=d[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(d[c+1][0],d[c+1][1]),this.drawingContext.lineTo(e[0],e[1]),this._doStroke&&this._pInst.stroke(d[c+1][6]),this._doFill&&this._pInst.fill(d[c+1][5]),c+2<k&&(this.drawingContext.lineTo(d[c+2][0],d[c+2][1]),this._doStroke&&this._pInst.stroke(d[c+2][6]),this._doFill&&this._pInst.fill(d[c+
2][5])),this._doFillStrokeClose(a);else if(g===b.TRIANGLE_FAN){if(2<k){this.drawingContext.beginPath();for(c=2;c<k;c++)e=d[c],this.drawingContext.moveTo(d[0][0],d[0][1]),this.drawingContext.lineTo(d[c-1][0],d[c-1][1]),this.drawingContext.lineTo(e[0],e[1]),this.drawingContext.lineTo(d[0][0],d[0][1]),c<k-1&&(this._doFill&&e[5]!==d[c+1][5]||this._doStroke&&e[6]!==d[c+1][6])&&(this._doFill&&(this._pInst.fill(e[5]),this.drawingContext.fill(),this._pInst.fill(d[c+1][5])),this._doStroke&&(this._pInst.stroke(e[6]),
this.drawingContext.stroke(),this._pInst.stroke(d[c+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(a)}}else if(g===b.QUADS)for(c=0;c+3<k;c+=4){e=d[c];this.drawingContext.beginPath();this.drawingContext.moveTo(e[0],e[1]);for(f=1;4>f;f++)this.drawingContext.lineTo(d[c+f][0],d[c+f][1]);this.drawingContext.lineTo(e[0],e[1]);this._doFill&&this._pInst.fill(d[c+3][5]);this._doStroke&&this._pInst.stroke(d[c+3][6]);this._doFillStrokeClose(a)}else if(g===b.QUAD_STRIP){if(3<
k)for(c=0;c+1<k;c+=2)e=d[c],this.drawingContext.beginPath(),c+3<k?(this.drawingContext.moveTo(d[c+2][0],d[c+2][1]),this.drawingContext.lineTo(e[0],e[1]),this.drawingContext.lineTo(d[c+1][0],d[c+1][1]),this.drawingContext.lineTo(d[c+3][0],d[c+3][1]),this._doFill&&this._pInst.fill(d[c+3][5]),this._doStroke&&this._pInst.stroke(d[c+3][6])):(this.drawingContext.moveTo(e[0],e[1]),this.drawingContext.lineTo(d[c+1][0],d[c+1][1])),this._doFillStrokeClose(a)}else{this.drawingContext.beginPath();this.drawingContext.moveTo(d[0][0],
d[0][1]);for(c=1;c<k;c++)(e=d[c]).isVert&&(e.moveTo?this.drawingContext.moveTo(e[0],e[1]):this.drawingContext.lineTo(e[0],e[1]));this._doFillStrokeClose(a)}else{this.drawingContext.beginPath();for(c=0;c<k;c++)d[c].isVert?d[c].moveTo?this.drawingContext.moveTo(d[c][0],d[c][1]):this.drawingContext.lineTo(d[c][0],d[c][1]):this.drawingContext.quadraticCurveTo(d[c][0],d[c][1],d[c][2],d[c][3]);this._doFillStrokeClose(a)}else{this.drawingContext.beginPath();for(c=0;c<k;c++)d[c].isVert?d[c].moveTo?this.drawingContext.moveTo(d[c][0],
d[c][1]):this.drawingContext.lineTo(d[c][0],d[c][1]):this.drawingContext.bezierCurveTo(d[c][0],d[c][1],d[c][2],d[c][3],d[c][4],d[c][5]);this._doFillStrokeClose(a)}else if(3<k){f=[];l=1-this._curveTightness;this.drawingContext.beginPath();this.drawingContext.moveTo(d[1][0],d[1][1]);for(c=1;c+2<k;c++)e=d[c],f[0]=[e[0],e[1]],f[1]=[e[0]+(l*d[c+1][0]-l*d[c-1][0])/6,e[1]+(l*d[c+1][1]-l*d[c-1][1])/6],f[2]=[d[c+1][0]+(l*d[c][0]-l*d[c+2][0])/6,d[c+1][1]+(l*d[c][1]-l*d[c+2][1])/6],f[3]=[d[c+1][0],d[c+1][1]],
this.drawingContext.bezierCurveTo(f[1][0],f[1][1],f[2][0],f[2][1],f[3][0],f[3][1]);a&&this.drawingContext.lineTo(d[c+1][0],d[c+1][1]);this._doFillStrokeClose(a)}return a&&d.pop(),this._pixelsState._pixelsDirty=!0,this};c.Renderer2D.prototype.strokeCap=function(a){return a!==b.ROUND&&a!==b.SQUARE&&a!==b.PROJECT||(this.drawingContext.lineCap=a),this};c.Renderer2D.prototype.strokeJoin=function(a){return a!==b.ROUND&&a!==b.BEVEL&&a!==b.MITER||(this.drawingContext.lineJoin=a),this};c.Renderer2D.prototype.strokeWeight=
function(a){return this.drawingContext.lineWidth=void 0===a||0===a?1E-4:a,this};c.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle};c.Renderer2D.prototype._setFill=function(a){a!==this._cachedFillStyle&&(this.drawingContext.fillStyle=a,this._cachedFillStyle=a)};c.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle};
c.Renderer2D.prototype._setStroke=function(a){a!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=a,this._cachedStrokeStyle=a)};c.Renderer2D.prototype.bezier=function(a,d,b,c,f,k,g,t){return this._pInst.beginShape(),this._pInst.vertex(a,d),this._pInst.bezierVertex(b,c,f,k,g,t),this._pInst.endShape(),this};c.Renderer2D.prototype.curve=function(a,d,b,c,f,k,g,t){return this._pInst.beginShape(),this._pInst.curveVertex(a,d),this._pInst.curveVertex(b,c),this._pInst.curveVertex(f,k),this._pInst.curveVertex(g,
t),this._pInst.endShape(),this};c.Renderer2D.prototype._doFillStrokeClose=function(a){a&&this.drawingContext.closePath();this._doFill&&this.drawingContext.fill();this._doStroke&&this.drawingContext.stroke();this._pixelsState._pixelsDirty=!0};c.Renderer2D.prototype.applyMatrix=function(a,d,b,c,f,k){this.drawingContext.transform(a,d,b,c,f,k)};c.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),
this};c.Renderer2D.prototype.rotate=function(a){this.drawingContext.rotate(a)};c.Renderer2D.prototype.scale=function(a,d){return this.drawingContext.scale(a,d),this};c.Renderer2D.prototype.translate=function(a,d){return a instanceof c.Vector&&(d=a.y,a=a.x),this.drawingContext.translate(a,d),this};c.Renderer2D.prototype.text=function(a,d,f,h,l){var e;void 0!==h&&this.drawingContext.textBaseline===b.BASELINE&&(e=!0,this.drawingContext.textBaseline=b.TOP);var g=c.Renderer.prototype.text.apply(this,arguments);
return e&&(this.drawingContext.textBaseline=b.BASELINE),g};c.Renderer2D.prototype._renderText=function(a,d,c,f,l){if(!(l<=f))return a.push(),this._isOpenType()?this._textFont._renderPath(d,c,f,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(d,c,f),this._doFill&&(this._fillSet||this._setFill(b._DEFAULT_TEXT_FILL),this.drawingContext.fillText(d,c,f))),a.pop(),this._pixelsState._pixelsDirty=!0,a};c.Renderer2D.prototype.textWidth=function(a){return this._isOpenType()?
this._textFont._textWidth(a,this._textSize):this.drawingContext.measureText(a).width};c.Renderer2D.prototype._applyTextProperties=function(){var a,d=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),a=this._textFont,this._isOpenType()&&(a=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font=(this._textStyle||"normal")+" "+(this._textSize||12)+"px "+(a||"sans-serif"),this.drawingContext.textAlign=
this._textAlign,this._textBaseline===b.CENTER?this.drawingContext.textBaseline=b._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,d};c.Renderer2D.prototype.push=function(){return this.drawingContext.save(),c.Renderer.prototype.push.apply(this)};c.Renderer2D.prototype.pop=function(a){this.drawingContext.restore();this._cachedFillStyle=this.drawingContext.fillStyle;this._cachedStrokeStyle=this.drawingContext.strokeStyle;c.Renderer.prototype.pop.call(this,a)};p.exports=c.Renderer2D},{"../image/filters":42,
"./constants":17,"./main":23,"./p5.Renderer":26}],28:[function(g,p,q){function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var b=g("./main"),f=g("./constants");g("./p5.Graphics");g("./p5.Renderer2D");g("../webgl/p5.RendererGL");var a="defaultCanvas0";b.prototype.createCanvas=function(d,c,h){b._validateParameters("createCanvas",
arguments);var e,k=h||f.P2D;if(k===f.WEBGL){if(e=document.getElementById(a)){e.parentNode.removeChild(e);var g=this._renderer;this._elements=this._elements.filter(function(a){return a!==g})}(e=document.createElement("canvas")).id=a;e.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)e=this.canvas;else{e=document.createElement("canvas");for(var t=0;document.getElementById("defaultCanvas"+t);)t++;a="defaultCanvas"+t;e.id=a;e.classList.add("p5Canvas")}return this._setupDone||(e.dataset.hidden=
!0,e.style.visibility="hidden"),this._userNode?this._userNode.appendChild(e):document.body.appendChild(e),k===f.WEBGL?(this._setProperty("_renderer",new b.RendererGL(e,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.Renderer2D(e,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(d,c),this._renderer._applyDefaults(),this._renderer};b.prototype.resizeCanvas=function(a,f,h){if(b._validateParameters("resizeCanvas",
arguments),this._renderer){var d={},e;for(e in this.drawingContext){var g=this.drawingContext[e];"object"!==c(g)&&"function"!=typeof g&&(d[e]=g)}for(var t in this._renderer.resize(a,f),this.width=a,this.height=f,d)try{this.drawingContext[t]=d[t]}catch(r){}h||this.redraw()}};b.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)};b.prototype.createGraphics=function(a,c,f){return b._validateParameters("createGraphics",arguments),new b.Graphics(a,c,f,this)};b.prototype.blendMode=
function(a){b._validateParameters("blendMode",arguments);a===f.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=f.BLEND);this._renderer.blendMode(a)};p.exports=b},{"../webgl/p5.RendererGL":74,"./constants":17,"./main":23,"./p5.Graphics":25,"./p5.Renderer2D":27}],29:[function(g,p,q){var c=g("../main"),b=g("../constants"),f=g("../helpers");g("../error_helpers");c.prototype._normalizeArcAngles=function(a,d,c,f,l){var e;return a-=b.TWO_PI*Math.floor(a/
b.TWO_PI),d-=b.TWO_PI*Math.floor(d/b.TWO_PI),e=Math.min(Math.abs(a-d),b.TWO_PI-Math.abs(a-d)),l&&(a=a<=b.HALF_PI?Math.atan(c/f*Math.tan(a)):a>b.HALF_PI&&a<=3*b.HALF_PI?Math.atan(c/f*Math.tan(a))+b.PI:Math.atan(c/f*Math.tan(a))+b.TWO_PI,d=d<=b.HALF_PI?Math.atan(c/f*Math.tan(d)):d>b.HALF_PI&&d<=3*b.HALF_PI?Math.atan(c/f*Math.tan(d))+b.PI:Math.atan(c/f*Math.tan(d))+b.TWO_PI),d<a&&(d+=b.TWO_PI),{start:a,stop:d,correspondToSamePoint:1E-5>e}};c.prototype.arc=function(a,d,b,h,l,k,g,t){if(c._validateParameters("arc",
arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;l=this._toRadians(l);k=this._toRadians(k);b=Math.abs(b);h=Math.abs(h);var e=f.modeAdjust(a,d,b,h,this._renderer._ellipseMode),n=this._normalizeArcAngles(l,k,e.w,e.h,!0);return n.correspondToSamePoint?this._renderer.ellipse([e.x,e.y,e.w,e.h,t]):this._renderer.arc(e.x,e.y,e.w,e.h,n.start,n.stop,g,t),this};c.prototype.ellipse=function(a,d,b,h,l){if(c._validateParameters("ellipse",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;
0>b&&(b=Math.abs(b));void 0===h?h=b:0>h&&(h=Math.abs(h));var e=f.modeAdjust(a,d,b,h,this._renderer._ellipseMode);return this._renderer.ellipse([e.x,e.y,e.w,e.h,l]),this};c.prototype.circle=function(){var a=Array.prototype.slice.call(arguments,0,2);return a.push(arguments[2]),a.push(arguments[2]),this.ellipse.apply(this,a)};c.prototype.line=function(){return c._validateParameters("line",arguments),this._renderer._doStroke&&this._renderer.line.apply(this._renderer,arguments),this};c.prototype.point=
function(){return c._validateParameters("point",arguments),this._renderer._doStroke&&this._renderer.point.apply(this._renderer,arguments),this};c.prototype.quad=function(){return c._validateParameters("quad",arguments),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&12!==arguments.length?this._renderer.quad.call(this._renderer,arguments[0],arguments[1],0,arguments[2],arguments[3],0,arguments[4],arguments[5],0,arguments[6],arguments[7],0):this._renderer.quad.apply(this._renderer,
arguments)),this};c.prototype.rect=function(){if(c._validateParameters("rect",arguments),this._renderer._doStroke||this._renderer._doFill){var a=f.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode);a=[a.x,a.y,a.w,a.h];for(var d=4;d<arguments.length;d++)a[d]=arguments[d];this._renderer.rect(a)}return this};c.prototype.square=function(a,d,b,c,f,k,g){return this.rect(a,d,b,b,c,f,k,g)};c.prototype.triangle=function(){return c._validateParameters("triangle",arguments),
(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(arguments),this};p.exports=c},{"../constants":17,"../error_helpers":19,"../helpers":20,"../main":23}],30:[function(g,p,q){var c=g("../main"),b=g("../constants");c.prototype.ellipseMode=function(f){return c._validateParameters("ellipseMode",arguments),f!==b.CORNER&&f!==b.CORNERS&&f!==b.RADIUS&&f!==b.CENTER||(this._renderer._ellipseMode=f),this};c.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),"imageSmoothingEnabled"in
this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this};c.prototype.rectMode=function(f){return c._validateParameters("rectMode",arguments),f!==b.CORNER&&f!==b.CORNERS&&f!==b.RADIUS&&f!==b.CENTER||(this._renderer._rectMode=f),this};c.prototype.smooth=function(){return this.setAttributes("antialias",!0),"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this};c.prototype.strokeCap=function(f){return c._validateParameters("strokeCap",arguments),
f!==b.ROUND&&f!==b.SQUARE&&f!==b.PROJECT||this._renderer.strokeCap(f),this};c.prototype.strokeJoin=function(f){return c._validateParameters("strokeJoin",arguments),f!==b.ROUND&&f!==b.BEVEL&&f!==b.MITER||this._renderer.strokeJoin(f),this};c.prototype.strokeWeight=function(b){return c._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(b),this};p.exports=c},{"../constants":17,"../main":23}],31:[function(g,p,q){var c=g("../main");g("../error_helpers");c.prototype.bezier=function(){return c._validateParameters("bezier",
arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.bezier.apply(this._renderer,arguments),this};c.prototype.bezierDetail=function(b){return c._validateParameters("bezierDetail",arguments),this._bezierDetail=b,this};c.prototype.bezierPoint=function(b,f,a,d,e){c._validateParameters("bezierPoint",arguments);var h=1-e;return Math.pow(h,3)*b+3*Math.pow(h,2)*e*f+3*h*Math.pow(e,2)*a+Math.pow(e,3)*d};c.prototype.bezierTangent=function(b,f,a,d,e){c._validateParameters("bezierTangent",
arguments);var h=1-e;return 3*d*Math.pow(e,2)-3*a*Math.pow(e,2)+6*a*h*e-6*f*h*e+3*f*Math.pow(h,2)-3*b*Math.pow(h,2)};c.prototype.curve=function(){return c._validateParameters("curve",arguments),this._renderer._doStroke&&this._renderer.curve.apply(this._renderer,arguments),this};c.prototype.curveDetail=function(b){return c._validateParameters("curveDetail",arguments),this._curveDetail=3>b?3:b,this};c.prototype.curveTightness=function(b){return c._validateParameters("curveTightness",arguments),this._renderer._curveTightness=
b,this};c.prototype.curvePoint=function(b,f,a,d,e){c._validateParameters("curvePoint",arguments);var h=e*e*e,l=e*e;return b*(-.5*h+l-.5*e)+f*(1.5*h-2.5*l+1)+a*(-1.5*h+2*l+.5*e)+d*(.5*h-.5*l)};c.prototype.curveTangent=function(b,f,a,d,e){c._validateParameters("curveTangent",arguments);var h=e*e;return b*(-3*h/2+2*e-.5)+f*(9*h/2-5*e)+a*(-9*h/2+4*e+.5)+d*(3*h/2-e)};p.exports=c},{"../error_helpers":19,"../main":23}],32:[function(g,p,q){var c=g("../main"),b=g("../constants"),f=null,a=[],d=[],e=!1,h=!1,
l=!1,k=!1,n=!0;c.prototype.beginContour=function(){return d=[],k=!0,this};c.prototype.beginShape=function(e){return c._validateParameters("beginShape",arguments),this._renderer.isP3D?this._renderer.beginShape.apply(this._renderer,arguments):(f=e===b.POINTS||e===b.LINES||e===b.TRIANGLES||e===b.TRIANGLE_FAN||e===b.TRIANGLE_STRIP||e===b.QUADS||e===b.QUAD_STRIP?e:null,a=[],d=[]),this};c.prototype.bezierVertex=function(){if(c._validateParameters("bezierVertex",arguments),this._renderer.isP3D)this._renderer.bezierVertex.apply(this._renderer,
arguments);else if(0===a.length)c._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{e=!0;for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];b.isVert=!1;k?d.push(b):a.push(b)}return this};c.prototype.curveVertex=function(){return c._validateParameters("curveVertex",arguments),this._renderer.isP3D?this._renderer.curveVertex.apply(this._renderer,arguments):(h=!0,this.vertex(arguments[0],arguments[1])),this};c.prototype.endContour=function(){var b=d[0].slice();
b.isVert=d[0].isVert;b.moveTo=!1;d.push(b);n&&(a.push(a[0]),n=!1);for(b=0;b<d.length;b++)a.push(d[b]);return this};c.prototype.endShape=function(d){if(c._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(d,h,e,l,k,f);else{if(0===a.length||!this._renderer._doStroke&&!this._renderer._doFill)return this;var g=d===b.CLOSE;g&&!k&&a.push(a[0]);this._renderer.endShape(d,a,h,e,l,k,f);n=!(k=l=e=h=!1);g&&a.pop()}return this};c.prototype.quadraticVertex=function(){if(c._validateParameters("quadraticVertex",
arguments),this._renderer.isP3D)this._renderer.quadraticVertex.apply(this._renderer,arguments);else{if(this._contourInited){var f={};return f.x=arguments[0],f.y=arguments[1],f.x3=arguments[2],f.y3=arguments[3],f.type=b.QUADRATIC,this._contourVertices.push(f),this}if(0<a.length){l=!0;f=[];for(var e=0;e<arguments.length;e++)f[e]=arguments[e];f.isVert=!1;k?d.push(f):a.push(f)}else c._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this};c.prototype.vertex=
function(b,c,f,e,h){if(this._renderer.isP3D)this._renderer.vertex.apply(this._renderer,arguments);else{var l=[];l.isVert=!0;l[0]=b;l[1]=c;l[2]=0;l[3]=0;l[4]=0;l[5]=this._renderer._getFill();l[6]=this._renderer._getStroke();f&&(l.moveTo=f);k?(0===d.length&&(l.moveTo=!0),d.push(l)):a.push(l)}return this};p.exports=c},{"../constants":17,"../main":23}],33:[function(g,p,q){function c(b){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&
"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(b)}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b,c){window.setTimeout(b,1E3/60)};"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,
configurable:!0,enumerable:!1});(function(){if(!Object.assign){var b=Object.keys,f=Object.defineProperty,a="function"==typeof Symbol&&"symbol"===c(Symbol()),d=Object.prototype.propertyIsEnumerable,e=function(a){return function(b){return d.call(a,b)}};f(Object,"assign",{value:function(d,c){if(null==d)throw new TypeError("target must be an object");var f,h,l=Object(d);for(f=1;f<arguments.length;++f){var g=Object(arguments[f]);var z=b(g);a&&Object.getOwnPropertySymbols&&z.push.apply(z,Object.getOwnPropertySymbols(g).filter(e(g)));
for(h=0;h<z.length;++h)l[z[h]]=g[z[h]]}return l},configurable:!0,enumerable:!1,writable:!0})}})()},{}],34:[function(g,p,q){g=g("./main");g.prototype.noLoop=function(){this._loop=!1};g.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())};g.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})};g.prototype.pop=function(){var c=this._styles.pop();c?(this._renderer.pop(c.renderer),Object.assign(this,c.props)):console.warn("pop() was called without matching push()")};
g.prototype.redraw=function(c){if(!this._inUserDraw&&this._setupDone){c=parseInt(c);(isNaN(c)||1>c)&&(c=1);var b=this._isGlobal?window:this,f=b.setup,a=b.draw;if("function"==typeof a){void 0===f&&b.scale(b._pixelDensity,b._pixelDensity);f=function(a){a.call(b)};for(var d=0;d<c;d++){b.resetMatrix();b._renderer.isP3D&&b._renderer._update();b._setProperty("frameCount",b.frameCount+1);b._registeredMethods.pre.forEach(f);this._inUserDraw=!0;try{a()}finally{this._inUserDraw=!1}b._registeredMethods.post.forEach(f)}}}};
p.exports=g},{"./main":23}],35:[function(g,p,q){var c=g("./main");c.prototype.applyMatrix=function(b,c,a,d,e,h){return this._renderer.applyMatrix.apply(this._renderer,arguments),this};c.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this};c.prototype.rotate=function(b,f){return c._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(b),f),this};c.prototype.rotateX=function(b){return this._assert3d("rotateX"),c._validateParameters("rotateX",arguments),
this._renderer.rotateX(this._toRadians(b)),this};c.prototype.rotateY=function(b){return this._assert3d("rotateY"),c._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(b)),this};c.prototype.rotateZ=function(b){return this._assert3d("rotateZ"),c._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(b)),this};c.prototype.scale=function(b,f,a){if(c._validateParameters("scale",arguments),b instanceof c.Vector){var d=b;b=d.x;f=d.y;a=d.z}else b instanceof
Array&&(d=b,b=d[0],f=d[1],a=d[2]||1);return isNaN(f)?f=a=b:isNaN(a)&&(a=1),this._renderer.scale.call(this._renderer,b,f,a),this};c.prototype.shearX=function(b){c._validateParameters("shearX",arguments);var f=this._toRadians(b);return this._renderer.applyMatrix(1,0,Math.tan(f),1,0,0),this};c.prototype.shearY=function(b){c._validateParameters("shearY",arguments);var f=this._toRadians(b);return this._renderer.applyMatrix(1,Math.tan(f),0,1,0,0),this};c.prototype.translate=function(b,f,a){return c._validateParameters("translate",
arguments),this._renderer.isP3D?this._renderer.translate(b,f,a):this._renderer.translate(b,f),this};p.exports=c},{"./main":23}],36:[function(g,p,q){function c(b){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(b)}var b=g("../core/main");b.prototype.storeItem=function(f,a){void 0===a&&console.log("You cannot store undefined variables using storeItem()");
var d=c(a);switch(d){case "number":case "boolean":a=a.toString();break;case "object":a instanceof b.Color&&(d="p5.Color"),a=JSON.stringify(a)}localStorage.setItem(f,a);localStorage.setItem(f+"p5TypeID",d)};b.prototype.getItem=function(b){var a=localStorage.getItem(b),d=localStorage.getItem(b+"p5TypeID");if(void 0===d)console.log("Unable to determine type of item stored under "+b+"in local storage. Did you save the item with something other than setItem()?");else if(null!==a)switch(d){case "number":a=
parseInt(a);break;case "boolean":a="true"===a;break;case "object":a=JSON.parse(a);break;case "p5.Color":a=JSON.parse(a),a=this.color.apply(this,a.levels)}return a};b.prototype.clearStorage=function(){localStorage.clear()};b.prototype.removeItem=function(b){"string"!=typeof b&&console.log("The argument that you passed to removeItem() - "+b+" is not a string.");localStorage.removeItem(b);localStorage.removeItem(b+"p5TypeID")}},{"../core/main":23}],37:[function(g,p,q){var c=g("../core/main");c.prototype.createStringDict=
function(b,f){return c._validateParameters("createStringDict",arguments),new c.StringDict(b,f)};c.prototype.createNumberDict=function(b,f){return c._validateParameters("createNumberDict",arguments),new c.NumberDict(b,f)};c.TypedDict=function(b,c){return b instanceof Object?this.data=b:(this.data={},this.data[b]=c),this};c.TypedDict.prototype.size=function(){return Object.keys(this.data).length};c.TypedDict.prototype.hasKey=function(b){return this.data.hasOwnProperty(b)};c.TypedDict.prototype.get=
function(b){if(this.data.hasOwnProperty(b))return this.data[b];console.log(b+" does not exist in this Dictionary")};c.TypedDict.prototype.set=function(b,c){this._validate(c)?this.data[b]=c:console.log("Those values dont work for this dictionary type.")};c.TypedDict.prototype._addObj=function(b){for(var c in b)this.set(c,b[c])};c.TypedDict.prototype.create=function(b,c){b instanceof Object&&void 0===c?this._addObj(b):void 0!==b?this.set(b,c):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")};
c.TypedDict.prototype.clear=function(){this.data={}};c.TypedDict.prototype.remove=function(b){if(!this.data.hasOwnProperty(b))throw Error(b+" does not exist in this Dictionary");delete this.data[b]};c.TypedDict.prototype.print=function(){for(var b in this.data)console.log("key:"+b+" value:"+this.data[b])};c.TypedDict.prototype.saveTable=function(b){var f="",a;for(a in this.data)f+=a+","+this.data[a]+"\n";f=new Blob([f],{type:"text/csv"});c.prototype.downloadFile(f,b||"mycsv","csv")};c.TypedDict.prototype.saveJSON=
function(b,f){c.prototype.saveJSON(this.data,b,f)};c.TypedDict.prototype._validate=function(b){return!0};c.StringDict=function(){c.TypedDict.apply(this,arguments)};c.StringDict.prototype=Object.create(c.TypedDict.prototype);c.StringDict.prototype._validate=function(b){return"string"==typeof b};c.NumberDict=function(){c.TypedDict.apply(this,arguments)};c.NumberDict.prototype=Object.create(c.TypedDict.prototype);c.NumberDict.prototype._validate=function(b){return"number"==typeof b};c.NumberDict.prototype.add=
function(b,c){this.data.hasOwnProperty(b)?this.data[b]+=c:console.log("The key - "+b+" does not exist in this dictionary.")};c.NumberDict.prototype.sub=function(b,c){this.add(b,-c)};c.NumberDict.prototype.mult=function(b,c){this.data.hasOwnProperty(b)?this.data[b]*=c:console.log("The key - "+b+" does not exist in this dictionary.")};c.NumberDict.prototype.div=function(b,c){this.data.hasOwnProperty(b)?this.data[b]/=c:console.log("The key - "+b+" does not exist in this dictionary.")};c.NumberDict.prototype._valueTest=
function(b){if(0===Object.keys(this.data).length)throw Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var c=this.data[Object.keys(this.data)[0]],a;for(a in this.data)this.data[a]*b<c*b&&(c=this.data[a]);return c};c.NumberDict.prototype.minValue=function(){return this._valueTest(1)};c.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)};c.NumberDict.prototype._keyTest=function(b){if(0===
Object.keys(this.data).length)throw Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var c=Object.keys(this.data)[0],a=1;a<Object.keys(this.data).length;a++)Object.keys(this.data)[a]*b<c*b&&(c=Object.keys(this.data)[a]);return c};c.NumberDict.prototype.minKey=function(){return this._keyTest(1)};c.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};p.exports=c.TypedDict},{"../core/main":23}],38:[function(g,
p,q){var c=g("../core/main");c.prototype.deviceOrientation=void 0;c.prototype.accelerationX=0;c.prototype.accelerationY=0;c.prototype.accelerationZ=0;c.prototype.pAccelerationX=0;c.prototype.pAccelerationY=0;c.prototype.pAccelerationZ=0;c.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX);this._setProperty("pAccelerationY",this.accelerationY);this._setProperty("pAccelerationZ",this.accelerationZ)};c.prototype.rotationX=0;c.prototype.rotationY=0;c.prototype.rotationZ=
0;c.prototype.pRotationX=0;c.prototype.pRotationY=0;var b,f,a,d=c.prototype.pRotationZ=0,e=0,h=0,l="clockwise",k="clockwise",n="clockwise";c.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX);this._setProperty("pRotationY",this.rotationY);this._setProperty("pRotationZ",this.rotationZ)};c.prototype.turnAxis=void 0;var t=.5,r=30;c.prototype.setMoveThreshold=function(a){c._validateParameters("setMoveThreshold",arguments);t=a};c.prototype.setShakeThreshold=function(a){c._validateParameters("setShakeThreshold",
arguments);r=a};c.prototype._ondeviceorientation=function(a){this._updatePRotations();this._setProperty("rotationX",a.beta);this._setProperty("rotationY",a.gamma);this._setProperty("rotationZ",a.alpha);this._handleMotion()};c.prototype._ondevicemotion=function(a){this._updatePAccelerations();this._setProperty("accelerationX",2*a.acceleration.x);this._setProperty("accelerationY",2*a.acceleration.y);this._setProperty("accelerationZ",2*a.acceleration.z);this._handleMotion()};c.prototype._handleMotion=
function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var c=this.deviceMoved||window.deviceMoved;"function"==typeof c&&(Math.abs(this.accelerationX-this.pAccelerationX)>t||Math.abs(this.accelerationY-this.pAccelerationY)>t||Math.abs(this.accelerationZ-this.pAccelerationZ)>t)&&c();c=this.deviceTurned||
window.deviceTurned;if("function"==typeof c){var g=this.rotationX+180,u=this.pRotationX+180,w=d+180;0<g-u&&270>g-u||-270>g-u?l="clockwise":(0>g-u||270<g-u)&&(l="counter-clockwise");l!==b&&(w=g);90<Math.abs(g-w)&&270>Math.abs(g-w)&&(w=g,this._setProperty("turnAxis","X"),c());b=l;d=w-180;g=this.rotationY+180;u=this.pRotationY+180;w=e+180;0<g-u&&270>g-u||-270>g-u?k="clockwise":(0>g-u||270<g-this.pRotationY)&&(k="counter-clockwise");k!==f&&(w=g);90<Math.abs(g-w)&&270>Math.abs(g-w)&&(w=g,this._setProperty("turnAxis",
"Y"),c());f=k;e=w-180;0<this.rotationZ-this.pRotationZ&&270>this.rotationZ-this.pRotationZ||-270>this.rotationZ-this.pRotationZ?n="clockwise":(0>this.rotationZ-this.pRotationZ||270<this.rotationZ-this.pRotationZ)&&(n="counter-clockwise");n!==a&&(h=this.rotationZ);90<Math.abs(this.rotationZ-h)&&270>Math.abs(this.rotationZ-h)&&(h=this.rotationZ,this._setProperty("turnAxis","Z"),c());a=n;this._setProperty("turnAxis",void 0)}var C,p;c=this.deviceShaken||window.deviceShaken;"function"==typeof c&&(null!==
this.pAccelerationX&&(C=Math.abs(this.accelerationX-this.pAccelerationX),p=Math.abs(this.accelerationY-this.pAccelerationY)),r<C+p&&c())};p.exports=c},{"../core/main":23}],39:[function(g,p,q){var c=g("../core/main");c.prototype.isKeyPressed=!1;c.prototype.keyIsPressed=!1;c.prototype.key="";c.prototype.keyCode=0;c.prototype._onkeydown=function(b){if(!this._downKeys[b.which]){this._setProperty("isKeyPressed",!0);this._setProperty("keyIsPressed",!0);this._setProperty("keyCode",b.which);this._downKeys[b.which]=
!0;this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which);var c=this.keyPressed||window.keyPressed;"function"!=typeof c||b.charCode||!1===c(b)&&b.preventDefault()}};c.prototype._onkeyup=function(b){var c=this.keyReleased||window.keyReleased;(this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",
b.which),"function"==typeof c)&&!1===c(b)&&b.preventDefault()};c.prototype._onkeypress=function(b){if(b.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",b.which);this._setProperty("key",String.fromCharCode(b.which));var c=this.keyTyped||window.keyTyped;"function"==typeof c&&!1===c(b)&&b.preventDefault()}};c.prototype._onblur=function(b){this._downKeys={}};c.prototype.keyIsDown=function(b){return c._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1};c.prototype._areDownKeys=
function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&!0===this._downKeys[b])return!0;return!1};p.exports=c},{"../core/main":23}],40:[function(g,p,q){q=g("../core/main");var c=g("../core/constants");q.prototype._hasMouseInteracted=!1;q.prototype.mouseX=0;q.prototype.mouseY=0;q.prototype.pmouseX=0;q.prototype.pmouseY=0;q.prototype.winMouseX=0;q.prototype.winMouseY=0;q.prototype.pwinMouseX=0;q.prototype.pwinMouseY=0;q.prototype.mouseButton=0;q.prototype.mouseIsPressed=!1;q.prototype._updateNextMouseCoords=
function(b){if(null!==this._curElement&&(!b.touches||0<b.touches.length)){var c=this._curElement.elt;var a=this.width;var d=this.height;b&&!b.clientX&&(b.touches?b=b.touches[0]:b.changedTouches&&(b=b.changedTouches[0]));var e=c.getBoundingClientRect();a=(b.clientX-e.left)/(c.scrollWidth/a||1);c=(b.clientY-e.top)/(c.scrollHeight/d||1);d=b.clientX;b=b.clientY;this._setProperty("mouseX",a);this._setProperty("mouseY",c);this._setProperty("winMouseX",d);this._setProperty("winMouseY",b)}this._hasMouseInteracted||
(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))};q.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX);this._setProperty("pmouseY",this.mouseY);this._setProperty("pwinMouseX",this.winMouseX);this._setProperty("pwinMouseY",this.winMouseY);this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)};q.prototype._setMouseButton=function(b){1===b.button?this._setProperty("mouseButton",c.CENTER):2===b.button?this._setProperty("mouseButton",c.RIGHT):
this._setProperty("mouseButton",c.LEFT)};q.prototype._onmousemove=function(b){var c=this._isGlobal?window:this;this._updateNextMouseCoords(b);this.mouseIsPressed?"function"==typeof c.mouseDragged?!1===c.mouseDragged(b)&&b.preventDefault():"function"==typeof c.touchMoved&&!1===c.touchMoved(b)&&b.preventDefault():"function"==typeof c.mouseMoved&&!1===c.mouseMoved(b)&&b.preventDefault()};q.prototype._onmousedown=function(b){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0);this._setMouseButton(b);
this._updateNextMouseCoords(b);"function"==typeof c.mousePressed?!1===c.mousePressed(b)&&b.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof c.touchStarted&&!1===c.touchStarted(b)&&b.preventDefault()};q.prototype._onmouseup=function(b){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1);"function"==typeof c.mouseReleased?!1===c.mouseReleased(b)&&b.preventDefault():"function"==typeof c.touchEnded&&!1===c.touchEnded(b)&&b.preventDefault()};
q.prototype._ondragend=q.prototype._onmouseup;q.prototype._ondragover=q.prototype._onmousemove;q.prototype._onclick=function(b){var c=this._isGlobal?window:this;"function"==typeof c.mouseClicked&&!1===c.mouseClicked(b)&&b.preventDefault()};q.prototype._ondblclick=function(b){var c=this._isGlobal?window:this;"function"==typeof c.doubleClicked&&!1===c.doubleClicked(b)&&b.preventDefault()};q.prototype._mouseWheelDeltaY=0;q.prototype._pmouseWheelDeltaY=0;q.prototype._onwheel=function(b){var c=this._isGlobal?
window:this;(this._setProperty("_mouseWheelDeltaY",b.deltaY),"function"==typeof c.mouseWheel)&&(b.delta=b.deltaY,!1===c.mouseWheel(b)&&b.preventDefault())};p.exports=q},{"../core/constants":17,"../core/main":23}],41:[function(g,p,q){g=g("../core/main");g.prototype.touches=[];g.prototype._updateTouchCoords=function(c){if(null!==this._curElement){for(var b=[],f=0;f<c.touches.length;f++){var a=f,d=this._curElement.elt,e=this.width,h=this.height,l=c,k=f;k=k||0;var g=d.getBoundingClientRect();l=l.touches[k]||
l.changedTouches[k];b[a]={x:(l.clientX-g.left)/(d.scrollWidth/e||1),y:(l.clientY-g.top)/(d.scrollHeight/h||1),winX:l.clientX,winY:l.clientY,id:l.identifier}}this._setProperty("touches",b)}};g.prototype._ontouchstart=function(c){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0);this._updateTouchCoords(c);this._updateNextMouseCoords(c);this._updateMouseCoords();"function"==typeof b.touchStarted?!1===b.touchStarted(c)&&c.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&
"function"==typeof b.touchStarted&&!1===b.mousePressed(c)&&c.preventDefault()};g.prototype._ontouchmove=function(c){var b=this._isGlobal?window:this;this._updateTouchCoords(c);this._updateNextMouseCoords(c);"function"==typeof b.touchMoved?!1===b.touchMoved(c)&&c.preventDefault():"function"==typeof b.mouseDragged&&!1===b.mouseDragged(c)&&c.preventDefault()};g.prototype._ontouchend=function(c){this._setProperty("mouseIsPressed",!1);this._updateTouchCoords(c);this._updateNextMouseCoords(c);var b=this._isGlobal?
window:this;"function"==typeof b.touchEnded?!1===b.touchEnded(c)&&c.preventDefault():"function"==typeof b.mouseReleased&&!1===b.mouseReleased(c)&&c.preventDefault()};p.exports=g},{"../core/main":23}],42:[function(g,p,q){var c,b,f,a,d={_toPixels:function(a){return a instanceof ImageData?a.data:a.getContext("2d").getImageData(0,0,a.width,a.height).data},_getARGB:function(a,b){b*=4;return a[b+3]<<24&4278190080|a[b]<<16&16711680|a[b+1]<<8&65280|255&a[b+2]},_setPixels:function(a,b){for(var d,c=0,e=a.length;c<
e;c++)a[d=4*c]=(16711680&b[c])>>>16,a[d+1]=(65280&b[c])>>>8,a[d+2]=255&b[c],a[d+3]=(4278190080&b[c])>>>24},_toImageData:function(a){return a instanceof ImageData?a:a.getContext("2d").getImageData(0,0,a.width,a.height)},_createImageData:function(a,b){return d._tmpCanvas=document.createElement("canvas"),d._tmpCtx=d._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(a,b)},apply:function(a,b,d){var c=a.getContext("2d"),e=c.getImageData(0,0,a.width,a.height);b=b(e,d);b instanceof ImageData?c.putImageData(b,
0,0,0,0,a.width,a.height):c.putImageData(e,0,0,0,0,a.width,a.height)},threshold:function(a,b){a=d._toPixels(a);void 0===b&&(b=.5);b=Math.floor(255*b);for(var c=0;c<a.length;c+=4)a[c]=a[c+1]=a[c+2]=b<=.2126*a[c]+.7152*a[c+1]+.0722*a[c+2]?255:0},gray:function(a){a=d._toPixels(a);for(var b=0;b<a.length;b+=4)a[b]=a[b+1]=a[b+2]=.2126*a[b]+.7152*a[b+1]+.0722*a[b+2]},opaque:function(a){a=d._toPixels(a);for(var b=0;b<a.length;b+=4)a[b+3]=255;return a},invert:function(a){a=d._toPixels(a);for(var b=0;b<a.length;b+=
4)a[b]=255-a[b],a[b+1]=255-a[b+1],a[b+2]=255-a[b+2]},posterize:function(a,b){a=d._toPixels(a);if(2>b||255<b)throw Error("Level must be greater than 2 and less than 255 for posterize");for(var c=b-1,f=0;f<a.length;f+=4){var e=a[f+1],h=a[f+2];a[f]=255*(a[f]*b>>8)/c;a[f+1]=255*(e*b>>8)/c;a[f+2]=255*(h*b>>8)/c}},dilate:function(a){for(var b,c,f,e,g,r,z,v,u,w,C,p,q=d._toPixels(a),A=0,E=q.length?q.length/4:0,K=new Int32Array(E);A<E;)for(c=(b=A)+a.width;A<c;)f=e=d._getARGB(q,A),(r=A-1)<b&&(r=A),c<=(g=A+
1)&&(g=A),0>(z=A-a.width)&&(z=0),E<=(v=A+a.width)&&(v=A),z=d._getARGB(q,z),r=d._getARGB(q,r),v=d._getARGB(q,v),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(C=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))&&(e=r,f=C),f<(w=77*((u=d._getARGB(q,g))>>16&255)+151*(u>>8&255)+28*(255&u))&&(e=u,f=w),f<(p=77*(z>>16&255)+151*(z>>8&255)+28*(255&z))&&(e=z,f=p),f<77*(v>>16&255)+151*(v>>8&255)+28*(255&v)&&(e=v),K[A++]=e;d._setPixels(q,K)},erode:function(a){for(var b,c,f,e,g,r,z,v,u,w,p,q,D=d._toPixels(a),A=0,E=D.length?
D.length/4:0,K=new Int32Array(E);A<E;)for(c=(b=A)+a.width;A<c;)f=e=d._getARGB(D,A),(r=A-1)<b&&(r=A),c<=(g=A+1)&&(g=A),0>(z=A-a.width)&&(z=0),E<=(v=A+a.width)&&(v=A),z=d._getARGB(D,z),r=d._getARGB(D,r),v=d._getARGB(D,v),(p=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(e=r,f=p),(w=77*((u=d._getARGB(D,g))>>16&255)+151*(u>>8&255)+28*(255&u))<f&&(e=u,f=w),(q=77*(z>>16&255)+151*(z>>8&255)+28*(255&z))<f&&(e=z,f=q),77*(v>>16&255)+151*(v>>8&255)+28*(255&v)<f&&(e=
v),K[A++]=e;d._setPixels(D,K)},blur:function(e,h){var l,k,g,t,r=d._toPixels(e),z=e.width;e=e.height;for(var v=z*e,u=new Int32Array(v),w=0;w<v;w++)u[w]=d._getARGB(r,w);var p,q,D;w=new Int32Array(v);var A=new Int32Array(v),E=new Int32Array(v);v=new Int32Array(v);var K=0;h=3.5*h|0;if(c!==(h=1>h?1:248>h?h:248)){b=1+(c=h)<<1;f=new Int32Array(b);a=Array(b);for(l=0;l<b;l++)a[l]=new Int32Array(256);var H=1;for(g=h-1;H<h;H++){f[h+H]=f[g]=k=g*g;l=a[h+H];var F=a[g--];for(p=0;256>p;p++)l[p]=F[p]=k*p}k=f[h]=h*
h;l=a[h];for(h=0;256>h;h++)l[h]=k*h}for(q=0;q<e;q++){for(p=0;p<z;p++){if(F=k=l=H=h=0,0>(g=p-c)){var P=-g;g=0}else{if(z<=g)break;P=0}for(;P<b&&!(z<=g);P++){var T=u[g+K];H+=(D=a[P])[(-16777216&T)>>>24];l+=D[(16711680&T)>>16];k+=D[(65280&T)>>8];F+=D[255&T];h+=f[P];g++}w[T=K+p]=H/h;A[T]=l/h;E[T]=k/h;v[T]=F/h}K+=z}var Q=(t=-c)*z;for(q=K=0;q<e;q++){for(p=0;p<z;p++){if(F=k=l=H=h=0,0>t)P=T=-t,g=p;else{if(e<=t)break;P=0;T=t;g=p+Q}for(;P<b&&!(e<=T);P++)H+=(D=a[P])[w[g]],l+=D[A[g]],k+=D[E[g]],F+=D[v[g]],h+=
f[P],T++,g+=z;u[p+K]=H/h<<24|l/h<<16|k/h<<8|F/h}K+=z;Q+=z;t++}d._setPixels(r,u)}};p.exports=d},{}],43:[function(g,p,q){var c=g("../core/main"),b=[];c.prototype.createImage=function(b,a){return c._validateParameters("createImage",arguments),new c.Image(b,a)};c.prototype.saveCanvas=function(){c._validateParameters("saveCanvas",arguments);var b,a,d;var e=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(b=arguments[0],e.shift()):arguments[0]instanceof c.Element?(b=arguments[0].elt,
e.shift()):b=this._curElement&&this._curElement.elt,1<=e.length&&(a=e[0]),2<=e.length&&(d=e[1]),d=d||c.prototype._checkFileExtension(a,d)[1]||"png"){default:e="image/png";break;case "jpeg":case "jpg":e="image/jpeg"}b.toBlob(function(b){c.prototype.downloadFile(b,a,d)},e)};c.prototype.saveFrames=function(f,a,d,e,h){c._validateParameters("saveFrames",arguments);var l=c.prototype.constrain(d||3,0,15);l*=1E3;var k=c.prototype.constrain(e||15,0,22);var g=0,t=c.prototype._makeFrame,r=this._curElement.elt,
z=setInterval(function(){t(f+g,a,r);g++},1E3/k);setTimeout(function(){if(clearInterval(z),h)h(b);else for(var a=0;a<b.length;a++){var d=b[a];c.prototype.downloadFile(d.imageData,d.filename,d.ext)}b=[]},l+.01)};c.prototype._makeFrame=function(c,a,d){var f;if(f=this?this._curElement.elt:d,a)switch(a.toLowerCase()){case "png":d="image/png";break;case "jpeg":case "jpg":d="image/jpeg";break;default:d="image/png"}else a="png",d="image/png";f=f.toDataURL(d);f=f.replace(d,"image/octet-stream");d={};d.imageData=
f;d.filename=c;d.ext=a;b.push(d)};p.exports=c},{"../core/main":23}],44:[function(g,p,q){var c=g("../core/main"),b=g("./filters"),f=g("../core/helpers"),a=g("../core/constants");g("../core/error_helpers");c.prototype.loadImage=function(a,b,f){c._validateParameters("loadImage",arguments);var d=new Image,e=new c.Image(1,1,this),h=this;return d.onload=function(){e.width=e.canvas.width=d.width;e.height=e.canvas.height=d.height;e.drawingContext.drawImage(d,0,0);e.modified=!0;"function"==typeof b&&b(e);
h._decrementPreload()},d.onerror=function(a){c._friendlyFileLoadError(0,d.src);"function"==typeof f?f(a):console.error(a)},0!==a.indexOf("data:image/")&&(d.crossOrigin="Anonymous"),d.src=a,e};c.prototype.image=function(a,b,h,g,k,n,t,r,z){c._validateParameters("image",arguments);var d=a.width,e=a.height;a.elt&&a.elt.videoWidth&&!a.canvas&&(d=a.elt.videoWidth,e=a.elt.videoHeight);var l=b,p=h,q=g||d,D=k||e,A=n||0,E=t||0,K=r||d,H=z||e;K=0<K&&K<d?K:d;H=0<H&&H<e?H:e;d=1;a.elt&&!a.canvas&&a.elt.style.width&&
(d=a.elt.videoWidth&&!g?a.elt.videoWidth:a.elt.width,d/=parseInt(a.elt.style.width,10));A*=d;E*=d;H*=d;K*=d;l=f.modeAdjust(l,p,q,D,this._renderer._imageMode);this._renderer.image(a,A,E,K,H,l.x,l.y,l.w,l.h)};c.prototype.tint=function(){c._validateParameters("tint",arguments);var a=this.color.apply(this,arguments);this._renderer._tint=a.levels};c.prototype.noTint=function(){this._renderer._tint=null};c.prototype._getTintedImageCanvas=function(a){if(!a.canvas)return a;var d=b._toPixels(a.canvas),c=document.createElement("canvas");
c.width=a.canvas.width;c.height=a.canvas.height;var f=c.getContext("2d");a=f.createImageData(a.canvas.width,a.canvas.height);for(var k=a.data,g=0;g<d.length;g+=4){var t=d[g+1],r=d[g+2],p=d[g+3];k[g]=d[g]*this._renderer._tint[0]/255;k[g+1]=t*this._renderer._tint[1]/255;k[g+2]=r*this._renderer._tint[2]/255;k[g+3]=p*this._renderer._tint[3]/255}return f.putImageData(a,0,0),c};c.prototype.imageMode=function(b){c._validateParameters("imageMode",arguments);b!==a.CORNER&&b!==a.CORNERS&&b!==a.CENTER||(this._renderer._imageMode=
b)};p.exports=c},{"../core/constants":17,"../core/error_helpers":19,"../core/helpers":20,"../core/main":23,"./filters":42}],45:[function(g,p,q){var c=g("../core/main"),b=g("./filters");c.Image=function(b,a){this.width=b;this.height=a;this.canvas=document.createElement("canvas");this.canvas.width=this.width;this.canvas.height=this.height;this.drawingContext=this.canvas.getContext("2d");(this._pixelsState=this)._pixelDensity=1;this._pixelsDirty=!0;this._modified=!1;this.pixels=[]};c.Image.prototype._setProperty=
function(b,a){this[b]=a;this.setModified(!0)};c.Image.prototype.loadPixels=function(){c.Renderer2D.prototype.loadPixels.call(this);this.setModified(!0)};c.Image.prototype.updatePixels=function(b,a,d,e){c.Renderer2D.prototype.updatePixels.call(this,b,a,d,e);this.setModified(!0)};c.Image.prototype.get=function(b,a,d,e){return c._validateParameters("p5.Image.get",arguments),c.Renderer2D.prototype.get.apply(this,arguments)};c.Image.prototype._getPixel=c.Renderer2D.prototype._getPixel;c.Image.prototype.set=
function(b,a,d){c.Renderer2D.prototype.set.call(this,b,a,d);this.setModified(!0)};c.Image.prototype.resize=function(b,a){0===b&&0===a?(b=this.canvas.width,a=this.canvas.height):0===b?b=this.canvas.width*a/this.canvas.height:0===a&&(a=this.canvas.height*b/this.canvas.width);b=Math.floor(b);a=Math.floor(a);var d=document.createElement("canvas");d.width=b;d.height=a;d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height);this.canvas.width=this.width=b;
this.canvas.height=this.height=a;this.drawingContext.drawImage(d,0,0,b,a,0,0,b,a);0<this.pixels.length&&this.loadPixels();this.setModified(!0);this._pixelsDirty=!0};c.Image.prototype.copy=function(){if(9===arguments.length){var b=arguments[0];var a=arguments[1];var d=arguments[2];var e=arguments[3];var h=arguments[4];var g=arguments[5];var k=arguments[6];var n=arguments[7];var t=arguments[8]}else{if(8!==arguments.length)throw Error("Signature not supported");b=this;a=arguments[0];d=arguments[1];e=
arguments[2];h=arguments[3];g=arguments[4];k=arguments[5];n=arguments[6];t=arguments[7]}c.Renderer2D._copyHelper(this,b,a,d,e,h,g,k,n,t);this._pixelsDirty=!0};c.Image.prototype.mask=function(b){void 0===b&&(b=this);var a=this.drawingContext.globalCompositeOperation,d=1;b instanceof c.Renderer&&(d=b._pInst._pixelDensity);b=[b,0,0,d*b.width,d*b.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in";c.Image.prototype.copy.apply(this,b);this.drawingContext.globalCompositeOperation=
a;this.setModified(!0)};c.Image.prototype.filter=function(c,a){b.apply(this.canvas,b[c],a);this.setModified(!0)};c.Image.prototype.blend=function(){c.prototype.blend.apply(this,arguments);this.setModified(!0)};c.Image.prototype.setModified=function(b){this._modified=b};c.Image.prototype.isModified=function(){return this._modified};c.Image.prototype.save=function(b,a){c.prototype.saveCanvas(this.canvas,b,a)};p.exports=c.Image},{"../core/main":23,"./filters":42}],46:[function(g,p,q){var c=g("../core/main"),
b=g("./filters");g("../color/p5.Color");c.prototype.pixels=[];c.prototype.blend=function(){c._validateParameters("blend",arguments);this._renderer?this._renderer.blend.apply(this._renderer,arguments):c.Renderer2D.prototype.blend.apply(this,arguments)};c.prototype.copy=function(){c._validateParameters("copy",arguments);c.Renderer2D.prototype.copy.apply(this._renderer,arguments)};c.prototype.filter=function(f,a){c._validateParameters("filter",arguments);void 0!==this.canvas?b.apply(this.canvas,b[f],
a):b.apply(this.elt,b[f],a)};c.prototype.get=function(b,a,d,e){return c._validateParameters("get",arguments),this._renderer.get.apply(this._renderer,arguments)};c.prototype.loadPixels=function(){c._validateParameters("loadPixels",arguments);this._renderer.loadPixels()};c.prototype.set=function(b,a,d){this._renderer.set(b,a,d)};c.prototype.updatePixels=function(b,a,d,e){c._validateParameters("updatePixels",arguments);0!==this.pixels.length&&this._renderer.updatePixels(b,a,d,e)};p.exports=c},{"../color/p5.Color":15,
"../core/main":23,"./filters":42}],47:[function(g,p,q){function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function b(a,b){var d={};if(void 0===(b=b||[]))for(var c=0;c<a.length;c++)b[c.toString()]=c;for(c=0;c<b.length;c++)d[b[c]]=a[c];return d}function f(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,
"&quot;").replace(/'/g,"&#039;")}function a(a,b){b&&!0!==b&&"true"!==b||(b="");a||(a="untitled");var d="";return a&&-1<a.indexOf(".")&&(d=a.split(".").pop()),b&&d!==b&&(a=a+"."+(d=b)),[a,d]}var d=g("../core/main");g("whatwg-fetch");g("es6-promise").polyfill();var e=g("fetch-jsonp");g("../core/error_helpers");d.prototype.loadJSON=function(){d._validateParameters("loadJSON",arguments);for(var a,b,f,e=arguments[0],g={},r="json",p=1;p<arguments.length;p++){var v=arguments[p];"string"==typeof v?"jsonp"!==
v&&"json"!==v||(r=v):"function"==typeof v?a?b=v:a=v:"object"===c(v)&&(v.hasOwnProperty("jsonpCallback")||v.hasOwnProperty("jsonpCallbackFunction"))&&(r="jsonp",f=v)}var u=this;return this.httpDo(e,"GET",f,r,function(b){for(var d in b)g[d]=b[d];void 0!==a&&a(b);u._decrementPreload()},function(a){if(d._friendlyFileLoadError(5,e),!b)throw a;b(a)}),g};d.prototype.loadStrings=function(){d._validateParameters("loadStrings",arguments);for(var a,b,c=[],f=1;f<arguments.length;f++){var e=arguments[f];"function"==
typeof e&&(void 0===a?a=e:void 0===b&&(b=e))}var g=this;return d.prototype.httpDo.call(this,arguments[0],"GET","text",function(b){b=b.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/);Array.prototype.push.apply(c,b);void 0!==a&&a(c);g._decrementPreload()},function(a){if(d._friendlyFileLoadError(3,a),!b)throw a;b(a)}),c};d.prototype.loadTable=function(a){var c,f,e=[],h=!1,g=",",p=!1;"tsv"===a.substring(a.lastIndexOf(".")+1,a.length)&&(g="\t");for(var v=1;v<arguments.length;v++)if("function"==typeof arguments[v])void 0===
c?c=arguments[v]:void 0===f&&(f=arguments[v]);else if("string"==typeof arguments[v])if(e.push(arguments[v]),"header"===arguments[v]&&(h=!0),"csv"===arguments[v]){if(p)throw Error("Cannot set multiple separator types.");g=",";p=!0}else if("tsv"===arguments[v]){if(p)throw Error("Cannot set multiple separator types.");g="\t";p=!0}var u=new d.Table,w=this;return this.httpDo(a,"GET","table",function(a){for(var f,e,k={},l=[],n=0,r=null,t=function(){r.push(k.token);k.currentState=0;k.token=""},p=function(){k.currentState=
4;l.push(r);r=null};;){if(null==(f=a[n++])){if(k.escaped)throw Error("Unclosed quote in file.");if(r){t();p();break}}null===r&&(k.escaped=!1,r=[],k.currentState=0,k.token="");if(0===k.currentState){if('"'===f){k.escaped=!0;k.currentState=1;continue}k.currentState=1}1===k.currentState&&k.escaped?'"'===f?'"'===a[n]?(k.token+='"',n++):(k.escaped=!1,k.currentState=2):"\r"!==f&&(k.token+=f):"\r"===f?("\n"===a[n]&&n++,t(),p()):"\n"===f?(t(),p()):f===g?t():1===k.currentState&&(k.token+=f)}if(h)u.columns=
l.shift();else for(v=0;v<l[0].length;v++)u.columns[v]="null";for(v=0;v<l.length;v++)(1!==l[v].length||"undefined"!==l[v][0]&&""!==l[v][0])&&((e=new d.TableRow).arr=l[v],e.obj=b(l[v],u.columns),u.addRow(e));"function"==typeof c&&c(u);w._decrementPreload()},function(b){d._friendlyFileLoadError(2,a);f?f(b):console.error(b)}),u};d.prototype.loadXML=function(){for(var a,b,c=new d.XML,f=1;f<arguments.length;f++){var e=arguments[f];"function"==typeof e&&(void 0===a?a=e:void 0===b&&(b=e))}var g=this;return this.httpDo(arguments[0],
"GET","xml",function(b){for(var d in b)c[d]=b[d];void 0!==a&&a(c);g._decrementPreload()},function(a){if(d._friendlyFileLoadError(1,a),!b)throw a;b(a)}),c};d.prototype.loadBytes=function(a,b,c){var f={},e=this;return this.httpDo(a,"GET","arrayBuffer",function(a){f.bytes=new Uint8Array(a);"function"==typeof b&&b(f);e._decrementPreload()},function(b){if(d._friendlyFileLoadError(6,a),!c)throw b;c(b)}),f};d.prototype.httpGet=function(){d._validateParameters("httpGet",arguments);var a=Array.prototype.slice.call(arguments);
return a.splice(1,0,"GET"),d.prototype.httpDo.apply(this,a)};d.prototype.httpPost=function(){d._validateParameters("httpPost",arguments);var a=Array.prototype.slice.call(arguments);return a.splice(1,0,"POST"),d.prototype.httpDo.apply(this,a)};d.prototype.httpDo=function(){var a,b,f={},g=0;var t="text/plain";for(var r=arguments.length-1;0<r&&"function"==typeof arguments[r];r--)g++;var p=arguments[0];if(2===arguments.length-g&&"string"==typeof p&&"object"===c(arguments[1])){t=new Request(p,arguments[1]);
var v=arguments[2];var u=arguments[3]}else{var w;g="GET";for(r=1;r<arguments.length;r++){var q=arguments[r];if("string"==typeof q)"GET"===q||"POST"===q||"PUT"===q||"DELETE"===q?g=q:"json"===q||"jsonp"===q||"binary"===q||"arrayBuffer"===q||"xml"===q||"text"===q||"table"===q?a=q:w=q;else if("number"==typeof q)w=q.toString();else if("object"===c(q))if(q.hasOwnProperty("jsonpCallback")||q.hasOwnProperty("jsonpCallbackFunction"))for(var G in q)f[G]=q[G];else t=q instanceof d.XML?(w=q.serialize(),"application/xml"):
(w=JSON.stringify(q),"application/json");else"function"==typeof q&&(v?u=q:v=q)}t=new Request(p,{method:g,mode:"cors",body:w,headers:new Headers({"Content-Type":t})})}return a||(a=-1!==p.indexOf("json")?"json":-1!==p.indexOf("xml")?"xml":"text"),(b=(b="jsonp"===a?e(p,f):fetch(t)).then(function(b){if(!b.ok){var c=Error(b.body);throw c.status=b.status,c.ok=!1,c;}c=0;switch("jsonp"!==a&&(c=b.headers.get("content-length")),c&&64E6<c&&d._friendlyFileLoadError(7,p),a){case "json":case "jsonp":return b.json();
case "binary":return b.blob();case "arrayBuffer":return b.arrayBuffer();case "xml":return b.text().then(function(a){a=(new DOMParser).parseFromString(a,"text/xml");return new d.XML(a.documentElement)});default:return b.text()}})).then(v||function(){}),b.catch(u||console.error),b};window.URL=window.URL||window.webkitURL;d.prototype._pWriters=[];d.prototype.createWriter=function(a,b){var c,f;for(f in d.prototype._pWriters)if(d.prototype._pWriters[f].name===a)return c=new d.PrintWriter(a+this.millis(),
b),d.prototype._pWriters.push(c),c;return c=new d.PrintWriter(a,b),d.prototype._pWriters.push(c),c};d.PrintWriter=function(a,b){var c=this;this.name=a;this.content="";this.write=function(a){this.content+=a};this.print=function(a){this.content+=a+"\n"};this.clear=function(){this.content=""};this.close=function(){var f=[],e;for(e in f.push(this.content),d.prototype.writeFile(f,a,b),d.prototype._pWriters)d.prototype._pWriters[e].name===this.name&&d.prototype._pWriters.splice(e,1);c.clear();c={}}};d.prototype.save=
function(b,c,f){var e=arguments,h=this._curElement?this._curElement.elt:this.elt;if(0!==e.length)if(e[0]instanceof d.Renderer||e[0]instanceof d.Graphics)d.prototype.saveCanvas(e[0].elt,e[1],e[2]);else if(1===e.length&&"string"==typeof e[0])d.prototype.saveCanvas(h,e[0]);else switch(a(e[1],e[2])[1]){case "json":return void d.prototype.saveJSON(e[0],e[1],e[2]);case "txt":return void d.prototype.saveStrings(e[0],e[1],e[2]);default:e[0]instanceof Array?d.prototype.saveStrings(e[0],e[1],e[2]):e[0]instanceof
d.Table?d.prototype.saveTable(e[0],e[1],e[2]):e[0]instanceof d.Image?d.prototype.saveCanvas(e[0].canvas,e[1]):e[0]instanceof d.SoundFile&&d.prototype.saveSound(e[0],e[1],e[2],e[3])}else d.prototype.saveCanvas(h)};d.prototype.saveJSON=function(a,b,c){d._validateParameters("saveJSON",arguments);var e=c?JSON.stringify(a):JSON.stringify(a,void 0,2);this.saveStrings(e.split("\n"),b,"json")};d.prototype.saveJSONObject=d.prototype.saveJSON;d.prototype.saveJSONArray=d.prototype.saveJSON;d.prototype.saveStrings=
function(a,b,c){d._validateParameters("saveStrings",arguments);for(var e=this.createWriter(b,c||"txt"),f=0;f<a.length;f++)a.length,e.print(a[f]);e.close();e.clear()};d.prototype.saveTable=function(a,b,c){d._validateParameters("saveTable",arguments);var e=void 0===c?b.substring(b.lastIndexOf(".")+1,b.length):c;var h=this.createWriter(b,e),k=a.columns,g=",";if("tsv"===e&&(g="\t"),"html"!==e){if("0"!==k[0]){for(e=0;e<k.length;e++)e<k.length-1?h.write(k[e]+g):h.write(k[e]);h.write("\n")}for(k=0;k<a.rows.length;k++){for(e=
0;e<a.rows[k].arr.length;e++)e<a.rows[k].arr.length-1?h.write(a.rows[k].arr[e]+g):(a.rows.length,h.write(a.rows[k].arr[e]));h.write("\n")}}else{h.print("<html>");h.print("<head>");if('="text/html;charset=utf-8" />',h.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),h.print("</head>"),h.print("<body>"),h.print("  <table>"),"0"!==k[0]){h.print("    <tr>");for(g=0;g<k.length;g++)e=f(k[g]),h.print("      <td>"+e),h.print("      </td>");h.print("    </tr>")}for(k=0;k<a.rows.length;k++){h.print("    <tr>");
for(g=0;g<a.columns.length;g++)e=f(a.rows[k].getString(g)),h.print("      <td>"+e),h.print("      </td>");h.print("    </tr>")}h.print("  </table>");h.print("</body>");h.print("</html>")}h.close();h.clear()};d.prototype.writeFile=function(a,b,c){var e="application/octet-stream";d.prototype._isSafari()&&(e="text/plain");a=new Blob(a,{type:e});d.prototype.downloadFile(a,b,c)};d.prototype.downloadFile=function(b,c,e){e=a(c,e);var f=e[0];if(b instanceof Blob)g("file-saver").saveAs(b,f);else{c=document.createElement("a");
if(c.href=b,c.download=f,c.onclick=function(a){document.body.removeChild(a.target);a.stopPropagation()},c.style.display="none",document.body.appendChild(c),d.prototype._isSafari())b='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n3. Name it with this extension: ."'+(e[1]+'"'),alert(b);c.click()}};d.prototype._checkFileExtension=a;d.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};
p.exports=d},{"../core/error_helpers":19,"../core/main":23,"es6-promise":4,"fetch-jsonp":5,"file-saver":6,"whatwg-fetch":11}],48:[function(g,p,q){var c=g("../core/main");c.Table=function(b){this.columns=[];this.rows=[]};c.Table.prototype.addRow=function(b){b=b||new c.TableRow;if(void 0===b.arr||void 0===b.obj)throw Error("invalid TableRow: "+b);return(b.table=this).rows.push(b),b};c.Table.prototype.removeRow=function(b){this.rows[b].table=null;b=this.rows.splice(b+1,this.rows.length);this.rows.pop();
this.rows=this.rows.concat(b)};c.Table.prototype.getRow=function(b){return this.rows[b]};c.Table.prototype.getRows=function(){return this.rows};c.Table.prototype.findRow=function(b,c){if("string"==typeof c)for(var a=0;a<this.rows.length;a++){if(this.rows[a].obj[c]===b)return this.rows[a]}else for(a=0;a<this.rows.length;a++)if(this.rows[a].arr[c]===b)return this.rows[a];return null};c.Table.prototype.findRows=function(b,c){var a=[];if("string"==typeof c)for(var d=0;d<this.rows.length;d++)this.rows[d].obj[c]===
b&&a.push(this.rows[d]);else for(d=0;d<this.rows.length;d++)this.rows[d].arr[c]===b&&a.push(this.rows[d]);return a};c.Table.prototype.matchRow=function(b,c){if("number"==typeof c)for(var a=0;a<this.rows.length;a++){if(this.rows[a].arr[c].match(b))return this.rows[a]}else for(a=0;a<this.rows.length;a++)if(this.rows[a].obj[c].match(b))return this.rows[a];return null};c.Table.prototype.matchRows=function(b,c){var a=[];if("number"==typeof c)for(var d=0;d<this.rows.length;d++)this.rows[d].arr[c].match(b)&&
a.push(this.rows[d]);else for(d=0;d<this.rows.length;d++)this.rows[d].obj[c].match(b)&&a.push(this.rows[d]);return a};c.Table.prototype.getColumn=function(b){var c=[];if("string"==typeof b)for(var a=0;a<this.rows.length;a++)c.push(this.rows[a].obj[b]);else for(a=0;a<this.rows.length;a++)c.push(this.rows[a].arr[b]);return c};c.Table.prototype.clearRows=function(){delete this.rows;this.rows=[]};c.Table.prototype.addColumn=function(b){this.columns.push(b||null)};c.Table.prototype.getColumnCount=function(){return this.columns.length};
c.Table.prototype.getRowCount=function(){return this.rows.length};c.Table.prototype.removeTokens=function(b,c){for(var a=[],d=0;d<b.length;d++)a.push(b.charAt(d).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));b=new RegExp(a.join("|"),"g");if(void 0===c)for(c=0;c<this.columns.length;c++)for(a=0;a<this.rows.length;a++)d=this.rows[a].arr[c],d=d.replace(b,""),this.rows[a].arr[c]=d,this.rows[a].obj[this.columns[c]]=d;else if("string"==typeof c)for(a=0;a<this.rows.length;a++){d=this.rows[a].obj[c];d=d.replace(b,
"");this.rows[a].obj[c]=d;var e=this.columns.indexOf(c);this.rows[a].arr[e]=d}else for(a=0;a<this.rows.length;a++)d=this.rows[a].arr[c],d=d.replace(b,""),this.rows[a].arr[c]=d,this.rows[a].obj[this.columns[c]]=d};c.Table.prototype.trim=function(b){var c=/ /g;if(void 0===b)for(b=0;b<this.columns.length;b++)for(var a=0;a<this.rows.length;a++){var d=this.rows[a].arr[b];d=d.replace(c,"");this.rows[a].arr[b]=d;this.rows[a].obj[this.columns[b]]=d}else if("string"==typeof b)for(a=0;a<this.rows.length;a++){d=
this.rows[a].obj[b];d=d.replace(c,"");this.rows[a].obj[b]=d;var e=this.columns.indexOf(b);this.rows[a].arr[e]=d}else for(a=0;a<this.rows.length;a++)d=this.rows[a].arr[b],d=d.replace(c,""),this.rows[a].arr[b]=d,this.rows[a].obj[this.columns[b]]=d};c.Table.prototype.removeColumn=function(b){var c,a;"string"==typeof b?(c=b,a=this.columns.indexOf(b)):(a=b,c=this.columns[b]);b=this.columns.splice(a+1,this.columns.length);this.columns.pop();this.columns=this.columns.concat(b);for(b=0;b<this.rows.length;b++){var d=
this.rows[b].arr,e=d.splice(a+1,d.length);d.pop();this.rows[b].arr=d.concat(e);delete this.rows[b].obj[c]}};c.Table.prototype.set=function(b,c,a){this.rows[b].set(c,a)};c.Table.prototype.setNum=function(b,c,a){this.rows[b].setNum(c,a)};c.Table.prototype.setString=function(b,c,a){this.rows[b].setString(c,a)};c.Table.prototype.get=function(b,c){return this.rows[b].get(c)};c.Table.prototype.getNum=function(b,c){return this.rows[b].getNum(c)};c.Table.prototype.getString=function(b,c){return this.rows[b].getString(c)};
c.Table.prototype.getObject=function(b){for(var c,a={},d=0;d<this.rows.length;d++)if(c=this.rows[d].obj,"string"==typeof b){if(!(0<=this.columns.indexOf(b)))throw Error('This table has no column named "'+b+'"');a[c[b]]=c}else a[d]=this.rows[d].obj;return a};c.Table.prototype.getArray=function(){for(var b=[],c=0;c<this.rows.length;c++)b.push(this.rows[c].arr);return b};p.exports=c},{"../core/main":23}],49:[function(g,p,q){g=g("../core/main");g.TableRow=function(c,b){var f=[],a={};c&&(b=b||",",f=c.split(b));
for(c=0;c<f.length;c++)a[c]=f[c];this.arr=f;this.obj=a;this.table=null};g.TableRow.prototype.set=function(c,b){if("string"==typeof c){var f=this.table.columns.indexOf(c);if(!(0<=f))throw Error('This table has no column named "'+c+'"');this.obj[c]=b;this.arr[f]=b}else{if(!(c<this.table.columns.length))throw Error("Column #"+c+" is out of the range of this table");this.arr[c]=b;this.obj[this.table.columns[c]]=b}};g.TableRow.prototype.setNum=function(c,b){b=parseFloat(b);this.set(c,b)};g.TableRow.prototype.setString=
function(c,b){this.set(c,b.toString())};g.TableRow.prototype.get=function(c){return"string"==typeof c?this.obj[c]:this.arr[c]};g.TableRow.prototype.getNum=function(c){var b;if("NaN"===(b="string"==typeof c?parseFloat(this.obj[c]):parseFloat(this.arr[c])).toString())throw"Error: "+this.obj[c]+" is NaN (Not a Number)";return b};g.TableRow.prototype.getString=function(c){return"string"==typeof c?this.obj[c].toString():this.arr[c].toString()};p.exports=g},{"../core/main":23}],50:[function(g,p,q){var c=
g("../core/main");c.XML=function(b){this.DOM=b?b:document.implementation.createDocument(null,"doc").createElement("root")};c.XML.prototype.getParent=function(){return new c.XML(this.DOM.parentElement)};c.XML.prototype.getName=function(){return this.DOM.tagName};c.XML.prototype.setName=function(b){var c=this.DOM.innerHTML,a=this.DOM.attributes;b=document.implementation.createDocument(null,"default").createElement(b);b.innerHTML=c;for(c=0;c<a.length;c++)b.setAttribute(a[c].nodeName,a.nodeValue);this.DOM=
b};c.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length};c.XML.prototype.listChildren=function(){for(var b=[],c=0;c<this.DOM.childNodes.length;c++)b.push(this.DOM.childNodes[c].nodeName);return b};c.XML.prototype.getChildren=function(b){b=b?this.DOM.getElementsByTagName(b):this.DOM.children;for(var f=[],a=0;a<b.length;a++)f.push(new c.XML(b[a]));return f};c.XML.prototype.getChild=function(b){if("string"!=typeof b)return new c.XML(this.DOM.children[b]);for(var f=0;f<this.DOM.children.length;f++){var a=
this.DOM.children[f];if(a.tagName===b)return new c.XML(a)}};c.XML.prototype.addChild=function(b){b instanceof c.XML&&this.DOM.appendChild(b.DOM)};c.XML.prototype.removeChild=function(b){var c=-1;if("string"==typeof b)for(var a=0;a<this.DOM.children.length;a++){if(this.DOM.children[a].tagName===b){c=a;break}}else c=b;-1!==c&&this.DOM.removeChild(this.DOM.children[c])};c.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length};c.XML.prototype.listAttributes=function(){for(var b=
[],c=0;c<this.DOM.attributes.length;c++)b.push(this.DOM.attributes[c].nodeName);return b};c.XML.prototype.hasAttribute=function(b){for(var c={},a=0;a<this.DOM.attributes.length;a++){var d=this.DOM.attributes[a];c[d.nodeName]=d.nodeValue}return!!c[b]};c.XML.prototype.getNum=function(b,c){for(var a={},d=0;d<this.DOM.attributes.length;d++){var e=this.DOM.attributes[d];a[e.nodeName]=e.nodeValue}return Number(a[b])||c||0};c.XML.prototype.getString=function(b,c){for(var a={},d=0;d<this.DOM.attributes.length;d++){var e=
this.DOM.attributes[d];a[e.nodeName]=e.nodeValue}return a[b]?String(a[b]):c||null};c.XML.prototype.setAttribute=function(b,c){this.DOM.setAttribute(b,c)};c.XML.prototype.getContent=function(b){return this.DOM.textContent.replace(/\s\s+/g,",")||b||null};c.XML.prototype.setContent=function(b){this.DOM.children.length||(this.DOM.textContent=b)};c.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)};p.exports=c},{"../core/main":23}],51:[function(g,p,q){function c(b,
a,d){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var c=arguments.length,f=[],g=0,k=0;k<c;k++){var n=arguments[k];if((n=+n)===1/0||n===-1/0)return 1/0;g<(n=Math.abs(n))&&(g=n);f[k]=n}0===g&&(g=1);var t=k=0;for(n=0;n<c;n++){var r=f[n]/g;t=r*r-t;r=k+t;t=r-k-t;k=r}return Math.sqrt(k)*g}var b=g("../core/main");b.prototype.abs=Math.abs;b.prototype.ceil=Math.ceil;b.prototype.constrain=function(c,a,d){return b._validateParameters("constrain",arguments),Math.max(Math.min(c,
d),a)};b.prototype.dist=function(){return b._validateParameters("dist",arguments),4===arguments.length?c(arguments[2]-arguments[0],arguments[3]-arguments[1]):6===arguments.length?c(arguments[3]-arguments[0],arguments[4]-arguments[1],arguments[5]-arguments[2]):void 0};b.prototype.exp=Math.exp;b.prototype.floor=Math.floor;b.prototype.lerp=function(c,a,d){return b._validateParameters("lerp",arguments),d*(a-c)+c};b.prototype.log=Math.log;b.prototype.mag=function(f,a){return b._validateParameters("mag",
arguments),c(f,a)};b.prototype.map=function(c,a,d,e,h,g){b._validateParameters("map",arguments);var f=(c-a)/(d-a)*(h-e)+e;return g?e<h?this.constrain(f,e,h):this.constrain(f,h,e):f};b.prototype.max=function(){return b._validateParameters("max",arguments),arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)};b.prototype.min=function(){return b._validateParameters("min",arguments),arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,
arguments)};b.prototype.norm=function(c,a,d){return b._validateParameters("norm",arguments),this.map(c,a,d,0,1)};b.prototype.pow=Math.pow;b.prototype.round=Math.round;b.prototype.sq=function(b){return b*b};b.prototype.sqrt=Math.sqrt;p.exports=b},{"../core/main":23}],52:[function(g,p,q){var c=g("../core/main");c.prototype.createVector=function(b,f,a){return this instanceof c?new c.Vector(this,arguments):new c.Vector(b,f,a)};p.exports=c},{"../core/main":23}],53:[function(g,p,q){var c;g=g("../core/main");
var b=4,f=.5;g.prototype.noise=function(a,d,e){if(d=d||0,e=e||0,null==c){c=Array(4096);for(var h=0;4096>h;h++)c[h]=Math.random()}0>a&&(a=-a);0>d&&(d=-d);0>e&&(e=-e);h=Math.floor(a);var g=Math.floor(d),k=Math.floor(e);a-=h;d-=g;for(var n=e-k,t=0,r=.5,p=0;p<b;p++){var q=h+(g<<4)+(k<<8);e=.5*(1-Math.cos(a*Math.PI));var u=.5*(1-Math.cos(d*Math.PI));var w=c[q&4095];w+=e*(c[q+1&4095]-w);var C=c[q+16&4095];w+=u*(C+e*(c[q+16+1&4095]-C)-w);C=c[(q+=256)&4095];C+=e*(c[q+1&4095]-C);var G=c[q+16&4095];C+=u*(G+
e*(c[q+16+1&4095]-G)-C);t+=(w+.5*(1-Math.cos(n*Math.PI))*(C-w))*r;r*=f;h<<=1;g<<=1;k<<=1;1<=(a*=2)&&(h++,a--);1<=(d*=2)&&(g++,d--);1<=(n*=2)&&(k++,n--)}return t};g.prototype.noiseDetail=function(a,d){0<a&&(b=a);0<d&&(f=d)};g.prototype.noiseSeed=function(a){var b,e,f={setSeed:function(a){e=b=(null==a?4294967296*Math.random():a)>>>0},getSeed:function(){return b},rand:function(){return(e=(1664525*e+1013904223)%4294967296)/4294967296}};f.setSeed(a);c=Array(4096);for(a=0;4096>a;a++)c[a]=f.rand()};p.exports=
g},{"../core/main":23}],54:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants");c.Vector=function(b,a,d){var e,f;b=b instanceof c?(this.p5=b,e=a[0]||0,f=a[1]||0,a[2]||0):(e=b||0,f=a||0,d||0);this.x=e;this.y=f;this.z=b};c.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"};c.Vector.prototype.set=function(b,a,d){return b instanceof c.Vector?(this.x=b.x||0,this.y=b.y||0,this.z=b.z||0):b instanceof Array?(this.x=b[0]||0,this.y=b[1]||0,this.z=
b[2]||0):(this.x=b||0,this.y=a||0,this.z=d||0),this};c.Vector.prototype.copy=function(){return this.p5?new c.Vector(this.p5,[this.x,this.y,this.z]):new c.Vector(this.x,this.y,this.z)};c.Vector.prototype.add=function(b,a,d){return b instanceof c.Vector?(this.x+=b.x||0,this.y+=b.y||0,this.z+=b.z||0):b instanceof Array?(this.x+=b[0]||0,this.y+=b[1]||0,this.z+=b[2]||0):(this.x+=b||0,this.y+=a||0,this.z+=d||0),this};c.Vector.prototype.sub=function(b,a,d){return b instanceof c.Vector?(this.x-=b.x||0,this.y-=
b.y||0,this.z-=b.z||0):b instanceof Array?(this.x-=b[0]||0,this.y-=b[1]||0,this.z-=b[2]||0):(this.x-=b||0,this.y-=a||0,this.z-=d||0),this};c.Vector.prototype.mult=function(b){return"number"==typeof b&&isFinite(b)?(this.x*=b,this.y*=b,this.z*=b):console.warn("p5.Vector.prototype.mult:","n is undefined or not a finite number"),this};c.Vector.prototype.div=function(b){return"number"==typeof b&&isFinite(b)?0===b?console.warn("p5.Vector.prototype.div:","divide by 0"):(this.x/=b,this.y/=b,this.z/=b):console.warn("p5.Vector.prototype.div:",
"n is undefined or not a finite number"),this};c.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())};c.Vector.prototype.magSq=function(){var b=this.x,a=this.y,d=this.z;return b*b+a*a+d*d};c.Vector.prototype.dot=function(b,a,d){return b instanceof c.Vector?this.dot(b.x,b.y,b.z):this.x*(b||0)+this.y*(a||0)+this.z*(d||0)};c.Vector.prototype.cross=function(b){var a=this.y*b.z-this.z*b.y,d=this.z*b.x-this.x*b.z;b=this.x*b.y-this.y*b.x;return this.p5?new c.Vector(this.p5,[a,d,b]):new c.Vector(a,
d,b)};c.Vector.prototype.dist=function(b){return b.copy().sub(this).mag()};c.Vector.prototype.normalize=function(){var b=this.mag();return 0!==b&&this.mult(1/b),this};c.Vector.prototype.limit=function(b){var a=this.magSq();return b*b<a&&this.div(Math.sqrt(a)).mult(b),this};c.Vector.prototype.setMag=function(b){return this.normalize().mult(b)};c.Vector.prototype.heading=function(){var b=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(b):b};c.Vector.prototype.rotate=function(b){b=this.heading()+
b;this.p5&&(b=this.p5._toRadians(b));var a=this.mag();return this.x=Math.cos(b)*a,this.y=Math.sin(b)*a,this};c.Vector.prototype.angleBetween=function(b){b=this.dot(b)/(this.mag()*b.mag());b=Math.acos(Math.min(1,Math.max(-1,b)));return this.p5?this.p5._fromRadians(b):b};c.Vector.prototype.lerp=function(b,a,d,e){return b instanceof c.Vector?this.lerp(b.x,b.y,b.z,a):(this.x+=(b-this.x)*e||0,this.y+=(a-this.y)*e||0,this.z+=(d-this.z)*e||0,this)};c.Vector.prototype.array=function(){return[this.x||0,this.y||
0,this.z||0]};c.Vector.prototype.equals=function(b,a,d){var e,f,g;return g=b instanceof c.Vector?(e=b.x||0,f=b.y||0,b.z||0):b instanceof Array?(e=b[0]||0,f=b[1]||0,b[2]||0):(e=b||0,f=a||0,d||0),this.x===e&&this.y===f&&this.z===g};c.Vector.fromAngle=function(b,a){return void 0===a&&(a=1),new c.Vector(a*Math.cos(b),a*Math.sin(b),0)};c.Vector.fromAngles=function(b,a,d){void 0===d&&(d=1);var e=Math.sin(b);return new c.Vector(d*e*Math.sin(a),-d*Math.cos(b),d*e*Math.cos(a))};c.Vector.random2D=function(){return this.fromAngle(Math.random()*
b.TWO_PI)};c.Vector.random3D=function(){var f=Math.random()*b.TWO_PI,a=2*Math.random()-1,d=Math.sqrt(1-a*a);return new c.Vector(d*Math.cos(f),d*Math.sin(f),a)};c.Vector.add=function(b,a,d){return d?d.set(b):d=b.copy(),d.add(a),d};c.Vector.sub=function(b,a,d){return d?d.set(b):d=b.copy(),d.sub(a),d};c.Vector.mult=function(b,a,d){return d?d.set(b):d=b.copy(),d.mult(a),d};c.Vector.div=function(b,a,d){return d?d.set(b):d=b.copy(),d.div(a),d};c.Vector.dot=function(b,a){return b.dot(a)};c.Vector.cross=
function(b,a){return b.cross(a)};c.Vector.dist=function(b,a){return b.dist(a)};c.Vector.lerp=function(b,a,d,c){return c?c.set(b):c=b.copy(),c.lerp(a,d),c};c.Vector.mag=function(b){var a=b.x,d=b.y;b=b.z;return Math.sqrt(a*a+d*d+b*b)};p.exports=c.Vector},{"../core/constants":17,"../core/main":23}],55:[function(g,p,q){var c,b;g=g("../core/main");var f=!1,a=!1,d=0,e={setSeed:function(a){b=c=(null==a?2147483647*Math.random():a)>>>0},getSeed:function(){return c},rand:function(){return(b=(1103515245*b+12345)%
2147483647)/2147483647}};g.prototype.randomSeed=function(b){e.setSeed(b);a=!(f=!0)};g.prototype.random=function(a,b){var d;if(d=f?e.rand():Math.random(),void 0===a)return d;if(void 0===b)return a instanceof Array?a[Math.floor(d*a.length)]:d*a;if(b<a){var c=a;a=b;b=c}return d*(b-a)+a};g.prototype.randomGaussian=function(b,c){var e,f;if(a){var h=d;a=!1}else{for(;1<=(f=(h=this.random(2)-1)*h+(e=this.random(2)-1)*e););h*=f=Math.sqrt(-2*Math.log(f)/f);d=e*f;a=!0}return h*(c||1)+(b||0)};p.exports=g},{"../core/main":23}],
56:[function(g,p,q){q=g("../core/main");var c=g("../core/constants");q.prototype._angleMode=c.RADIANS;q.prototype.acos=function(b){return this._fromRadians(Math.acos(b))};q.prototype.asin=function(b){return this._fromRadians(Math.asin(b))};q.prototype.atan=function(b){return this._fromRadians(Math.atan(b))};q.prototype.atan2=function(b,c){return this._fromRadians(Math.atan2(b,c))};q.prototype.cos=function(b){return Math.cos(this._toRadians(b))};q.prototype.sin=function(b){return Math.sin(this._toRadians(b))};
q.prototype.tan=function(b){return Math.tan(this._toRadians(b))};q.prototype.degrees=function(b){return b*c.RAD_TO_DEG};q.prototype.radians=function(b){return b*c.DEG_TO_RAD};q.prototype.angleMode=function(b){b!==c.DEGREES&&b!==c.RADIANS||(this._angleMode=b)};q.prototype._toRadians=function(b){return this._angleMode===c.DEGREES?b*c.DEG_TO_RAD:b};q.prototype._toDegrees=function(b){return this._angleMode===c.RADIANS?b*c.RAD_TO_DEG:b};q.prototype._fromRadians=function(b){return this._angleMode===c.DEGREES?
b*c.RAD_TO_DEG:b};p.exports=q},{"../core/constants":17,"../core/main":23}],57:[function(g,p,q){var c=g("../core/main");c.prototype.textAlign=function(b,f){return c._validateParameters("textAlign",arguments),this._renderer.textAlign.apply(this._renderer,arguments)};c.prototype.textLeading=function(b){return c._validateParameters("textLeading",arguments),this._renderer.textLeading.apply(this._renderer,arguments)};c.prototype.textSize=function(b){return c._validateParameters("textSize",arguments),this._renderer.textSize.apply(this._renderer,
arguments)};c.prototype.textStyle=function(b){return c._validateParameters("textStyle",arguments),this._renderer.textStyle.apply(this._renderer,arguments)};c.prototype.textWidth=function(b){return c._validateParameters("textWidth",arguments),0===b.length?0:this._renderer.textWidth.apply(this._renderer,arguments)};c.prototype.textAscent=function(){return c._validateParameters("textAscent",arguments),this._renderer.textAscent()};c.prototype.textDescent=function(){return c._validateParameters("textDescent",
arguments),this._renderer.textDescent()};c.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()};p.exports=c},{"../core/main":23}],58:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants"),f=g("opentype.js");g("../core/error_helpers");c.prototype.loadFont=function(a,b,e){c._validateParameters("loadFont",arguments);var d=new c.Font(this),g=this;return f.load(a,function(f,h){if(f)return c._friendlyFileLoadError(4,a),void 0!==e?e(f):void console.error(f,a);d.font=
h;void 0!==b&&b(d);g._decrementPreload();var k,l;f=a.split("\\").pop().split("/").pop();h=f.lastIndexOf(".");var n=1>h?null:f.substr(h+1);-1<["ttf","otf","woff","woff2"].indexOf(n)&&(k=f.substr(0,h),(l=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: "+k+";\nsrc: url("+a+");\n}\n")),document.head.appendChild(l))}),d};c.prototype.text=function(a,b,e,f,g){return c._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?
this._renderer.text.apply(this._renderer,arguments):this};c.prototype.textFont=function(a,d){if(c._validateParameters("textFont",arguments),arguments.length){if(!a)throw Error("null font passed to textFont");return this._renderer._setProperty("_textFont",a),d&&(this._renderer._setProperty("_textSize",d),this._renderer._setProperty("_textLeading",d*b._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};p.exports=c},{"../core/constants":17,"../core/error_helpers":19,
"../core/main":23,"opentype.js":9}],59:[function(g,p,q){function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function b(b,e){e=function(a,b){if("object"!==c(a))a=b;else for(var d in b)void 0===a[d]&&(a[d]=b[d]);return a}(e,{sampleFactor:.1,simplifyThreshold:0});for(var f=l(b,0,1),h=f/(f*e.sampleFactor),k=[],g=0;g<f;g+=h)k.push(l(b,
g));return e.simplifyThreshold&&function(b,c){c=void 0===c?0:c;for(var e=0,f=b.length-1;3<b.length&&0<=f;--f)d(a(b,f-1),a(b,f),a(b,f+1),c)&&(b.splice(f%b.length,1),e++)}(k,e.simplifyThreshold),k}function f(a){var b=[a.type];return"M"===a.type||"L"===a.type?b.push(a.x,a.y):"C"===a.type?b.push(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type&&b.push(a.x1,a.y1,a.x,a.y),b}function a(a,b){var d=a.length;return a[0>b?b%d+d:b%d]}function d(a,b,c,e){if(!e)return 0==(f=a,k=c,((h=b)[0]-f[0])*(k[1]-f[1])-(k[0]-f[0])*
(h[1]-f[1]));var f,h,k;void 0===d.tmpPoint1&&(d.tmpPoint1=[],d.tmpPoint2=[]);f=d.tmpPoint1;h=d.tmpPoint2;f.x=b.x-a.x;f.y=b.y-a.y;h.x=c.x-b.x;h.y=c.y-b.y;return Math.acos((f.x*h.x+f.y*h.y)/(Math.sqrt(f.x*f.x+f.y*f.y)*Math.sqrt(h.x*h.x+h.y*h.y)))<e}function e(a,b,d,c,e,f,h,k,g){var l=1-g,n=Math.pow(l,3),r=Math.pow(l,2),u=g*g,t=u*g,p=a+2*g*(d-a)+u*(e-2*d+a),q=b+2*g*(c-b)+u*(f-2*c+b),w=d+2*g*(e-d)+u*(h-2*e+d);u=c+2*g*(f-c)+u*(k-2*f+c);var v=90-180*Math.atan2(p-w,q-u)/Math.PI;return(w<p||q<u)&&(v+=180),
{x:n*a+3*r*g*d+3*l*g*g*e+t*h,y:n*b+3*r*g*c+3*l*g*g*f+t*k,m:{x:p,y:q},n:{x:w,y:u},start:{x:l*a+g*d,y:l*b+g*c},end:{x:l*e+g*h,y:l*f+g*k},alpha:v}}function h(a,b,d,c,f,h,k,g,l){if(null==l)a=z(a,b,d,c,f,h,k,g);else{if(0>l||z(a,b,d,c,f,h,k,g)<l)l=void 0;else{var n,r=.5,u=1-r;for(n=z(a,b,d,c,f,h,k,g,u);.01<Math.abs(n-l);)n=z(a,b,d,c,f,h,k,g,u+=(n<l?1:-1)*(r/=2));l=u}a=e(a,b,d,c,f,h,k,g,l)}return a}function l(a,b,d){var c,f,g,l=0,n=0,u=(a=function(a,b){var d=k(a),c=b&&k(b);a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,
qy:null};b={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var e=[],f=[],h=function(a,b,d){var c;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(a[0]in{T:1,Q:1}||(b.qx=b.qy=null),a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(function sa(a,b,d,c,e,f,h,k,g,l){var n=Math.PI,r=120*n/180,u=n/180*(+e||0),t=[],q=function(a,b,d){return{x:a*Math.cos(d)-b*Math.sin(d),y:a*Math.sin(d)+b*Math.cos(d)}};if(l){f=l[0];var p=l[1];var v=l[2];var w=l[3]}else{p=q(a,b,-u);a=p.x;b=p.y;p=q(k,g,-u);k=p.x;g=
p.y;p=(a-k)/2;v=(b-g)/2;w=p*p/(d*d)+v*v/(c*c);1<w&&(w=Math.sqrt(w),d*=w,c*=w);w=d*d;var z=c*c;f=(f===h?-1:1)*Math.sqrt(Math.abs((w*z-w*v*v-z*p*p)/(w*v*v+z*p*p)));v=f*d*v/c+(a+k)/2;w=f*-c*p/d+(b+g)/2;f=Math.asin(((b-w)/c).toFixed(9));p=Math.asin(((g-w)/c).toFixed(9));0>(f=a<v?n-f:f)&&(f=2*n+f);0>(p=k<v?n-p:p)&&(p=2*n+p);h&&p<f&&(f-=2*n);!h&&f<p&&(p-=2*n)}Math.abs(p-f)>r&&(t=p,n=k,z=g,p=f+r*(h&&f<p?1:-1),k=v+d*Math.cos(p),g=w+c*Math.sin(p),t=sa(k,g,d,c,e,0,h,n,z,[p,t,v,w]));e=Math.tan((p-f)/4);d=4/
3*d*e;e*=4/3*c;c=[a,b];a=[a+d*Math.sin(f),b-e*Math.cos(f)];b=[k+d*Math.sin(p),g-e*Math.cos(p)];k=[k,g];a[0]=2*c[0]-a[0];a[1]=2*c[1]-a[1];if(l)return[a,b,k].concat(t);t=[a,b,k].concat(t).join().split(",");l=[];k=0;for(g=t.length;k<g;k++)l[k]=k%2?q(t[k-1],t[k],u).y:q(t[k],t[k+1],u).x;return l}.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":b="C"===d||"S"===d?(c=2*b.x-b.bx,2*b.y-b.by):(c=b.x,b.y);a=["C",c,b].concat(a.slice(1));break;case "T":b.qy="Q"===d||"T"===d?(b.qx=2*b.x-b.qx,2*b.y-b.qy):
(b.qx=b.x,b.y);a=["C"].concat(r(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(r(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(t(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(t(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(t(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(t(b.x,b.y,b.X,b.Y))}return a},g=function(a,b){if(7<a[b].length){a[b].shift();for(var h=a[b];h.length;)e[b]="A",c&&(f[b]="A"),a.splice(b++,0,["C"].concat(h.splice(0,6)));a.splice(b,
1);p=Math.max(d.length,c&&c.length||0)}},l=function(a,b,e,f,h){a&&b&&"M"===a[h][0]&&"M"!==b[h][0]&&(b.splice(h,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[h][1],e.y=a[h][2],p=Math.max(d.length,c&&c.length||0))},n="",u="";var p=Math.max(d.length,c&&c.length||0);for(var q=0;q<p;q++){d[q]&&(n=d[q][0]);"C"!==n&&(e[q]=n,q&&(u=e[q-1]));d[q]=h(d[q],a,u);"A"!==e[q]&&"C"===n&&(e[q]="C");g(d,q);c&&(c[q]&&(n=c[q][0]),"C"!==n&&(f[q]=n,q&&(u=f[q-1])),c[q]=h(c[q],b,u),"A"!==f[q]&&"C"===n&&(f[q]="C"),g(c,q));l(d,c,a,b,
q);l(c,d,b,a,q);var v=d[q],w=c&&c[q],z=v.length,C=c&&w.length;a.x=v[z-2];a.y=v[z-1];a.bx=parseFloat(v[z-4])||a.x;a.by=parseFloat(v[z-3])||a.y;b.bx=c&&(parseFloat(w[C-4])||b.x);b.by=c&&(parseFloat(w[C-3])||b.y);b.x=c&&w[C-2];b.y=c&&w[C-1]}return c?[d,c]:d}(a)).length;for(;n<u;n++){if("M"===(c=a[n])[0]){var p=+c[1];var q=+c[2]}else{if(b<l+(f=h(p,q,c[1],c[2],c[3],c[4],c[5],c[6]))&&!d)return{x:(g=h(p,q,c[1],c[2],c[3],c[4],c[5],c[6],b-l)).x,y:g.y,alpha:g.alpha};l+=f;p=+c[5];q=+c[6]}c.shift()+c}return(g=
d?l:e(p,q,c[0],c[1],c[2],c[3],c[4],c[5],1)).alpha&&(g={x:g.x,y:g.y,alpha:g.alpha}),g}function k(a){var b=[],d=0,c=0,e=0,f=0,h=0;if(!a)return b;"M"===a[0][0]&&(e=d=+a[0][1],f=c=+a[0][2],h++,b[0]=["M",d,c]);for(var k,g,l=3===a.length&&"M"===a[0][0]&&"R"===a[1][0].toUpperCase()&&"Z"===a[2][0].toUpperCase(),r=h,t=a.length;r<t;r++){if(b.push(h=[]),(g=a[r])[0]!==String.prototype.toUpperCase.call(g[0]))switch(h[0]=String.prototype.toUpperCase.call(g[0]),h[0]){case "A":h[1]=g[1];h[2]=g[2];h[3]=g[3];h[4]=
g[4];h[5]=g[5];h[6]=+(g[6]+d);h[7]=+(g[7]+c);break;case "V":h[1]=+g[1]+c;break;case "H":h[1]=+g[1]+d;break;case "R":for(var u=2,p=(k=[d,c].concat(g.slice(1))).length;u<p;u++)k[u]=+k[u]+d,k[++u]=+k[u]+c;b.pop();b=b.concat(n(k,l));break;case "M":e=+g[1]+d;f=+g[2]+c;break;default:for(u=1,p=g.length;u<p;u++)h[u]=+g[u]+(u%2?d:c)}else if("R"===g[0])k=[d,c].concat(g.slice(1)),b.pop(),b=b.concat(n(k,l)),h=["R"].concat(g.slice(-2));else for(k=0,u=g.length;k<u;k++)h[k]=g[k];switch(h[0]){case "Z":d=e;c=f;break;
case "H":d=h[1];break;case "V":c=h[1];break;case "M":e=h[h.length-2];f=h[h.length-1];break;default:d=h[h.length-2],c=h[h.length-1]}}return b}function n(a,b){for(var d=[],c=0,e=a.length;c<e-2*!b;c+=2){var f=[{x:+a[c-2],y:+a[c-1]},{x:+a[c],y:+a[c+1]},{x:+a[c+2],y:+a[c+3]},{x:+a[c+4],y:+a[c+5]}];b?c?e-4===c?f[3]={x:+a[0],y:+a[1]}:e-2===c&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4===c?f[3]=f[2]:c||(f[0]={x:+a[c],y:+a[c+1]});d.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,
(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return d}function t(a,b,d,c){return[a,b,d,c,d,c]}function r(a,b,d,c,e,f){return[1/3*a+2/3*d,1/3*b+2/3*c,1/3*e+2/3*d,1/3*f+2/3*c,e,f]}function z(a,b,d,c,e,f,h,k,g){null==g&&(g=1);g=(1<g?1:0>g?0:g)/2;for(var l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=0,r=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],t=0;12>t;t++){var u=g*l[t]+g,p=u*(u*
(-3*a+9*d-9*e+3*h)+6*a-12*d+6*e)-3*a+3*d;u=u*(u*(-3*b+9*c-9*f+3*k)+6*b-12*c+6*f)-3*b+3*c;n+=r[t]*Math.sqrt(p*p+u*u)}return g*n}q=g("../core/main");var v=g("../core/constants");q.Font=function(a){this.parent=a;this.cache={};this.font=void 0};q.Font.prototype.textBounds=function(a,b,d,c,e){b=void 0!==b?b:0;d=void 0!==d?d:0;var f=e&&e.renderer&&e.renderer._pInst||this.parent,h=f._renderer.drawingContext;h.textAlign||v.LEFT;h.textBaseline||v.BASELINE;if(c=c||f._renderer._textSize,!n){var k=[],g=[],l=
this._scale(c);this.font.forEachGlyph(a,b,d,c,e,function(a,b,d,c){a=a.getMetrics();k.push(b+a.xMin*l);k.push(b+a.xMax*l);g.push(d+-a.yMin*l);g.push(d+-a.yMax*l)});var n=Math.min.apply(null,k);d=Math.min.apply(null,g);c=Math.max.apply(null,k);n={x:n,y:d,h:Math.max.apply(null,g)-d,w:c-n,advance:n-b};a=this._handleAlignment(f._renderer,a,n.x,n.y,n.w+n.advance);n.x=a.x;n.y=a.y}return n};q.Font.prototype.textToPoints=function(a,d,c,e,h){var k,g=0,l=[],n=this._getGlyphs(a);e=e||this.parent._renderer._textSize;
for(var r=0;r<n.length;r++){if(!(n[k=r].name&&"space"===n[k].name||a.length===n.length&&" "===a[k]||n[k].index&&3===n[k].index)){var t=void 0;for(var u=n[r].getPath(d,c,e).commands,p=[],q=0;q<u.length;q++)"M"===u[q].type&&(t&&p.push(t),t=[]),t.push(f(u[q]));t=(p.push(t),p);for(u=0;u<t.length;u++)for(p=b(t[u],h),q=0;q<p.length;q++)p[q].x+=g,l.push(p[q])}g+=n[r].advanceWidth*this._scale(e)}return l};q.Font.prototype._getGlyphs=function(a){return this.font.stringToGlyphs(a)};q.Font.prototype._getPath=
function(a,b,d,c){var e=(c&&c.renderer&&c.renderer._pInst||this.parent)._renderer;b=this._handleAlignment(e,a,b,d);return this.font.getPath(a,b.x,b.y,e._textSize,c)};q.Font.prototype._getPathData=function(a,b,d,e){var f=3;return"string"==typeof a&&2<arguments.length?a=this._getPath(a,b,d,e):"object"===c(b)&&(e=b),e&&"number"==typeof e.decimals&&(f=e.decimals),a.toPathData(f)};q.Font.prototype._getSVG=function(a,b,d,e){var f=3;return"string"==typeof a&&2<arguments.length?a=this._getPath(a,b,d,e):"object"===
c(b)&&(e=b),e&&("number"==typeof e.decimals&&(f=e.decimals),"number"==typeof e.strokeWidth&&(a.strokeWidth=e.strokeWidth),void 0!==e.fill&&(a.fill=e.fill),void 0!==e.stroke&&(a.stroke=e.stroke)),a.toSVG(f)};q.Font.prototype._renderPath=function(a,b,d,e){var f=e&&e.renderer||this.parent._renderer,h=f.drawingContext;a="object"===c(a)&&a.commands?a.commands:this._getPath(a,b,d,e).commands;h.beginPath();for(b=0;b<a.length;b+=1)d=a[b],"M"===d.type?h.moveTo(d.x,d.y):"L"===d.type?h.lineTo(d.x,d.y):"C"===
d.type?h.bezierCurveTo(d.x1,d.y1,d.x2,d.y2,d.x,d.y):"Q"===d.type?h.quadraticCurveTo(d.x1,d.y1,d.x,d.y):"Z"===d.type&&h.closePath();return f._doStroke&&f._strokeSet&&h.stroke(),f._doFill&&(f._fillSet||f._setFill(v._DEFAULT_TEXT_FILL),h.fill()),this};q.Font.prototype._textWidth=function(a,b){return this.font.getAdvanceWidth(a,b)};q.Font.prototype._textAscent=function(a){return this.font.ascender*this._scale(a)};q.Font.prototype._textDescent=function(a){return-this.font.descender*this._scale(a)};q.Font.prototype._scale=
function(a){return 1/this.font.unitsPerEm*(a||this.parent._renderer._textSize)};q.Font.prototype._handleAlignment=function(a,b,d,c,e){var f=a._textSize;switch(void 0===e&&(e=this._textWidth(b,f)),a._textAlign){case v.CENTER:d-=e/2;break;case v.RIGHT:d-=e}switch(a._textBaseline){case v.TOP:c+=this._textAscent(f);break;case v.CENTER:c+=this._textAscent(f)/2;break;case v.BOTTOM:c-=this._textDescent(f)}return{x:d,y:c}};p.exports=q},{"../core/constants":17,"../core/main":23}],60:[function(g,p,q){g=g("../core/main");
g.prototype.append=function(c,b){return c.push(b),c};g.prototype.arrayCopy=function(c,b,f,a,d){var e,h;c=void 0!==d?(h=Math.min(d,c.length),e=a,c.slice(b,h+b)):(h=void 0!==f?(h=f,Math.min(h,c.length)):c.length,e=0,f=b,c.slice(0,h));Array.prototype.splice.apply(f,[e,h].concat(c))};g.prototype.concat=function(c,b){return c.concat(b)};g.prototype.reverse=function(c){return c.reverse()};g.prototype.shorten=function(c){return c.pop(),c};g.prototype.shuffle=function(c,b){var f=ArrayBuffer&&ArrayBuffer.isView&&
ArrayBuffer.isView(c);for(var a=(c=b||f?c:c.slice()).length;1<a;)b=Math.random()*a|0,f=c[--a],c[a]=c[b],c[b]=f;return c};g.prototype.sort=function(c,b){var f=b?c.slice(0,Math.min(b,c.length)):c;c=b?c.slice(Math.min(b,c.length)):[];return(f="string"==typeof f[0]?f.sort():f.sort(function(a,b){return a-b})).concat(c)};g.prototype.splice=function(c,b,f){return Array.prototype.splice.apply(c,[f,0].concat(b)),c};g.prototype.subset=function(c,b,f){return void 0!==f?c.slice(b,b+f):c.slice(b,c.length)};p.exports=
g},{"../core/main":23}],61:[function(g,p,q){var c=g("../core/main");c.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)};c.prototype.int=function(b,f){return f=f||10,b===1/0||"Infinity"===b?1/0:b===-1/0||"-Infinity"===b?-1/0:"string"==typeof b?parseInt(b,f):"number"==typeof b?0|b:"boolean"==typeof b?b?1:0:b instanceof Array?b.map(function(a){return c.prototype.int(a,f)}):void 0};c.prototype.str=function(b){return b instanceof Array?b.map(c.prototype.str):String(b)};
c.prototype.boolean=function(b){return"number"==typeof b?0!==b:"string"==typeof b?"true"===b.toLowerCase():"boolean"==typeof b?b:b instanceof Array?b.map(c.prototype.boolean):void 0};c.prototype.byte=function(b){b=c.prototype.int(b,10);return"number"==typeof b?(b+128)%256-128:b instanceof Array?b.map(c.prototype.byte):void 0};c.prototype.char=function(b){return"number"!=typeof b||isNaN(b)?b instanceof Array?b.map(c.prototype.char):"string"==typeof b?c.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)};
c.prototype.unchar=function(b){return"string"==typeof b&&1===b.length?b.charCodeAt(0):b instanceof Array?b.map(c.prototype.unchar):void 0};c.prototype.hex=function(b,f){if(f=null==f?f=8:f,b instanceof Array)return b.map(function(a){return c.prototype.hex(a,f)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(f);if("number"==typeof b){0>b&&(b=4294967295+b+1);for(b=Number(b).toString(16).toUpperCase();b.length<f;)b="0"+b;return b.length>=f&&(b=b.substring(b.length-f,b.length)),b}};c.prototype.unhex=
function(b){return b instanceof Array?b.map(c.prototype.unhex):parseInt("0x"+b,16)};p.exports=c},{"../core/main":23}],62:[function(g,p,q){function c(a,b,d){var c=0>a,e=c?a.toString().substring(1):a.toString(),f=e.indexOf(".");a=-1!==f?e.substring(0,f):e;var h=-1!==f?e.substring(f+1):"";c=c?"-":"";if(void 0!==d){e="";(-1!==f||0<d-h.length)&&(e=".");h.length>d&&(h=h.substring(0,d));for(f=0;f<b-a.length;f++)c+="0";c=c+a+e;c+=h;for(b=0;b<d-h.length;b++)c+="0";return c}for(d=0;d<Math.max(b-a.length,0);d++)c+=
"0";return c+e}function b(a,b){var d=(a=a.toString()).indexOf("."),c=-1!==d?a.substring(d):"";a=-1!==d?a.substring(0,d):a;if(a=a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===b)c="";else if(void 0!==b)if(b>c.length)for(b=b-(c+=-1===d?".":"").length+1,d=0;d<b;d++)c+="0";else c=c.substring(0,b+1);return a+c}function f(a){return 0<parseFloat(a)?"+"+a.toString():a.toString()}function a(a){return 0<=parseFloat(a)?" "+a.toString():a.toString()}var d=g("../core/main");g("../core/error_helpers");d.prototype.join=
function(a,b){return d._validateParameters("join",arguments),a.join(b)};d.prototype.match=function(a,b){return d._validateParameters("match",arguments),a.match(b)};d.prototype.matchAll=function(a,b){d._validateParameters("matchAll",arguments);for(var c=new RegExp(b,"g"),e=c.exec(a),f=[];null!==e;)f.push(e),e=c.exec(a);return f};d.prototype.nf=function(a,b,f){return d._validateParameters("nf",arguments),a instanceof Array?a.map(function(a){return c(a,b,f)}):"[object Arguments]"===Object.prototype.toString.call(a)?
3===a.length?this.nf(a[0],a[1],a[2]):2===a.length?this.nf(a[0],a[1]):this.nf(a[0]):c(a,b,f)};d.prototype.nfc=function(a,c){return d._validateParameters("nfc",arguments),a instanceof Array?a.map(function(a){return b(a,c)}):b(a,c)};d.prototype.nfp=function(){d._validateParameters("nfp",arguments);var a=d.prototype.nf.apply(this,arguments);return a instanceof Array?a.map(f):f(a)};d.prototype.nfs=function(){d._validateParameters("nfs",arguments);var b=d.prototype.nf.apply(this,arguments);return b instanceof
Array?b.map(a):a(b)};d.prototype.split=function(a,b){return d._validateParameters("split",arguments),a.split(b)};d.prototype.splitTokens=function(a,b){if(d._validateParameters("splitTokens",arguments),void 0!==b){var c=b;var e=/\]/g.exec(c);var f=/\[/g.exec(c);e=f&&e?(c=c.slice(0,e.index)+c.slice(e.index+1),f=/\[/g.exec(c),c=c.slice(0,f.index)+c.slice(f.index+1),new RegExp("[\\["+c+"\\]]","g")):e?(c=c.slice(0,e.index)+c.slice(e.index+1),new RegExp("["+c+"\\]]","g")):f?(c=c.slice(0,f.index)+c.slice(f.index+
1),new RegExp("["+c+"\\[]","g")):new RegExp("["+c+"]","g")}else e=/\s/g;return a.split(e).filter(function(a){return a})};d.prototype.trim=function(a){return d._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};p.exports=d},{"../core/error_helpers":19,"../core/main":23}],63:[function(g,p,q){g=g("../core/main");g.prototype.day=function(){return(new Date).getDate()};g.prototype.hour=function(){return(new Date).getHours()};g.prototype.minute=function(){return(new Date).getMinutes()};
g.prototype.millis=function(){return window.performance.now()};g.prototype.month=function(){return(new Date).getMonth()+1};g.prototype.second=function(){return(new Date).getSeconds()};g.prototype.year=function(){return(new Date).getFullYear()};p.exports=g},{"../core/main":23}],64:[function(g,p,q){var c=g("../core/main");g("./p5.Geometry");var b=g("../core/constants");c.prototype.plane=function(a,b,e,f){this._assert3d("plane");c._validateParameters("plane",arguments);void 0===a&&(a=50);void 0===b&&
(b=a);void 0===e&&(e=1);void 0===f&&(f=1);var d="plane|"+e+"|"+f;if(!this._renderer.geometryInHash(d)){var h=new c.Geometry(e,f,function(){for(var a,b,d,e=0;e<=this.detailY;e++){b=e/this.detailY;for(var f=0;f<=this.detailX;f++)a=f/this.detailX,d=new c.Vector(a-.5,b-.5,0),this.vertices.push(d),this.uvs.push(a,b)}});h.computeFaces().computeNormals();1>=e&&1>=f?h._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY");this._renderer.createBuffers(d,
h)}return this._renderer.drawBuffersScaled(d,a,b,1),this};c.prototype.box=function(a,b,e,f,g){this._assert3d("box");c._validateParameters("box",arguments);void 0===a&&(a=50);void 0===b&&(b=a);void 0===e&&(e=b);var d=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===f&&(f=d?1:4);void 0===g&&(g=d?1:4);d="box|"+f+"|"+g;if(!this._renderer.geometryInHash(d)){var h=new c.Geometry(f,g,function(){var a=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=
[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var b=0;b<a.length;b++){for(var d=a[b],e=4*b,f=0;4>f;f++){var h=d[f];h=new c.Vector((2*(1&h)-1)/2,((2&h)-1)/2,((4&h)/2-1)/2);this.vertices.push(h);this.uvs.push(1&f,(2&f)/2)}this.faces.push([e,e+1,e+2]);this.faces.push([e+2,e+1,e+3])}});h.computeNormals();4>=f&&4>=g?h._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY");this._renderer.createBuffers(d,
h)}return this._renderer.drawBuffersScaled(d,a,b,e),this};c.prototype.sphere=function(a,b,e){return this._assert3d("sphere"),c._validateParameters("sphere",arguments),void 0===a&&(a=50),void 0===b&&(b=24),void 0===e&&(e=16),this.ellipsoid(a,a,a,b,e),this};var f=function(a,b,e,f,g,k,n){a=0>=a?1:a;b=0>b?0:b;e=0>=e?a:e;f=3>f?3:f;var d=(k=void 0===k||k)?-2:0;var h=(g=1>g?1:g)+((n=void 0===n?0!==b:n)?2:0);var l=Math.atan2(a-b,e);for(var p=Math.sin(l),u=Math.cos(l);d<=h;++d){var q=d/g,C=e*q;var G=0>d?(q=
C=0,a):g<d?(C=e,q=1,b):a+(b-a)*q;-2!==d&&d!==g+2||(G=0);C-=e/2;for(l=0;l<f;++l){var D=l/f,A=2*Math.PI*D;var E=Math.sin(A);A=Math.cos(A);this.vertices.push(new c.Vector(E*G,C,A*G));E=0>d?new c.Vector(0,-1,0):g<d&&b?new c.Vector(0,1,0):new c.Vector(E*u,p,A*u);this.vertexNormals.push(E);this.uvs.push(D,q)}}a=0;if(k){for(k=0;k<f;++k)this.faces.push([a+k,a+f+(k+1)%f,a+f+k]);a+=2*f}for(d=0;d<g;++d){for(l=0;l<f;++l)k=(l+1)%f,this.faces.push([a+l,a+k,a+f+k]),this.faces.push([a+l,a+f+k,a+f+l]);a+=f}if(n)for(a+=
f,l=0;l<f;++l)this.faces.push([a+l,a+(l+1)%f,a+f])};c.prototype.cylinder=function(a,b,e,h,g,k){this._assert3d("cylinder");c._validateParameters("cylinder",arguments);void 0===a&&(a=50);void 0===b&&(b=a);void 0===e&&(e=24);void 0===h&&(h=1);void 0===k&&(k=!0);void 0===g&&(g=!0);var d="cylinder|"+e+"|"+h+"|"+g+"|"+k;if(!this._renderer.geometryInHash(d)){var l=new c.Geometry(e,h);f.call(l,1,1,1,e,h,g,k);24>=e&&16>=h?l._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY");
this._renderer.createBuffers(d,l)}return this._renderer.drawBuffersScaled(d,a,b,a),this};c.prototype.cone=function(a,b,e,h,g){this._assert3d("cone");c._validateParameters("cone",arguments);void 0===a&&(a=50);void 0===b&&(b=a);void 0===e&&(e=24);void 0===h&&(h=1);void 0===g&&(g=!0);var d="cone|"+e+"|"+h+"|"+g;if(!this._renderer.geometryInHash(d)){var l=new c.Geometry(e,h);f.call(l,1,0,1,e,h,g,!1);24>=e&&16>=h?l._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY");
this._renderer.createBuffers(d,l)}return this._renderer.drawBuffersScaled(d,a,b,a),this};c.prototype.ellipsoid=function(a,b,e,f,g){this._assert3d("ellipsoid");c._validateParameters("ellipsoid",arguments);void 0===a&&(a=50);void 0===b&&(b=a);void 0===e&&(e=a);void 0===f&&(f=24);void 0===g&&(g=16);var d="ellipsoid|"+f+"|"+g;if(!this._renderer.geometryInHash(d)){var h=new c.Geometry(f,g,function(){for(var a=0;a<=this.detailY;a++){var b=a/this.detailY,d=Math.PI*b-Math.PI/2,e=Math.cos(d);d=Math.sin(d);
for(var f=0;f<=this.detailX;f++){var h=f/this.detailX,k=2*Math.PI*h;k=new c.Vector(e*Math.sin(k),d,e*Math.cos(k));this.vertices.push(k);this.vertexNormals.push(k);this.uvs.push(h,b)}}});h.computeFaces();24>=f&&24>=g?h._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY");this._renderer.createBuffers(d,h)}return this._renderer.drawBuffersScaled(d,a,b,e),this};c.prototype.torus=function(a,b,e,f){if(this._assert3d("torus"),c._validateParameters("torus",
arguments),void 0===a)a=50;else if(!a)return;if(void 0===b)b=10;else if(!b)return;void 0===e&&(e=24);void 0===f&&(f=16);var d=(b/a).toPrecision(4),h="torus|"+d+"|"+e+"|"+f;if(!this._renderer.geometryInHash(h)){var g=new c.Geometry(e,f,function(){for(var a=0;a<=this.detailY;a++){var b=a/this.detailY,e=2*Math.PI*b,f=Math.cos(e);e=Math.sin(e);for(var h=1+d*f,k=0;k<=this.detailX;k++){var g=k/this.detailX,l=2*Math.PI*g,n=Math.cos(l),p=Math.sin(l);l=new c.Vector(h*n,h*p,d*e);n=new c.Vector(f*n,f*p,e);this.vertices.push(l);
this.vertexNormals.push(n);this.uvs.push(g,b)}}});g.computeFaces();24>=e&&16>=f?g._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY");this._renderer.createBuffers(h,g)}return this._renderer.drawBuffersScaled(h,a,a,a),this};c.RendererGL.prototype.point=function(a,b,e){void 0===e&&(e=0);var d=[];return d.push(new c.Vector(a,b,e)),this._drawPoints(d,this._pointVertexBuffer),this};c.RendererGL.prototype.triangle=function(a){var b=
a[0],e=a[1],f=a[2],g=a[3],k=a[4];a=a[5];if(!this.geometryInHash("tri")){var n=new c.Geometry(1,1,function(){var a=[];a.push(new c.Vector(0,0,0));a.push(new c.Vector(0,1,0));a.push(new c.Vector(1,0,0));this.strokeIndices=[[0,1],[1,2],[2,0]];this.vertices=a;this.faces=[[0,1,2]];this.uvs=[0,0,0,1,1,1]});n._makeTriangleEdges()._edgesToVertices();n.computeNormals();this.createBuffers("tri",n)}n=this.uMVMatrix.copy();try{this.uMVMatrix=(new c.Matrix([f-b,g-e,0,0,k-b,a-e,0,0,0,0,1,0,b,e,0,1])).mult(this.uMVMatrix),
this.drawBuffers("tri")}finally{this.uMVMatrix=n}return this};c.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,b.TWO_PI,b.OPEN,a[4])};c.RendererGL.prototype.arc=function(a,d,e,f,g,k,n,t){var h,l,p=t||25;(l=Math.abs(k-g)>=b.TWO_PI?(h="ellipse")+"|"+p+"|":(h="arc")+"|"+g+"|"+k+"|"+n+"|"+p+"|",this.geometryInHash(l))||(t=new c.Geometry(p,1,function(){if(this.strokeIndices=[],g.toFixed(10)!==k.toFixed(10)){n!==b.PIE&&void 0!==n||(this.vertices.push(new c.Vector(.5,.5,0)),this.uvs.push([.5,
.5]));for(var a=0;a<=p;a++){var d=a/p*(k-g)+g,e=.5+Math.cos(d)/2;d=.5+Math.sin(d)/2;this.vertices.push(new c.Vector(e,d,0));this.uvs.push([e,d]);a<p-1&&(this.faces.push([0,a+1,a+2]),this.strokeIndices.push([a+1,a+2]))}switch(n){case b.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]);this.strokeIndices.push([0,1]);this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]);this.strokeIndices.push([0,this.vertices.length-1]);break;case b.CHORD:this.strokeIndices.push([0,
1]);this.strokeIndices.push([0,this.vertices.length-1]);break;case b.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}}),t.computeNormals(),50>=p?t._makeTriangleEdges()._edgesToVertices(t):console.log("Cannot stroke "+h+" with more than 50 detail"),this.createBuffers(l,t));h=this.uMVMatrix.copy();try{this.uMVMatrix.translate([a,d,0]),this.uMVMatrix.scale(e,
f,1),this.drawBuffers(l)}finally{this.uMVMatrix=h}return this};c.RendererGL.prototype.rect=function(a){var b=this._pInst._glAttributes.perPixelLighting,e=a[0],f=a[1],g=a[2],k=a[3],n=a[4]||(b?1:24),t=a[5]||(b?1:16);a="rect|"+n+"|"+t;this.geometryInHash(a)||(b=new c.Geometry(n,t,function(){for(var a=0;a<=this.detailY;a++)for(var b=a/this.detailY,d=0;d<=this.detailX;d++){var e=d/this.detailX,f=new c.Vector(e,b,0);this.vertices.push(f);this.uvs.push(e,b)}0<n&&0<t&&(this.strokeIndices=[[0,n],[n,(n+1)*
(t+1)-1],[(n+1)*(t+1)-1,(n+1)*t],[(n+1)*t,0]])}),b.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(a,b));b=this.uMVMatrix.copy();try{this.uMVMatrix.translate([e,f,0]),this.uMVMatrix.scale(g,k,1),this.drawBuffers(a)}finally{this.uMVMatrix=b}return this};c.RendererGL.prototype.quad=function(a,b,e,f,g,k,n,t,r,p,q,u){var d="quad|"+a+"|"+b+"|"+e+"|"+f+"|"+g+"|"+k+"|"+n+"|"+t+"|"+r+"|"+p+"|"+q+"|"+u;if(!this.geometryInHash(d)){var h=new c.Geometry(2,2,function(){this.vertices.push(new c.Vector(a,
b,e));this.vertices.push(new c.Vector(f,g,k));this.vertices.push(new c.Vector(n,t,r));this.vertices.push(new c.Vector(p,q,u));this.uvs.push(0,0,1,0,1,1,0,1);this.strokeIndices=[[0,1],[1,2],[2,3],[3,0]]});h.computeNormals()._makeTriangleEdges()._edgesToVertices();h.faces=[[0,1,2],[2,3,0]];this.createBuffers(d,h)}return this.drawBuffers(d),this};c.RendererGL.prototype.bezier=function(a,b,c,f,g,k,n,t,r,p,q,u){8===arguments.length&&(q=t,p=n,t=k,n=g,g=f,f=c,c=k=r=u=0);var d=this._pInst._bezierDetail||
20;this.beginShape();for(var e=0;e<=d;e++){var h=Math.pow(1-e/d,3),l=e/d*3*Math.pow(1-e/d,2),v=3*Math.pow(e/d,2)*(1-e/d),z=Math.pow(e/d,3);this.vertex(a*h+f*l+n*v+p*z,b*h+g*l+t*v+q*z,c*h+k*l+r*v+u*z)}return this.endShape(),this};c.RendererGL.prototype.curve=function(a,b,c,f,g,k,n,t,r,p,q,u){8===arguments.length&&(p=n,q=t,n=g,t=f,g=f=c,c=k=r=u=0);var d=this._pInst._curveDetail;this.beginShape();for(var e=0;e<=d;e++){var h=.5*Math.pow(e/d,3),l=.5*Math.pow(e/d,2),v=e/d*.5;this.vertex(h*(3*f-a-3*n+p)+
l*(2*a-5*f+4*n-p)+v*(-a+n)+1*f,h*(3*g-b-3*t+q)+l*(2*b-5*g+4*t-q)+v*(-b+t)+1*g,h*(3*k-c-3*r+u)+l*(2*c-5*k+4*r-u)+v*(-c+r)+1*k)}return this.endShape(),this};c.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(),this.vertex(arguments[0],arguments[1],arguments[2]),this.vertex(arguments[3],arguments[4],arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(),this.vertex(arguments[0],arguments[1],0),this.vertex(arguments[2],arguments[3],0),this.endShape()),
this};c.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var a,b;var c=arguments.length;if((a=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[];this._lutBezierDetail=this._pInst._curveDetail;var f=1/this._lutBezierDetail;var g=0;var k=1;for(b=0;1>g;){if(a=parseFloat(g.toFixed(6)),this._lookUpTableBezier[b]=this._bezierCoefficients(a),
k.toFixed(6)===f.toFixed(6)){a=parseFloat(k.toFixed(6))+parseFloat(g.toFixed(6));++b;this._lookUpTableBezier[b]=this._bezierCoefficients(a);break}g+=f;k-=f;++b}}a=this._lookUpTableBezier.length;if(6===c){this.isBezier=!0;b=[this.immediateMode._bezierVertex[0],arguments[0],arguments[2],arguments[4]];var n=[this.immediateMode._bezierVertex[1],arguments[1],arguments[3],arguments[5]];for(k=0;k<a;k++)c=b[0]*this._lookUpTableBezier[k][0]+b[1]*this._lookUpTableBezier[k][1]+b[2]*this._lookUpTableBezier[k][2]+
b[3]*this._lookUpTableBezier[k][3],f=n[0]*this._lookUpTableBezier[k][0]+n[1]*this._lookUpTableBezier[k][1]+n[2]*this._lookUpTableBezier[k][2]+n[3]*this._lookUpTableBezier[k][3],this.vertex(c,f);this.immediateMode._bezierVertex[0]=arguments[4];this.immediateMode._bezierVertex[1]=arguments[5]}else if(9===c){this.isBezier=!0;b=[this.immediateMode._bezierVertex[0],arguments[0],arguments[3],arguments[6]];n=[this.immediateMode._bezierVertex[1],arguments[1],arguments[4],arguments[7]];var t=[this.immediateMode._bezierVertex[2],
arguments[2],arguments[5],arguments[8]];for(k=0;k<a;k++)c=b[0]*this._lookUpTableBezier[k][0]+b[1]*this._lookUpTableBezier[k][1]+b[2]*this._lookUpTableBezier[k][2]+b[3]*this._lookUpTableBezier[k][3],f=n[0]*this._lookUpTableBezier[k][0]+n[1]*this._lookUpTableBezier[k][1]+n[2]*this._lookUpTableBezier[k][2]+n[3]*this._lookUpTableBezier[k][3],g=t[0]*this._lookUpTableBezier[k][0]+t[1]*this._lookUpTableBezier[k][1]+t[2]*this._lookUpTableBezier[k][2]+t[3]*this._lookUpTableBezier[k][3],this.vertex(c,f,g);
this.immediateMode._bezierVertex[0]=arguments[6];this.immediateMode._bezierVertex[1]=arguments[7];this.immediateMode._bezierVertex[2]=arguments[8]}};c.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var a,b;var c=arguments.length;if((a=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[];this._lutQuadraticDetail=
this._pInst._curveDetail;var f=1/this._lutQuadraticDetail;var g=0;var k=1;for(b=0;1>g;){if(a=parseFloat(g.toFixed(6)),this._lookUpTableQuadratic[b]=this._quadraticCoefficients(a),k.toFixed(6)===f.toFixed(6)){a=parseFloat(k.toFixed(6))+parseFloat(g.toFixed(6));++b;this._lookUpTableQuadratic[b]=this._quadraticCoefficients(a);break}g+=f;k-=f;++b}}a=this._lookUpTableQuadratic.length;if(4===c){this.isQuadratic=!0;b=[this.immediateMode._quadraticVertex[0],arguments[0],arguments[2]];var n=[this.immediateMode._quadraticVertex[1],
arguments[1],arguments[3]];for(k=0;k<a;k++)c=b[0]*this._lookUpTableQuadratic[k][0]+b[1]*this._lookUpTableQuadratic[k][1]+b[2]*this._lookUpTableQuadratic[k][2],f=n[0]*this._lookUpTableQuadratic[k][0]+n[1]*this._lookUpTableQuadratic[k][1]+n[2]*this._lookUpTableQuadratic[k][2],this.vertex(c,f);this.immediateMode._quadraticVertex[0]=arguments[2];this.immediateMode._quadraticVertex[1]=arguments[3]}else if(6===c){this.isQuadratic=!0;b=[this.immediateMode._quadraticVertex[0],arguments[0],arguments[3]];n=
[this.immediateMode._quadraticVertex[1],arguments[1],arguments[4]];var t=[this.immediateMode._quadraticVertex[2],arguments[2],arguments[5]];for(k=0;k<a;k++)c=b[0]*this._lookUpTableQuadratic[k][0]+b[1]*this._lookUpTableQuadratic[k][1]+b[2]*this._lookUpTableQuadratic[k][2],f=n[0]*this._lookUpTableQuadratic[k][0]+n[1]*this._lookUpTableQuadratic[k][1]+n[2]*this._lookUpTableQuadratic[k][2],g=t[0]*this._lookUpTableQuadratic[k][0]+t[1]*this._lookUpTableQuadratic[k][1]+t[2]*this._lookUpTableQuadratic[k][2],
this.vertex(c,f,g);this.immediateMode._quadraticVertex[0]=arguments[3];this.immediateMode._quadraticVertex[1]=arguments[4];this.immediateMode._quadraticVertex[2]=arguments[5]}};c.RendererGL.prototype.curveVertex=function(){var a;var b=0;var c=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[];this._lutBezierDetail=this._pInst._curveDetail;var f=1/this._lutBezierDetail;var g=0;var k=1;for(a=0;1>g;){if(b=parseFloat(g.toFixed(6)),
this._lookUpTableBezier[a]=this._bezierCoefficients(b),k.toFixed(6)===f.toFixed(6)){b=parseFloat(k.toFixed(6))+parseFloat(g.toFixed(6));++a;this._lookUpTableBezier[a]=this._bezierCoefficients(b);break}g+=f;k-=f;++a}}var n=this._lookUpTableBezier.length;if(2===c){if(this.immediateMode._curveVertex.push(arguments[0]),this.immediateMode._curveVertex.push(arguments[1]),8===this.immediateMode._curveVertex.length){this.isCurve=!0;a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],
this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]);var t=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]);for(k=0;k<n;k++)b=a[0]*this._lookUpTableBezier[k][0]+a[1]*this._lookUpTableBezier[k][1]+a[2]*this._lookUpTableBezier[k][2]+a[3]*this._lookUpTableBezier[k][3],f=t[0]*this._lookUpTableBezier[k][0]+t[1]*this._lookUpTableBezier[k][1]+t[2]*this._lookUpTableBezier[k][2]+
t[3]*this._lookUpTableBezier[k][3],this.vertex(b,f);for(k=0;k<c;k++)this.immediateMode._curveVertex.shift()}}else if(3===c&&(this.immediateMode._curveVertex.push(arguments[0]),this.immediateMode._curveVertex.push(arguments[1]),this.immediateMode._curveVertex.push(arguments[2]),12===this.immediateMode._curveVertex.length)){this.isCurve=!0;a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]);
t=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]);var r=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]);for(k=0;k<n;k++)b=a[0]*this._lookUpTableBezier[k][0]+a[1]*this._lookUpTableBezier[k][1]+a[2]*this._lookUpTableBezier[k][2]+a[3]*this._lookUpTableBezier[k][3],f=t[0]*
this._lookUpTableBezier[k][0]+t[1]*this._lookUpTableBezier[k][1]+t[2]*this._lookUpTableBezier[k][2]+t[3]*this._lookUpTableBezier[k][3],g=r[0]*this._lookUpTableBezier[k][0]+r[1]*this._lookUpTableBezier[k][1]+r[2]*this._lookUpTableBezier[k][2]+r[3]*this._lookUpTableBezier[k][3],this.vertex(b,f,g);for(k=0;k<c;k++)this.immediateMode._curveVertex.shift()}};c.RendererGL.prototype.image=function(a,d,c,f,g,k,n,t,r){this._pInst.push();this._pInst.texture(a);this._pInst.textureMode(b.NORMAL);var e=0;d<=a.width&&
(e=d/a.width);var h=1;d+f<=a.width&&(h=(d+f)/a.width);d=0;c<=a.height&&(d=c/a.height);f=1;c+g<=a.height&&(f=(c+g)/a.height);this.beginShape();this.vertex(k,n,0,e,d);this.vertex(k+t,n,0,h,d);this.vertex(k+t,n+r,0,h,f);this.vertex(k,n+r,0,e,f);this.endShape(b.CLOSE);this._pInst.pop()};p.exports=c},{"../core/constants":17,"../core/main":23,"./p5.Geometry":70}],65:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants");c.prototype.orbitControl=function(b,a){if(this._assert3d("orbitControl"),
c._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var d=this._renderer._curCamera;void 0===b&&(b=1);void 0===a&&(a=b);!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0));!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var e=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==
this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,.5*e):this._renderer._curCamera._orbit(0,0,-.5*e)),this.mouseIsPressed)if(this.mouseButton===this.LEFT)this._renderer._curCamera._orbit(-b*(this.mouseX-this.pmouseX)/e,a*(this.mouseY-this.pmouseY)/e,0);else if(this.mouseButton===this.RIGHT){e=d._getLocalAxes();var f=Math.sqrt(e.x[0]*e.x[0]+e.x[2]*e.x[2]);0!==f&&(e.x[0]/=f,e.x[2]/=f);f=Math.sqrt(e.y[0]*e.y[0]+e.y[2]*e.y[2]);0!==f&&(e.y[0]/=f,e.y[2]/=f);f=-1*b*(this.mouseX-
this.pmouseX);var g=-1*a*(this.mouseY-this.pmouseY);d.setPosition(d.eyeX+f*e.x[0]+g*e.z[0],d.eyeY,d.eyeZ+f*e.x[2]+g*e.z[2])}return this}};c.prototype.debugMode=function(){this._assert3d("debugMode");c._validateParameters("debugMode",arguments);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);arguments[0]===
b.GRID?this.registerMethod("post",this._grid.call(this,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])):arguments[0]===b.AXES?this.registerMethod("post",this._axesIcon.call(this,arguments[1],arguments[2],arguments[3],arguments[4])):(this.registerMethod("post",this._grid.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])),this.registerMethod("post",this._axesIcon.call(this,arguments[5],arguments[6],arguments[7],arguments[8])))};c.prototype.noDebugMode=function(){this._assert3d("noDebugMode");
for(var b=this._registeredMethods.post.length-1;0<=b;b--)this._registeredMethods.post[b].toString()!==this._grid().toString()&&this._registeredMethods.post[b].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(b,1)};c.prototype._grid=function(b,a,d,c,h){void 0===b&&(b=this.width/2);void 0===a&&(a=4>Math.round(b/30)?4:Math.round(b/30));void 0===d&&(d=0);void 0===c&&(c=0);void 0===h&&(h=0);var e=b/a,f=b/2;return function(){this.push();this.stroke(255*this._renderer.curStrokeColor[0],
255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]);this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],
this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var b=0;b<=a;b++)this.beginShape(this.LINES),this.vertex(-f+d,c,b*e-f+h),this.vertex(+f+d,c,b*e-f+h),this.endShape();for(b=0;b<=a;b++)this.beginShape(this.LINES),
this.vertex(b*e-f+d,c,-f+h),this.vertex(b*e-f+d,c,+f+h),this.endShape();this.pop()}};c.prototype._axesIcon=function(b,a,d,c){return void 0===b&&(b=40<this.width/20?this.width/20:40),void 0===a&&(a=-this.width/4),void 0===d&&(d=a),void 0===c&&(c=a),function(){this.push();this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],
this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);
this.strokeWeight(2);this.stroke(255,0,0);this.beginShape(this.LINES);this.vertex(a,d,c);this.vertex(a+b,d,c);this.endShape();this.stroke(0,255,0);this.beginShape(this.LINES);this.vertex(a,d,c);this.vertex(a,d+b,c);this.endShape();this.stroke(0,0,255);this.beginShape(this.LINES);this.vertex(a,d,c);this.vertex(a,d,c+b);this.endShape();this.pop()}};p.exports=c},{"../core/constants":17,"../core/main":23}],66:[function(g,p,q){var c=g("../core/main");c.prototype.ambientLight=function(b,f,a,d){this._assert3d("ambientLight");
c._validateParameters("ambientLight",arguments);var e=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(e._array[0],e._array[1],e._array[2]),this._renderer._enableLighting=!0,this};c.prototype.directionalLight=function(b,f,a,d,e,h){var g,k;this._assert3d("directionalLight");c._validateParameters("directionalLight",arguments);var n=b instanceof c.Color?b:this.color(b,f,a);var t=arguments[arguments.length-1];t="number"==typeof t?(g=arguments[arguments.length-3],k=arguments[arguments.length-
2],arguments[arguments.length-1]):(g=t.x,k=t.y,t.z);var r=Math.sqrt(g*g+k*k+t*t);return this._renderer.directionalLightDirections.push(g/r,k/r,t/r),this._renderer.directionalLightColors.push(n._array[0],n._array[1],n._array[2]),this._renderer._enableLighting=!0,this};c.prototype.pointLight=function(b,f,a,d,e,h){var g,k,n;this._assert3d("pointLight");c._validateParameters("pointLight",arguments);var t=b instanceof c.Color?b:this.color(b,f,a);var r=arguments[arguments.length-1];return n="number"==typeof r?
(g=arguments[arguments.length-3],k=arguments[arguments.length-2],arguments[arguments.length-1]):(g=r.x,k=r.y,r.z),this._renderer.pointLightPositions.push(g,k,n),this._renderer.pointLightColors.push(t._array[0],t._array[1],t._array[2]),this._renderer._enableLighting=!0,this};c.prototype.lights=function(){return this._assert3d("lights"),this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1),this};c.prototype.lightFalloff=function(b,f,a){return this._assert3d("lightFalloff"),c._validateParameters("lightFalloff",
arguments),0>b&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),0>f&&(f=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),0>a&&(a=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===b&&0===f&&0===a&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=
b,this._renderer.linearAttenuation=f,this._renderer.quadraticAttenuation=a,this};p.exports=c},{"../core/main":23}],67:[function(g,p,q){var c=g("../core/main");g("./p5.Geometry");c.prototype.loadModel=function(b){var f,a;c._validateParameters("loadModel",arguments);var d="boolean"==typeof arguments[1]?(f=arguments[1],a=arguments[2],arguments[3]):(f=!1,a=arguments[1],arguments[2]);var e=b.slice(-4),h=new c.Geometry;h.gid=b+"|"+f;var g=this;return".stl"===e?this.httpDo(b,"GET","arrayBuffer",function(b){!function(a,
b){if(function(a){a=new DataView(a);for(var b=[115,111,108,105,100],d=0;5>d;d++){a:{var c=b;for(var e=a,f=d,h=0,g=c.length;h<g;h++)if(c[h]!==e.getUint8(f+h,!1)){c=!1;break a}c=!0}if(c)return!1}return!0}(b))!function(a,b){var d,e,f,h,g,k;b=new DataView(b);for(var l=b.getUint32(80,!0),n=!1,r=0;70>r;r++)1129270351===b.getUint32(r,!1)&&82===b.getUint8(r+4)&&61===b.getUint8(r+5)&&(n=!0,f=[],h=b.getUint8(r+6)/255,g=b.getUint8(r+7)/255,k=b.getUint8(r+8)/255);for(r=0;r<l;r++){var p=84+50*r,t=b.getFloat32(p,
!0),q=b.getFloat32(p+4,!0),z=b.getFloat32(p+8,!0);if(n){var Q=b.getUint16(p+48,!0);Q=0==(32768&Q)?(d=(31&Q)/31,e=(Q>>5&31)/31,(Q>>10&31)/31):(d=h,e=g,k)}for(var x=1;3>=x;x++){var W=p+12*x;W=new c.Vector(b.getFloat32(W,!0),b.getFloat32(W+8,!0),b.getFloat32(W+4,!0));a.vertices.push(W);n&&f.push(d,e,Q)}p=new c.Vector(t,q,z);a.vertexNormals.push(p,p,p);a.faces.push([3*r,3*r+1,3*r+2])}}(a,b);else{b=new DataView(b);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");
b=(new TextDecoder("utf-8")).decode(b).split("\n");!function(a,b){var d="";for(var e=[],f=0;f<b.length;++f){var h=b[f].trim();for(var g=h.split(" "),k=0;k<g.length;++k)""===g[k]&&g.splice(k,1);if(0!==g.length)switch(d){case "":if("solid"!==g[0])return console.error(h),console.error('Invalid state "'+g[0]+'", should be "solid"');d="solid";break;case "solid":if("facet"!==g[0]||"normal"!==g[1])return console.error(h),console.error('Invalid state "'+g[0]+'", should be "facet normal"');d=new c.Vector(parseFloat(g[2]),
parseFloat(g[3]),parseFloat(g[4]));a.vertexNormals.push(d,d,d);d="facet normal";break;case "facet normal":if("outer"!==g[0]||"loop"!==g[1])return console.error(h),console.error('Invalid state "'+g[0]+'", should be "outer loop"');d="vertex";break;case "vertex":if("vertex"===g[0])h=new c.Vector(parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3])),a.vertices.push(h),e.push(a.vertices.indexOf(h));else{if("endloop"!==g[0])return console.error(h),console.error('Invalid state "'+g[0]+'", should be "vertex" or "endloop"');
a.faces.push(e);e=[];d="endloop"}break;case "endloop":if("endfacet"!==g[0])return console.error(h),console.error('Invalid state "'+g[0]+'", should be "endfacet"');d="endfacet";break;case "endfacet":if("endsolid"!==g[0]){if("facet"!==g[0]||"normal"!==g[1])return console.error(h),console.error('Invalid state "'+g[0]+'", should be "endsolid" or "facet normal"');d=new c.Vector(parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4]));a.vertexNormals.push(d,d,d);d="facet normal"}break;default:console.error('Invalid state "'+
d+'"')}}}(a,b)}}(h,b);f&&h.normalize();g._decrementPreload();"function"==typeof a&&a(h)}.bind(this),d):".obj"===e?this.loadStrings(b,function(b){for(var d={v:[],vt:[],vn:[]},e={},k=0;k<b.length;++k){var l=b[k].trim().split(/\b\s+/);if(0<l.length)if("v"===l[0]||"vn"===l[0]){var p=new c.Vector(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]));d[l[0]].push(p)}else if("vt"===l[0])p=[parseFloat(l[1]),parseFloat(l[2])],d[l[0]].push(p);else if("f"===l[0])for(p=3;p<l.length;++p){for(var q=[],w=[1,p-1,p],
C=0;C<w.length;++C){var G=l[w[C]];if(void 0!==e[G])G=e[G];else{for(var D=G.split("/"),A=0;A<D.length;A++)D[A]=parseInt(D[A])-1;G=e[G]=h.vertices.length;h.vertices.push(d.v[D[0]].copy());d.vt[D[1]]?h.uvs.push(d.vt[D[1]].slice()):h.uvs.push([0,0]);d.vn[D[2]]&&h.vertexNormals.push(d.vn[D[2]].copy())}q.push(G)}q[0]!==q[1]&&q[0]!==q[2]&&q[1]!==q[2]&&h.faces.push(q)}}0===h.vertexNormals.length&&h.computeNormals();!0;f&&h.normalize();g._decrementPreload();"function"==typeof a&&a(h)}.bind(this),d):(c._friendlyFileLoadError(3,
b),d?d():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),h};c.prototype.model=function(b){this._assert3d("model");c._validateParameters("model",arguments);0<b.vertices.length&&(this._renderer.geometryInHash(b.gid)||(b._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(b.gid,b)),this._renderer.drawBuffers(b.gid))};p.exports=c},{"../core/main":23,"./p5.Geometry":70}],68:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants");g("./p5.Texture");
c.prototype.loadShader=function(b,a,d,e){c._validateParameters("loadShader",arguments);e||(e=console.error);var f=new c.Shader,g=this,k=!1,n=!1;return this.loadStrings(b,function(a){f._vertSrc=a.join("\n");n=!0;k&&(g._decrementPreload(),d&&d(f))},e),this.loadStrings(a,function(a){f._fragSrc=a.join("\n");k=!0;n&&(g._decrementPreload(),d&&d(f))},e),f};c.prototype.createShader=function(b,a){return this._assert3d("createShader"),c._validateParameters("createShader",arguments),new c.Shader(this._renderer,
b,a)};c.prototype.shader=function(b){return this._assert3d("shader"),c._validateParameters("shader",arguments),void 0===b._renderer&&(b._renderer=this._renderer),b.isStrokeShader()?this._renderer.userStrokeShader=b:(this._renderer.userFillShader=b,this._renderer._useNormalMaterial=!1),b.init(),this};c.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this};c.prototype.normalMaterial=function(){return this._assert3d("normalMaterial"),c._validateParameters("normalMaterial",
arguments),this._renderer.drawMode=b.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this};c.prototype.texture=function(f){return this._assert3d("texture"),c._validateParameters("texture",arguments),this._renderer.drawMode=b.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=f,this._renderer._setProperty("_doFill",!0),
this};c.prototype.textureMode=function(c){c!==b.IMAGE&&c!==b.NORMAL?console.warn("You tried to set "+c+" textureMode only supports IMAGE & NORMAL "):this._renderer.textureMode=c};c.prototype.textureWrap=function(b,a){a=a||b;this._renderer.textureWrapX=b;this._renderer.textureWrapY=a;for(var d=this._renderer.textures,c=0;c<d.length;c++)d[c].setWrapMode(b,a)};c.prototype.ambientMaterial=function(b,a,d,e){this._assert3d("ambientMaterial");c._validateParameters("ambientMaterial",arguments);var f=c.prototype.color.apply(this,
arguments);return this._renderer.curFillColor=f._array,this._renderer._useSpecularMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this};c.prototype.specularMaterial=function(b,a,d,e){this._assert3d("specularMaterial");c._validateParameters("specularMaterial",arguments);var f=c.prototype.color.apply(this,arguments);return this._renderer.curFillColor=f._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=
!0,this._renderer._tex=null,this};c.prototype.shininess=function(b){return this._assert3d("shininess"),c._validateParameters("shininess",arguments),1>b&&(b=1),this._renderer._useShininess=b,this};c.RendererGL.prototype._applyColorBlend=function(c){var a=this.GL,d=this.drawMode===b.TEXTURE;return d||1>c[c.length-1]?(a.depthMask(d),a.enable(a.BLEND),this._applyBlendMode()):(a.depthMask(!0),a.disable(a.BLEND)),c};c.RendererGL.prototype._applyBlendMode=function(){var c=this.GL;switch(this.curBlendMode){case b.BLEND:case b.ADD:c.blendEquation(c.FUNC_ADD);
c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA);break;case b.MULTIPLY:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD);c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ONE,c.ONE);break;case b.SCREEN:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD);c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE,c.ONE,c.ONE);break;case b.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD);c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case b.REPLACE:c.blendEquation(c.FUNC_ADD);c.blendFunc(c.ONE,
c.ZERO);break;case b.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD);c.blendFuncSeparate(c.SRC_ALPHA,c.ONE,c.ONE,c.ONE);break;case b.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case b.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):
console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}};p.exports=c},{"../core/constants":17,"../core/main":23,"./p5.Texture":76}],69:[function(g,p,q){var c=g("../core/main");c.prototype.camera=function(){return this._assert3d("camera"),c._validateParameters("camera",arguments),this._renderer._curCamera.camera.apply(this._renderer._curCamera,arguments),this};c.prototype.perspective=
function(){return this._assert3d("perspective"),c._validateParameters("perspective",arguments),this._renderer._curCamera.perspective.apply(this._renderer._curCamera,arguments),this};c.prototype.ortho=function(){return this._assert3d("ortho"),c._validateParameters("ortho",arguments),this._renderer._curCamera.ortho.apply(this._renderer._curCamera,arguments),this};c.prototype.createCamera=function(){this._assert3d("createCamera");var b=new c.Camera(this._renderer);return b._computeCameraDefaultSettings(),
b._setDefaultCamera(),this._renderer._curCamera=b};c.Camera=function(b){this._renderer=b;this.cameraType="default";this.cameraMatrix=new c.Matrix;this.projMatrix=new c.Matrix};c.Camera.prototype.perspective=function(b,f,a,d){this.cameraFOV=void 0===b?this.defaultCameraFOV:this._renderer._pInst._toRadians(b);void 0===f&&(f=this.defaultAspectRatio);void 0===a&&(a=this.defaultCameraNear);void 0===d&&(d=this.defaultCameraFar);1E-4>=a&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01."));
d<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown.");this.aspectRatio=f;this.cameraNear=a;this.cameraFar=d;this.projMatrix=c.Matrix.identity();b=1/Math.tan(this.cameraFOV/2);var e=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(b/f,0,0,0,0,-b,0,0,0,0,(d+a)*e,-1,0,0,2*d*a*e,0);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],
this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]);this.cameraType="custom"};c.Camera.prototype.ortho=function(b,f,a,d,e,h){void 0===b&&(b=-this._renderer.width/2);void 0===f&&(f=+this._renderer.width/2);void 0===a&&(a=-this._renderer.height/2);void 0===d&&(d=+this._renderer.height/2);void 0===e&&(e=0);void 0===
h&&(h=Math.max(this._renderer.width,this._renderer.height));var g=f-b,k=d-a,n=h-e,p=2/g,r=2/k,q=-2/n;b=-(f+b)/g;a=-(d+a)/k;e=-(h+e)/n;this.projMatrix=c.Matrix.identity();this.projMatrix.set(p,0,0,0,0,-r,0,0,0,0,q,0,b,a,e,1);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],
this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]);this.cameraType="custom"};c.Camera.prototype._rotateView=function(b,f,a,d){var e=this.centerX,h=this.centerY,g=this.centerZ;e-=this.eyeX;h-=this.eyeY;g-=this.eyeZ;var k=c.Matrix.identity(this._renderer._pInst);k.rotate(this._renderer._pInst._toRadians(b),f,a,d);b=[e*k.mat4[0]+h*k.mat4[4]+g*k.mat4[8],e*k.mat4[1]+h*k.mat4[5]+g*k.mat4[9],e*k.mat4[2]+h*
k.mat4[6]+g*k.mat4[10]];b[0]+=this.eyeX;b[1]+=this.eyeY;b[2]+=this.eyeZ;this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)};c.Camera.prototype.pan=function(b){var c=this._getLocalAxes();this._rotateView(b,c.y[0],c.y[1],c.y[2])};c.Camera.prototype.tilt=function(b){var c=this._getLocalAxes();this._rotateView(b,c.x[0],c.x[1],c.x[2])};c.Camera.prototype.lookAt=function(b,c,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,b,c,a,this.upX,this.upY,this.upZ)};c.Camera.prototype.camera=
function(b,c,a,d,e,h,g,k,n){void 0===b&&(b=this.defaultEyeX,c=this.defaultEyeY,a=this.defaultEyeZ,d=b,e=c,k=1,n=g=h=0);this.eyeX=b;this.eyeY=c;this.eyeZ=a;this.centerX=d;this.centerY=e;this.centerZ=h;this.upX=g;this.upY=k;this.upZ=n;d=this._getLocalAxes();this.cameraMatrix.set(d.x[0],d.y[0],d.z[0],0,d.x[1],d.y[1],d.z[1],0,d.x[2],d.y[2],d.z[2],0,0,0,0,1);return this.cameraMatrix.translate([-b,-c,-a]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],
this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this};c.Camera.prototype.move=function(b,c,a){var d=this._getLocalAxes();b=[d.x[0]*b,d.x[1]*b,d.x[2]*b];c=[d.y[0]*c,d.y[1]*c,d.y[2]*
c];a=[d.z[0]*a,d.z[1]*a,d.z[2]*a];this.camera(this.eyeX+b[0]+c[0]+a[0],this.eyeY+b[1]+c[1]+a[1],this.eyeZ+b[2]+c[2]+a[2],this.centerX+b[0]+c[0]+a[0],this.centerY+b[1]+c[1]+a[1],this.centerZ+b[2]+c[2]+a[2],0,1,0)};c.Camera.prototype.setPosition=function(b,c,a){this.camera(b,c,a,this.centerX+(b-this.eyeX),this.centerY+(c-this.eyeY),this.centerZ+(a-this.eyeZ),0,1,0)};c.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI;this.defaultAspectRatio=this._renderer.width/
this._renderer.height;this.defaultEyeY=this.defaultEyeX=0;this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2);this.defaultCenterZ=this.defaultCenterY=this.defaultCenterX=0;this.defaultCameraNear=.1*this.defaultEyeZ;this.defaultCameraFar=10*this.defaultEyeZ};c.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV;this.aspectRatio=this.defaultAspectRatio;this.eyeX=this.defaultEyeX;this.eyeY=this.defaultEyeY;this.eyeZ=this.defaultEyeZ;this.centerX=
this.defaultCenterX;this.centerY=this.defaultCenterY;this.centerZ=this.defaultCenterZ;this.upX=0;this.upY=1;this.upZ=0;this.cameraNear=this.defaultCameraNear;this.cameraFar=this.defaultCameraFar;this.perspective();this.camera();this.cameraType="default"};c.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)};c.Camera.prototype.copy=function(){var b=
new c.Camera(this._renderer);return b.cameraFOV=this.cameraFOV,b.aspectRatio=this.aspectRatio,b.eyeX=this.eyeX,b.eyeY=this.eyeY,b.eyeZ=this.eyeZ,b.centerX=this.centerX,b.centerY=this.centerY,b.centerZ=this.centerZ,b.cameraNear=this.cameraNear,b.cameraFar=this.cameraFar,b.cameraType=this.cameraType,b.cameraMatrix=this.cameraMatrix.copy(),b.projMatrix=this.projMatrix.copy(),b};c.Camera.prototype._getLocalAxes=function(){var b=this.eyeX-this.centerX,c=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,
d=Math.sqrt(b*b+c*c+a*a);0!==d&&(b/=d,c/=d,a/=d);d=this.upX;var e=this.upY,h=this.upZ,g=e*a-h*c,k=-d*a+h*b,n=d*c-e*b;d=c*n-a*k;e=-b*n+a*g;h=b*k-c*g;var p=Math.sqrt(g*g+k*k+n*n);0!==p&&(g/=p,k/=p,n/=p);p=Math.sqrt(d*d+e*e+h*h);return 0!==p&&(d/=p,e/=p,h/=p),{x:[g,k,n],y:[d,e,h],z:[b,c,a]}};c.Camera.prototype._orbit=function(b,c,a){var d=this.eyeX-this.centerX,e=this.eyeY-this.centerY,f=this.eyeZ-this.centerZ,g=Math.sqrt(d*d+e*e+f*f);d=Math.atan2(d,f);e=Math.acos(Math.max(-1,Math.min(1,e/g)));d+=b;
0>(g+=a)&&(g=.1);(e+=c)>Math.PI?e=Math.PI:0>=e&&(e=.001);this.camera(Math.sin(e)*g*Math.sin(d)+this.centerX,Math.cos(e)*g+this.centerY,Math.sin(e)*g*Math.cos(d)+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)};c.Camera.prototype._isActive=function(){return this===this._renderer._curCamera};c.prototype.setCamera=function(b){this._renderer._curCamera=b;this._renderer.uPMatrix.set(b.projMatrix.mat4[0],b.projMatrix.mat4[1],b.projMatrix.mat4[2],b.projMatrix.mat4[3],b.projMatrix.mat4[4],b.projMatrix.mat4[5],
b.projMatrix.mat4[6],b.projMatrix.mat4[7],b.projMatrix.mat4[8],b.projMatrix.mat4[9],b.projMatrix.mat4[10],b.projMatrix.mat4[11],b.projMatrix.mat4[12],b.projMatrix.mat4[13],b.projMatrix.mat4[14],b.projMatrix.mat4[15])};p.exports=c.Camera},{"../core/main":23}],70:[function(g,p,q){var c=g("../core/main");c.Geometry=function(b,c,a){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.detailX=void 0!==b?b:1,this.detailY=void 0!==
c?c:1,this.dirtyFlags={},a instanceof Function&&a.call(this),this};c.Geometry.prototype.reset=function(){this.lineVertices.length=0;this.lineNormals.length=0;this.vertices.length=0;this.edges.length=0;this.vertexColors.length=0;this.vertexNormals.length=0;this.uvs.length=0;this.dirtyFlags={}};c.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var b,c,a,d,e=this.detailX+1,h=0;h<this.detailY;h++)for(var g=0;g<this.detailX;g++)c=(b=h*e+g)+1,a=(h+1)*e+g+1,d=(h+1)*e+g,this.faces.push([b,
c,d]),this.faces.push([d,c,a]);return this};c.Geometry.prototype._getFaceNormal=function(b){b=this.faces[b];var f=this.vertices[b[0]],a=this.vertices[b[2]];b=c.Vector.sub(this.vertices[b[1]],f);var d=c.Vector.sub(a,f);f=c.Vector.cross(b,d);a=c.Vector.mag(f);b=a/(c.Vector.mag(b)*c.Vector.mag(d));return 0===b||isNaN(b)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),f):(1<b&&(b=1),f.mult(Math.asin(b)/a))};c.Geometry.prototype.computeNormals=function(){var b,
f=this.vertexNormals,a=this.vertices,d=this.faces;for(b=f.length=0;b<a.length;++b)f.push(new c.Vector);for(b=0;b<d.length;++b)for(var e=d[b],h=this._getFaceNormal(b),g=0;3>g;++g)f[e[g]].add(h);for(b=0;b<a.length;++b)f[b].normalize();return this};c.Geometry.prototype.averageNormals=function(){for(var b=0;b<=this.detailY;b++){var f=this.detailX+1,a=c.Vector.add(this.vertexNormals[b*f],this.vertexNormals[b*f+this.detailX]);a=c.Vector.div(a,2);this.vertexNormals[b*f]=a;this.vertexNormals[b*f+this.detailX]=
a}return this};c.Geometry.prototype.averagePoleNormals=function(){for(var b=new c.Vector(0,0,0),f=0;f<this.detailX;f++)b.add(this.vertexNormals[f]);b=c.Vector.div(b,this.detailX);for(f=0;f<this.detailX;f++)this.vertexNormals[f]=b;b=new c.Vector(0,0,0);for(f=this.vertices.length-1;f>this.vertices.length-1-this.detailX;f--)b.add(this.vertexNormals[f]);b=c.Vector.div(b,this.detailX);for(f=this.vertices.length-1;f>this.vertices.length-1-this.detailX;f--)this.vertexNormals[f]=b;return this};c.Geometry.prototype._makeTriangleEdges=
function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var b=0,c=this.strokeIndices.length;b<c;b++)this.edges.push(this.strokeIndices[b]);else for(b=0;b<this.faces.length;b++)this.edges.push([this.faces[b][0],this.faces[b][1]]),this.edges.push([this.faces[b][1],this.faces[b][2]]),this.edges.push([this.faces[b][2],this.faces[b][0]]);return this};c.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var b=this.lineNormals.length=0;b<this.edges.length;b++){var c=
this.vertices[this.edges[b][0]],a=this.vertices[this.edges[b][1]],d=a.copy().sub(c).normalize(),e=c.array();c=c.array();var h=a.array();a=a.array();var g=d.array();d=d.array();g.push(1);d.push(-1);this.lineNormals.push(g,d,g,g,d,d);this.lineVertices.push(e,c,h,h,c,a)}return this};c.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var b=this.vertices[0].copy(),f=this.vertices[0].copy(),a=0;a<this.vertices.length;a++)b.x=Math.max(b.x,this.vertices[a].x),f.x=Math.min(f.x,this.vertices[a].x),
b.y=Math.max(b.y,this.vertices[a].y),f.y=Math.min(f.y,this.vertices[a].y),b.z=Math.max(b.z,this.vertices[a].z),f.z=Math.min(f.z,this.vertices[a].z);var d=c.Vector.lerp(b,f,.5);a=c.Vector.sub(b,f);b=200/Math.max(Math.max(a.x,a.y),a.z);for(a=0;a<this.vertices.length;a++)this.vertices[a].sub(d),this.vertices[a].mult(b)}return this};p.exports=c.Geometry},{"../core/main":23}],71:[function(g,p,q){var c=g("../core/main"),b=Array,f=function(a){return a instanceof Array};"undefined"!=typeof Float32Array&&
(b=Float32Array,f=function(a){return a instanceof Array||a instanceof Float32Array});c.Matrix=function(){for(var a=Array(arguments.length),d=0;d<a.length;++d)a[d]=arguments[d];return a.length&&a[a.length-1]instanceof c&&(this.p5=a[a.length-1]),"mat3"===a[0]?this.mat3=Array.isArray(a[1])?a[1]:new b([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(a[0])?a[0]:new b([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this};c.Matrix.prototype.set=function(a){return a instanceof c.Matrix?this.mat4=a.mat4:f(a)?this.mat4=a:16===
arguments.length&&(this.mat4[0]=a,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this};c.Matrix.prototype.get=function(){return new c.Matrix(this.mat4,
this.p5)};c.Matrix.prototype.copy=function(){var a=new c.Matrix(this.p5);return a.mat4[0]=this.mat4[0],a.mat4[1]=this.mat4[1],a.mat4[2]=this.mat4[2],a.mat4[3]=this.mat4[3],a.mat4[4]=this.mat4[4],a.mat4[5]=this.mat4[5],a.mat4[6]=this.mat4[6],a.mat4[7]=this.mat4[7],a.mat4[8]=this.mat4[8],a.mat4[9]=this.mat4[9],a.mat4[10]=this.mat4[10],a.mat4[11]=this.mat4[11],a.mat4[12]=this.mat4[12],a.mat4[13]=this.mat4[13],a.mat4[14]=this.mat4[14],a.mat4[15]=this.mat4[15],a};c.Matrix.identity=function(a){return new c.Matrix(a)};
c.Matrix.prototype.transpose=function(a){var b,e,h,g,k,n;return a instanceof c.Matrix?(b=a.mat4[1],e=a.mat4[2],h=a.mat4[3],g=a.mat4[6],k=a.mat4[7],n=a.mat4[11],this.mat4[0]=a.mat4[0],this.mat4[1]=a.mat4[4],this.mat4[2]=a.mat4[8],this.mat4[3]=a.mat4[12],this.mat4[4]=b,this.mat4[5]=a.mat4[5],this.mat4[6]=a.mat4[9],this.mat4[7]=a.mat4[13],this.mat4[8]=e,this.mat4[9]=g,this.mat4[10]=a.mat4[10],this.mat4[11]=a.mat4[14],this.mat4[12]=h,this.mat4[13]=k,this.mat4[14]=n,this.mat4[15]=a.mat4[15]):f(a)&&(b=
a[1],e=a[2],h=a[3],g=a[6],k=a[7],n=a[11],this.mat4[0]=a[0],this.mat4[1]=a[4],this.mat4[2]=a[8],this.mat4[3]=a[12],this.mat4[4]=b,this.mat4[5]=a[5],this.mat4[6]=a[9],this.mat4[7]=a[13],this.mat4[8]=e,this.mat4[9]=g,this.mat4[10]=a[10],this.mat4[11]=a[14],this.mat4[12]=h,this.mat4[13]=k,this.mat4[14]=n,this.mat4[15]=a[15]),this};c.Matrix.prototype.invert=function(a){var b,e,h,g,k,n,p,r,q,v,u,w,C,G,D,A;a instanceof c.Matrix?(b=a.mat4[0],e=a.mat4[1],h=a.mat4[2],g=a.mat4[3],k=a.mat4[4],n=a.mat4[5],p=a.mat4[6],
r=a.mat4[7],q=a.mat4[8],v=a.mat4[9],u=a.mat4[10],w=a.mat4[11],C=a.mat4[12],G=a.mat4[13],D=a.mat4[14],A=a.mat4[15]):f(a)&&(b=a[0],e=a[1],h=a[2],g=a[3],k=a[4],n=a[5],p=a[6],r=a[7],q=a[8],v=a[9],u=a[10],w=a[11],C=a[12],G=a[13],D=a[14],A=a[15]);a=b*n-e*k;var E=b*p-h*k,K=b*r-g*k,H=e*p-h*n,F=e*r-g*n,P=h*r-g*p,T=q*G-v*C,Q=q*D-u*C,x=q*A-w*C,W=v*D-u*G,ca=v*A-w*G,Z=u*A-w*D,S=a*Z-E*ca+K*W+H*x-F*Q+P*T;return S?(S=1/S,this.mat4[0]=(n*Z-p*ca+r*W)*S,this.mat4[1]=(h*ca-e*Z-g*W)*S,this.mat4[2]=(G*P-D*F+A*H)*S,this.mat4[3]=
(u*F-v*P-w*H)*S,this.mat4[4]=(p*x-k*Z-r*Q)*S,this.mat4[5]=(b*Z-h*x+g*Q)*S,this.mat4[6]=(D*K-C*P-A*E)*S,this.mat4[7]=(q*P-u*K+w*E)*S,this.mat4[8]=(k*ca-n*x+r*T)*S,this.mat4[9]=(e*x-b*ca-g*T)*S,this.mat4[10]=(C*F-G*K+A*a)*S,this.mat4[11]=(v*K-q*F-w*a)*S,this.mat4[12]=(n*Q-k*W-p*T)*S,this.mat4[13]=(b*W-e*Q+h*T)*S,this.mat4[14]=(G*E-C*H-D*a)*S,this.mat4[15]=(q*H-v*E+u*a)*S,this):null};c.Matrix.prototype.invert3x3=function(){var a=this.mat3[0],b=this.mat3[1],c=this.mat3[2],f=this.mat3[3],g=this.mat3[4],
k=this.mat3[5],n=this.mat3[6],p=this.mat3[7],r=this.mat3[8],q=r*g-k*p,v=-r*f+k*n,u=p*f-g*n,w=a*q+b*v+c*u;return w?(w=1/w,this.mat3[0]=q*w,this.mat3[1]=(-r*b+c*p)*w,this.mat3[2]=(k*b-c*g)*w,this.mat3[3]=v*w,this.mat3[4]=(r*a-c*n)*w,this.mat3[5]=(-k*a+c*f)*w,this.mat3[6]=u*w,this.mat3[7]=(-p*a+b*n)*w,this.mat3[8]=(g*a-b*f)*w,this):null};c.Matrix.prototype.transpose3x3=function(a){var b=a[1],c=a[2],f=a[5];return this.mat3[1]=a[3],this.mat3[2]=a[6],this.mat3[3]=b,this.mat3[5]=a[7],this.mat3[6]=c,this.mat3[7]=
f,this};c.Matrix.prototype.inverseTranspose=function(a){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=a.mat4[0],this.mat3[1]=a.mat4[1],this.mat3[2]=a.mat4[2],this.mat3[3]=a.mat4[4],this.mat3[4]=a.mat4[5],this.mat3[5]=a.mat4[6],this.mat3[6]=a.mat4[8],this.mat3[7]=a.mat4[9],this.mat3[8]=a.mat4[10]);if(a=this.invert3x3())a.transpose3x3(this.mat3);else for(a=0;9>a;a++)this.mat3[a]=0;return this};c.Matrix.prototype.determinant=function(){return(this.mat4[0]*
this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-
this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])};c.Matrix.prototype.mult=function(a){if(a===this||a===this.mat4)var b=this.copy().mat4;else if(a instanceof c.Matrix)b=a.mat4;else if(f(a))b=a;else{if(16!==arguments.length)return;b=arguments}var e=this.mat4[0],g=this.mat4[1],l=this.mat4[2],k=this.mat4[3];return this.mat4[0]=e*b[0]+g*b[4]+l*b[8]+k*b[12],this.mat4[1]=e*b[1]+g*b[5]+l*b[9]+k*b[13],this.mat4[2]=e*
b[2]+g*b[6]+l*b[10]+k*b[14],this.mat4[3]=e*b[3]+g*b[7]+l*b[11]+k*b[15],e=this.mat4[4],g=this.mat4[5],l=this.mat4[6],k=this.mat4[7],this.mat4[4]=e*b[0]+g*b[4]+l*b[8]+k*b[12],this.mat4[5]=e*b[1]+g*b[5]+l*b[9]+k*b[13],this.mat4[6]=e*b[2]+g*b[6]+l*b[10]+k*b[14],this.mat4[7]=e*b[3]+g*b[7]+l*b[11]+k*b[15],e=this.mat4[8],g=this.mat4[9],l=this.mat4[10],k=this.mat4[11],this.mat4[8]=e*b[0]+g*b[4]+l*b[8]+k*b[12],this.mat4[9]=e*b[1]+g*b[5]+l*b[9]+k*b[13],this.mat4[10]=e*b[2]+g*b[6]+l*b[10]+k*b[14],this.mat4[11]=
e*b[3]+g*b[7]+l*b[11]+k*b[15],e=this.mat4[12],g=this.mat4[13],l=this.mat4[14],k=this.mat4[15],this.mat4[12]=e*b[0]+g*b[4]+l*b[8]+k*b[12],this.mat4[13]=e*b[1]+g*b[5]+l*b[9]+k*b[13],this.mat4[14]=e*b[2]+g*b[6]+l*b[10]+k*b[14],this.mat4[15]=e*b[3]+g*b[7]+l*b[11]+k*b[15],this};c.Matrix.prototype.apply=function(a){if(a===this||a===this.mat4)var b=this.copy().mat4;else if(a instanceof c.Matrix)b=a.mat4;else if(f(a))b=a;else{if(16!==arguments.length)return;b=arguments}var e=this.mat4,g=e[0],l=e[4],k=e[8],
n=e[12];e[0]=b[0]*g+b[1]*l+b[2]*k+b[3]*n;e[4]=b[4]*g+b[5]*l+b[6]*k+b[7]*n;e[8]=b[8]*g+b[9]*l+b[10]*k+b[11]*n;e[12]=b[12]*g+b[13]*l+b[14]*k+b[15]*n;g=e[1];l=e[5];k=e[9];n=e[13];e[1]=b[0]*g+b[1]*l+b[2]*k+b[3]*n;e[5]=b[4]*g+b[5]*l+b[6]*k+b[7]*n;e[9]=b[8]*g+b[9]*l+b[10]*k+b[11]*n;e[13]=b[12]*g+b[13]*l+b[14]*k+b[15]*n;g=e[2];l=e[6];k=e[10];n=e[14];e[2]=b[0]*g+b[1]*l+b[2]*k+b[3]*n;e[6]=b[4]*g+b[5]*l+b[6]*k+b[7]*n;e[10]=b[8]*g+b[9]*l+b[10]*k+b[11]*n;e[14]=b[12]*g+b[13]*l+b[14]*k+b[15]*n;g=e[3];l=e[7];k=
e[11];n=e[15];return e[3]=b[0]*g+b[1]*l+b[2]*k+b[3]*n,e[7]=b[4]*g+b[5]*l+b[6]*k+b[7]*n,e[11]=b[8]*g+b[9]*l+b[10]*k+b[11]*n,e[15]=b[12]*g+b[13]*l+b[14]*k+b[15]*n,this};c.Matrix.prototype.scale=function(a,b,e){return a instanceof c.Vector?(b=a.y,e=a.z,a=a.x):a instanceof Array&&(b=a[1],e=a[2],a=a[0]),this.mat4[0]*=a,this.mat4[1]*=a,this.mat4[2]*=a,this.mat4[3]*=a,this.mat4[4]*=b,this.mat4[5]*=b,this.mat4[6]*=b,this.mat4[7]*=b,this.mat4[8]*=e,this.mat4[9]*=e,this.mat4[10]*=e,this.mat4[11]*=e,this};c.Matrix.prototype.rotate=
function(a,b,e,f){b instanceof c.Vector?(e=b.y,f=b.z,b=b.x):b instanceof Array&&(e=b[1],f=b[2],b=b[0]);var d=Math.sqrt(b*b+e*e+f*f);b*=1/d;e*=1/d;f*=1/d;d=this.mat4[0];var g=this.mat4[1],h=this.mat4[2],p=this.mat4[3],r=this.mat4[4],q=this.mat4[5],v=this.mat4[6],u=this.mat4[7],w=this.mat4[8],C=this.mat4[9],G=this.mat4[10],D=this.mat4[11],A=Math.sin(a),E=Math.cos(a),K=1-E;a=b*b*K+E;var H=e*b*K+f*A,F=f*b*K-e*A,P=b*e*K-f*A,T=e*e*K+E,Q=f*e*K+b*A,x=b*f*K+e*A;b=e*f*K-b*A;f=f*f*K+E;return this.mat4[0]=d*
a+r*H+w*F,this.mat4[1]=g*a+q*H+C*F,this.mat4[2]=h*a+v*H+G*F,this.mat4[3]=p*a+u*H+D*F,this.mat4[4]=d*P+r*T+w*Q,this.mat4[5]=g*P+q*T+C*Q,this.mat4[6]=h*P+v*T+G*Q,this.mat4[7]=p*P+u*T+D*Q,this.mat4[8]=d*x+r*b+w*f,this.mat4[9]=g*x+q*b+C*f,this.mat4[10]=h*x+v*b+G*f,this.mat4[11]=p*x+u*b+D*f,this};c.Matrix.prototype.translate=function(a){var b=a[0],c=a[1];a=a[2]||0;this.mat4[12]+=this.mat4[0]*b+this.mat4[4]*c+this.mat4[8]*a;this.mat4[13]+=this.mat4[1]*b+this.mat4[5]*c+this.mat4[9]*a;this.mat4[14]+=this.mat4[2]*
b+this.mat4[6]*c+this.mat4[10]*a;this.mat4[15]+=this.mat4[3]*b+this.mat4[7]*c+this.mat4[11]*a};c.Matrix.prototype.rotateX=function(a){this.rotate(a,1,0,0)};c.Matrix.prototype.rotateY=function(a){this.rotate(a,0,1,0)};c.Matrix.prototype.rotateZ=function(a){this.rotate(a,0,0,1)};c.Matrix.prototype.perspective=function(a,b,c,f){a=1/Math.tan(a/2);var d=1/(c-f);return this.mat4[0]=a/b,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=a,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=
0,this.mat4[9]=0,this.mat4[10]=(f+c)*d,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*f*c*d,this.mat4[15]=0,this};c.Matrix.prototype.ortho=function(a,b,c,f,g,k){var d=1/(a-b),e=1/(c-f),h=1/(g-k);return this.mat4[0]=-2*d,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*e,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*h,this.mat4[11]=0,this.mat4[12]=(a+b)*d,this.mat4[13]=(f+c)*e,this.mat4[14]=(k+g)*h,this.mat4[15]=1,this};p.exports=
c.Matrix},{"../core/main":23}],72:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants");c.RendererGL.prototype.beginShape=function(c){return this.immediateMode.shapeMode=void 0!==c?c:b.LINE_STRIP,void 0===this.immediateMode.vertices?(this.immediateMode.vertices=[],this.immediateMode.edges=[],this.immediateMode.lineVertices=[],this.immediateMode.vertexColors=[],this.immediateMode.lineNormals=[],this.immediateMode.uvCoords=[],this.immediateMode.vertexBuffer=this.GL.createBuffer(),this.immediateMode.colorBuffer=
this.GL.createBuffer(),this.immediateMode.uvBuffer=this.GL.createBuffer(),this.immediateMode.lineVertexBuffer=this.GL.createBuffer(),this.immediateMode.lineNormalBuffer=this.GL.createBuffer(),this.immediateMode.pointVertexBuffer=this.GL.createBuffer(),this.immediateMode._bezierVertex=[],this.immediateMode._quadraticVertex=[],this.immediateMode._curveVertex=[],this.immediateMode._isCoplanar=!0,this.immediateMode._testIfCoplanar=null):(this.immediateMode.vertices.length=0,this.immediateMode.edges.length=
0,this.immediateMode.lineVertices.length=0,this.immediateMode.lineNormals.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0),this.isImmediateDrawing=!0,this};c.RendererGL.prototype.vertex=function(f,a){var d,e;var g=d=e=0;3===arguments.length?g=arguments[2]:4===arguments.length?(d=arguments[2],e=arguments[3]):5===arguments.length&&(g=arguments[2],d=arguments[3],e=arguments[4]);null==this.immediateMode._testIfCoplanar?this.immediateMode._testIfCoplanar=g:this.immediateMode._testIfCoplanar!==
g&&(this.immediateMode._isCoplanar=!1);var l=new c.Vector(f,a,g);this.immediateMode.vertices.push(l);l=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.vertexColors.push(l[0],l[1],l[2],l[3]),this.textureMode===b.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(d/=this._tex.width,e/=this._tex.height):null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.uvCoords.push(d,
e),this.immediateMode._bezierVertex[0]=f,this.immediateMode._bezierVertex[1]=a,this.immediateMode._bezierVertex[2]=g,this.immediateMode._quadraticVertex[0]=f,this.immediateMode._quadraticVertex[1]=a,this.immediateMode._quadraticVertex[2]=g,this};c.RendererGL.prototype.endShape=function(f,a,d,e,g,l){if(this.immediateMode.shapeMode===b.POINTS)this._drawPoints(this.immediateMode.vertices,this.immediateMode.pointVertexBuffer);else if(1<this.immediateMode.vertices.length){if(this._doStroke&&this.drawMode!==
b.TEXTURE){if(this.immediateMode.shapeMode===b.TRIANGLE_STRIP){var h;for(h=0;h<this.immediateMode.vertices.length-2;h++)this.immediateMode.edges.push([h,h+1]),this.immediateMode.edges.push([h,h+2]);this.immediateMode.edges.push([h,h+1])}else if(this.immediateMode.shapeMode===b.TRIANGLES)for(h=0;h<this.immediateMode.vertices.length-2;h+=3)this.immediateMode.edges.push([h,h+1]),this.immediateMode.edges.push([h+1,h+2]),this.immediateMode.edges.push([h+2,h]);else if(this.immediateMode.shapeMode===b.LINES)for(h=
0;h<this.immediateMode.vertices.length-1;h+=2)this.immediateMode.edges.push([h,h+1]);else for(h=0;h<this.immediateMode.vertices.length-1;h++)this.immediateMode.edges.push([h,h+1]);f===b.CLOSE&&this.immediateMode.edges.push([this.immediateMode.vertices.length-1,0]);c.Geometry.prototype._edgesToVertices.call(this.immediateMode);this._drawStrokeImmediateMode()}if(this._doFill&&this.immediateMode.shapeMode!==b.LINES){if(this.isBezier||this.isQuadratic||this.isCurve||this.immediateMode.shapeMode===b.LINE_STRIP&&
this.drawMode===b.FILL&&!0===this.immediateMode._isCoplanar){this.immediateMode.shapeMode=b.TRIANGLES;h=[new Float32Array(this._vToNArray(this.immediateMode.vertices))];h=this._triangulate(h);this.immediateMode.vertices=[];for(var n=0,p=h.length;n<p;n+=3)this.vertex(h[n],h[n+1],h[n+2])}0<this.immediateMode.vertices.length&&this._drawFillImmediateMode(f,a,d,e,g,l)}}return this.immediateMode.vertices.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0,this.isImmediateDrawing=
!1,this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0,this.immediateMode._isCoplanar=!0,this.immediateMode._testIfCoplanar=null,this};c.RendererGL.prototype._drawFillImmediateMode=function(c,a,d,e,g,l){c=this.GL;a=this._getImmediateFillShader();if(this._setFillUniforms(a),a.attributes.aPosition&&(this._bindBuffer(this.immediateMode.vertexBuffer,c.ARRAY_BUFFER,this._vToNArray(this.immediateMode.vertices),
Float32Array,c.DYNAMIC_DRAW),a.enableAttrib(a.attributes.aPosition,3)),this.drawMode===b.FILL&&a.attributes.aVertexColor&&(this._bindBuffer(this.immediateMode.colorBuffer,c.ARRAY_BUFFER,this.immediateMode.vertexColors,Float32Array,c.DYNAMIC_DRAW),a.enableAttrib(a.attributes.aVertexColor,4)),this.drawMode===b.TEXTURE&&a.attributes.aTexCoord&&(this._bindBuffer(this.immediateMode.uvBuffer,c.ARRAY_BUFFER,this.immediateMode.uvCoords,Float32Array,c.DYNAMIC_DRAW),a.enableAttrib(a.attributes.aTexCoord,2)),
this.drawMode===b.FILL||this.drawMode===b.TEXTURE)switch(this.immediateMode.shapeMode){case b.LINE_STRIP:case b.LINES:this.immediateMode.shapeMode=b.TRIANGLE_FAN}else switch(this.immediateMode.shapeMode){case b.LINE_STRIP:case b.LINES:this.immediateMode.shapeMode=b.LINE_LOOP}if(this.immediateMode.shapeMode===b.QUADS||this.immediateMode.shapeMode===b.QUAD_STRIP)throw Error("sorry, "+this.immediateMode.shapeMode+" not yet implemented in webgl mode.");this._applyColorBlend(this.curFillColor);c.enable(c.BLEND);
c.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.vertices.length);this._pixelsState._pixelsDirty=!0;a.unbindShader()};c.RendererGL.prototype._drawStrokeImmediateMode=function(){var b=this.GL,a=this._getImmediateStrokeShader();this._setStrokeUniforms(a);a.attributes.aPosition&&(this._bindBuffer(this.immediateMode.lineVertexBuffer,b.ARRAY_BUFFER,this._flatten(this.immediateMode.lineVertices),Float32Array,b.STATIC_DRAW),a.enableAttrib(a.attributes.aPosition,3));a.attributes.aDirection&&
(this._bindBuffer(this.immediateMode.lineNormalBuffer,b.ARRAY_BUFFER,this._flatten(this.immediateMode.lineNormals),Float32Array,b.STATIC_DRAW),a.enableAttrib(a.attributes.aDirection,4));this._applyColorBlend(this.curStrokeColor);b.drawArrays(b.TRIANGLES,0,this.immediateMode.lineVertices.length);this._pixelsState._pixelsDirty=!0;a.unbindShader()};p.exports=c.RendererGL},{"../core/constants":17,"../core/main":23}],73:[function(g,p,q){function c(a,b,c,d,f){this.size=a;this.src=b;this.dst=c;this.attr=
d;this.map=f}var b=g("../core/main");g("./p5.RendererGL");g=b.RendererGL.prototype._flatten;q=b.RendererGL.prototype._vToNArray;var f=[new c(3,"lineVertices","lineVertexBuffer","aPosition",g),new c(4,"lineNormals","lineNormalBuffer","aDirection",g)],a=[new c(3,"vertices","vertexBuffer","aPosition",q),new c(3,"vertexNormals","normalBuffer","aNormal",q),new c(4,"vertexColors","colorBuffer","aMaterialColor"),new c(3,"vertexAmbients","ambientBuffer","aAmbientColor"),new c(2,"uvs","uvBuffer","aTexCoord",
g)];b.RendererGL._textBuffers=[new c(3,"vertices","vertexBuffer","aPosition",q),new c(2,"uvs","uvBuffer","aTexCoord",g)];var d=0;b.RendererGL.prototype._initBufferDefaults=function(a){if(this._freeBuffers(a),1E3<++d){var b=Object.keys(this.gHash)[0];delete this.gHash[b];d--}return this.gHash[a]={}};b.RendererGL.prototype._freeBuffers=function(b){function c(a){for(var b=0;b<a.length;b++){var c=a[b];e[c.dst]&&(g.deleteBuffer(e[c.dst]),e[c.dst]=null)}}var e=this.gHash[b];if(e){delete this.gHash[b];d--;
var g=this.GL;e.indexBuffer&&g.deleteBuffer(e.indexBuffer);c(f);c(a)}};b.RendererGL.prototype._prepareBuffers=function(a,b,c){for(var d=a.model,e=b.attributes,f=this.GL,g=0;g<c.length;g++){var h=c[g],l=e[h.attr];if(l){var p=a[h.dst],q=d[h.src];if(q){var C=!p;if(C&&(a[h.dst]=p=f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,p),C||!1!==d.dirtyFlags[h.src])q=(C=h.map)?C(q):q,this._bindBuffer(p,f.ARRAY_BUFFER,q),d.dirtyFlags[h.src]=!1;b.enableAttrib(l,h.size)}else p&&(f.deleteBuffer(p),a[h.dst]=null),f.disableVertexAttribArray(l.index)}}};
b.RendererGL.prototype.createBuffers=function(a,c){var d=this.GL;a=this._initBufferDefaults(a);a.model=c;var e=a.indexBuffer;if(c.faces.length){e||(e=a.indexBuffer=d.createBuffer());var f=b.RendererGL.prototype._flatten(c.faces);this._bindBuffer(e,d.ELEMENT_ARRAY_BUFFER,f,Uint16Array);a.vertexCount=3*c.faces.length}else e&&(d.deleteBuffer(e),a.indexBuffer=null),a.vertexCount=c.vertices?c.vertices.length:0;return a.lineVertexCount=c.lineVertices?c.lineVertices.length:0,a};b.RendererGL.prototype.drawBuffers=
function(b){var c=this.GL,d=this.gHash[b];if(this._doStroke&&0<d.lineVertexCount){var e=this._getRetainedStrokeShader();this._setStrokeUniforms(e);this._prepareBuffers(d,e,f);this._applyColorBlend(this.curStrokeColor);this._drawArrays(c.TRIANGLES,b);e.unbindShader()}this._doFill&&(e=this._getRetainedFillShader(),this._setFillUniforms(e),this._prepareBuffers(d,e,a),d.indexBuffer&&this._bindBuffer(d.indexBuffer,c.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(c.TRIANGLES,
b),e.unbindShader());return this};b.RendererGL.prototype.drawBuffersScaled=function(a,b,c,d){var e=this.uMVMatrix.copy();try{this.uMVMatrix.scale(b,c,d),this.drawBuffers(a)}finally{this.uMVMatrix=e}};b.RendererGL.prototype._drawArrays=function(a,b){return this.GL.drawArrays(a,0,this.gHash[b].lineVertexCount),this._pixelsState._pixelsDirty=!0,this};b.RendererGL.prototype._drawElements=function(a,b){b=this.gHash[b];var c=this.GL;b.indexBuffer?c.drawElements(c.TRIANGLES,b.vertexCount,c.UNSIGNED_SHORT,
0):c.drawArrays(a||c.TRIANGLES,0,b.vertexCount);this._pixelsState._pixelsDirty=!0};b.RendererGL.prototype._drawPoints=function(a,b){var c=this.GL,d=this._getImmediatePointShader();this._setPointUniforms(d);this._bindBuffer(b,c.ARRAY_BUFFER,this._vToNArray(a),Float32Array,c.STATIC_DRAW);d.enableAttrib(d.attributes.aPosition,3);c.drawArrays(c.Points,0,a.length);d.unbindShader();this._pixelsState._pixelsDirty=!0};p.exports=b.RendererGL},{"../core/main":23,"./p5.RendererGL":74}],74:[function(g,p,q){var c=
g("../core/main"),b=g("../core/constants"),f=g("libtess");g("./p5.Shader");g("./p5.Camera");g("../core/p5.Renderer");g("./p5.Matrix");c.RendererGL=function(a,d,e,f){return c.Renderer.call(this,a,d,e),this._setAttributeDefaults(d),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._enableLighting=!1,this.ambientLightColors=[],this.directionalLightDirections=[],this.directionalLightColors=[],this.pointLightPositions=[],this.pointLightColors=[],this.drawMode=b.FILL,this.curFillColor=
[1,1,1,1],this.curStrokeColor=[0,0,0,1],this.curBlendMode=b.BLEND,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._useSpecularMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new c.Matrix,this.uPMatrix=new c.Matrix,this.uNMatrix=new c.Matrix("mat3"),this._curCamera=new c.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),
this.gHash={},this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this._pointVertexBuffer=this.GL.createBuffer(),this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.isImmediateDrawing=!1,this.immediateMode={},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=b.IMAGE,this.textureWrapX=b.CLAMP,this.textureWrapY=b.CLAMP,this._tex=
null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this};c.RendererGL.prototype=Object.create(c.Renderer.prototype);c.RendererGL.prototype._setAttributeDefaults=function(a){var b={alpha:!0,depth:!0,stencil:!0,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!1};null===a._glAttributes?a._glAttributes=b:a._glAttributes=Object.assign(b,a._glAttributes)};
c.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw Error("Error creating webgl context");var a=this.drawingContext;a.enable(a.DEPTH_TEST);a.depthFunc(a.LEQUAL);a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight);this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(d){throw d;}};
c.RendererGL.prototype._resetContext=function(a,b){var d=this.width,f=this.height,g=this.canvas.id,k=this._pInst instanceof c.Graphics;if(k)g=this._pInst,g.canvas.parentNode.removeChild(g.canvas),g.canvas=document.createElement("canvas"),(g._pInst._userNode||document.body).appendChild(g.canvas),c.Element.call(g,g.canvas,g._pInst),g.width=d,g.height=f;else{var n=this.canvas;n&&n.parentNode.removeChild(n);(n=document.createElement("canvas")).id=g;this._pInst._userNode?this._pInst._userNode.appendChild(n):
document.body.appendChild(n);this._pInst.canvas=n}g=new c.RendererGL(this._pInst.canvas,this._pInst,!k);this._pInst._setProperty("_renderer",g);g.resize(d,f);g._applyDefaults();k||this._pInst._elements.push(g);"function"==typeof b&&setTimeout(function(){b.apply(window._renderer,a)},0)};c.prototype.setAttributes=function(a,b){if(void 0!==this._glAttributes){var c=!0;if(void 0!==b?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[a]!==b&&(this._glAttributes[a]=b,c=!1)):a instanceof
Object&&this._glAttributes!==a&&(this._glAttributes=a,c=!1),this._renderer.isP3D&&!c){if(!this._setupDone)for(var d in this._renderer.gHash)if(this._renderer.gHash.hasOwnProperty(d))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push();this._renderer._resetContext();this.pop();this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")};
c.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],
this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]);this.ambientLightColors.length=0;this.directionalLightDirections.length=0;this.directionalLightColors.length=0;this.pointLightPositions.length=0;this.pointLightColors.length=0;this._enableLighting=!1;this._tint=[255,255,255,255]};c.RendererGL.prototype.background=function(){var a=this._pInst.color.apply(this._pInst,arguments);this.GL.clearColor(a.levels[0]/
255,a.levels[1]/255,a.levels[2]/255,a.levels[3]/255);this.GL.depthMask(!0);this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT);this._pixelsState._pixelsDirty=!0};c.RendererGL.prototype.fill=function(a,d,e,f){this.curFillColor=c.prototype.color.apply(this._pInst,arguments)._array;this.drawMode=b.FILL;this._useNormalMaterial=!1;this._tex=null};c.RendererGL.prototype.stroke=function(a,b,e,f){f=255;this.curStrokeColor=c.prototype.color.apply(this._pInst,arguments)._array};c.RendererGL.prototype.strokeCap=
function(a){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")};c.RendererGL.prototype.blendMode=function(a){a===b.DARKEST||a===b.LIGHTEST||a===b.ADD||a===b.BLEND||a===b.SUBTRACT||a===b.SCREEN||a===b.EXCLUSION||a===b.REPLACE||a===b.MULTIPLY?this.curBlendMode=a:a!==b.BURN&&a!==b.OVERLAY&&a!==b.HARD_LIGHT&&a!==b.SOFT_LIGHT&&a!==b.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")};c.RendererGL.prototype.strokeWeight=function(a){this.curStrokeWeight!==
a&&(this.pointSize=a,this.curStrokeWeight=a)};c.RendererGL.prototype._getPixel=function(a,b){var c,d,f=this._pixelsState;return d=f._pixelsDirty?(c=new Uint8Array(4),this.drawingContext.readPixels(a,b,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,c),0):(c=f.pixels,4*(Math.floor(a)+Math.floor(b)*this.canvas.width)),[c[d+0],c[d+1],c[d+2],c[d+3]]};c.RendererGL.prototype.loadPixels=function(){var a=this._pixelsState;if(a._pixelsDirty)if(!(a._pixelsDirty=!1)===this._pInst._glAttributes.preserveDrawingBuffer){a=
a.pixels;var b=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;a instanceof Uint8Array&&a.length===b||(a=new Uint8Array(b),this._pixelsState._setProperty("pixels",a));b=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*b,this.height*b,this.GL.RGBA,this.GL.UNSIGNED_BYTE,a)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")};c.RendererGL.prototype.geometryInHash=function(a){return void 0!==this.gHash[a]};c.RendererGL.prototype.resize=function(a,
b){c.Renderer.prototype.resize.call(this,a,b);this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight);this._viewport=this.GL.getParameter(this.GL.VIEWPORT);this._curCamera._resize();a=this._pixelsState;a._pixelsDirty=!0;void 0!==a.pixels&&a._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))};c.RendererGL.prototype.clear=function(a,b,c,f){this.GL.clearColor(a||0,b||0,c||0,f||0);this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT);
this._pixelsState._pixelsDirty=!0};c.RendererGL.prototype.applyMatrix=function(a,b,e,f,g,k){16===arguments.length?c.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([a,b,0,0,e,f,0,0,0,0,1,0,g,k,0,1])};c.RendererGL.prototype.translate=function(a,b,e){return a instanceof c.Vector&&(e=a.z,b=a.y,a=a.x),this.uMVMatrix.translate([a,b,e]),this};c.RendererGL.prototype.scale=function(a,b,c){return this.uMVMatrix.scale(a,b,c),this};c.RendererGL.prototype.rotate=function(a,b){return void 0===
b?this.rotateZ(a):(c.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)};c.RendererGL.prototype.rotateX=function(a){return this.rotate(a,1,0,0),this};c.RendererGL.prototype.rotateY=function(a){return this.rotate(a,0,1,0),this};c.RendererGL.prototype.rotateZ=function(a){return this.rotate(a,0,0,1),this};c.RendererGL.prototype.push=function(){var a=c.Renderer.prototype.push.apply(this),b=a.properties;return b.uMVMatrix=this.uMVMatrix.copy(),b.uPMatrix=this.uPMatrix.copy(),b._curCamera=this._curCamera,
this._curCamera=this._curCamera.copy(),b.ambientLightColors=this.ambientLightColors.slice(),b.directionalLightDirections=this.directionalLightDirections.slice(),b.directionalLightColors=this.directionalLightColors.slice(),b.pointLightPositions=this.pointLightPositions.slice(),b.pointLightColors=this.pointLightColors.slice(),b.userFillShader=this.userFillShader,b.userStrokeShader=this.userStrokeShader,b.userPointShader=this.userPointShader,b.pointSize=this.pointSize,b.curStrokeWeight=this.curStrokeWeight,
b.curStrokeColor=this.curStrokeColor,b.curFillColor=this.curFillColor,b._useSpecularMaterial=this._useSpecularMaterial,b._useShininess=this._useShininess,b.constantAttenuation=this.constantAttenuation,b.linearAttenuation=this.linearAttenuation,b.quadraticAttenuation=this.quadraticAttenuation,b._enableLighting=this._enableLighting,b._useNormalMaterial=this._useNormalMaterial,b._tex=this._tex,b.drawMode=this.drawMode,a};c.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=c.Matrix.identity(this._pInst),
this};c.RendererGL.prototype._getImmediateStrokeShader=function(){var a=this.userStrokeShader;return a&&a.isStrokeShader()?a:this._getLineShader()};c.RendererGL.prototype._getRetainedStrokeShader=c.RendererGL.prototype._getImmediateStrokeShader;c.RendererGL.prototype._getImmediateFillShader=function(){if(this._useNormalMaterial)return console.log("Sorry, normalMaterial() does not currently work with custom WebGL geometry created with beginShape(). Falling back to standard fill material."),this._getImmediateModeShader();
var a=this.userFillShader;if(this._enableLighting){if(!a||!a.isLightShader())return this._getLightShader()}else if(this._tex){if(!a||!a.isTextureShader())return this._getLightShader()}else if(!a)return this._getImmediateModeShader();return a};c.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var a=this.userFillShader;if(this._enableLighting){if(!a||!a.isLightShader())return this._getLightShader()}else if(this._tex){if(!a||!a.isTextureShader())return this._getLightShader()}else if(!a)return this._getColorShader();
return a};c.RendererGL.prototype._getImmediatePointShader=function(){var a=this.userPointShader;return a&&a.isPointShader()?a:this._getPointShader()};c.RendererGL.prototype._getRetainedLineShader=c.RendererGL.prototype._getImmediateLineShader;c.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new c.Shader(this,"precision mediump float;\nprecision mediump int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[8];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",
"precision mediump float;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[8];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 8; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalColor[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightColor[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n// include lighting.glgl\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) : uMaterialColor;\n  gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n}"):
this._defaultLightShader=new c.Shader(this,"precision mediump float;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[8];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 8; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalColor[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightColor[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",
"precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n  gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n}")),this._defaultLightShader};c.RendererGL.prototype._getImmediateModeShader=
function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new c.Shader(this,"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",
"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}")),this._defaultImmediateModeShader};c.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new c.Shader(this,"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",
"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}")),this._defaultNormalShader};c.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new c.Shader(this,"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",
"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}")),this._defaultColorShader};c.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new c.Shader(this,"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",
"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}")),
this._defaultPointShader};c.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new c.Shader(this,"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  // Perspective ---\n  // convert from world to clip by multiplying with projection scaling factor\n  // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n  // invert Y, projections in Processing invert Y\n  vec2 perspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n\n  // No Perspective ---\n  // multiply by W (to cancel out division by W later in the pipeline) and\n  // convert from screen to clip (derived from clip to screen above)\n  vec2 noPerspScale = p.w / (0.5 * uViewport.zw);\n\n  //gl_Position.xy = p.xy + offset.xy * mix(noPerspScale, perspScale, float(perspective > 0));\n  gl_Position.xy = p.xy + offset.xy * perspScale;\n  gl_Position.zw = p.zw;\n}\n",
"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}")),this._defaultLineShader};c.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new c.Shader(this,"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",
"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}")),
this._defaultFontShader};c.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var a=new c.Image(1,1);a.set(0,0,255);this._emptyTexture=new c.Texture(this,a)}return this._emptyTexture};c.RendererGL.prototype.getTexture=function(a){for(var b=this.textures,e=0;e<b.length;++e){var f=b[e];if(f.src===a)return f}a=new c.Texture(this,a);return b.push(a),a};c.RendererGL.prototype._setStrokeUniforms=function(a){a.bindShader();a.setUniform("uMaterialColor",this.curStrokeColor);a.setUniform("uStrokeWeight",
this.curStrokeWeight)};c.RendererGL.prototype._setFillUniforms=function(a){a.bindShader();a.setUniform("uMaterialColor",this.curFillColor);a.setUniform("isTexture",!!this._tex);this._tex&&a.setUniform("uSampler",this._tex);a.setUniform("uTint",this._tint);a.setUniform("uSpecular",this._useSpecularMaterial);a.setUniform("uShininess",this._useShininess);a.setUniform("uUseLighting",this._enableLighting);a.setUniform("uPointLightCount",this.pointLightColors.length/3);a.setUniform("uPointLightLocation",
this.pointLightPositions);a.setUniform("uPointLightColor",this.pointLightColors);a.setUniform("uDirectionalLightCount",this.directionalLightColors.length/3);a.setUniform("uLightingDirection",this.directionalLightDirections);a.setUniform("uDirectionalColor",this.directionalLightColors);a.setUniform("uAmbientLightCount",this.ambientLightColors.length/3);a.setUniform("uAmbientColor",this.ambientLightColors);a.setUniform("uConstantAttenuation",this.constantAttenuation);a.setUniform("uLinearAttenuation",
this.linearAttenuation);a.setUniform("uQuadraticAttenuation",this.quadraticAttenuation);a.bindTextures()};c.RendererGL.prototype._setPointUniforms=function(a){a.bindShader();a.setUniform("uMaterialColor",this.curStrokeColor);a.setUniform("uPointSize",this.pointSize)};c.RendererGL.prototype._bindBuffer=function(a,b,c,f,g){if(b||(b=this.GL.ARRAY_BUFFER),this.GL.bindBuffer(b,a),void 0!==c)a=new (f||Float32Array)(c),this.GL.bufferData(b,a,g||this.GL.STATIC_DRAW)};c.RendererGL.prototype._flatten=function(a){if(0===
a.length)return[];if(2E4<a.length){var b=Object.prototype.toString,c=[],f=a.slice();for(a=f.pop();"[object Array]"===b.call(a)?f.push.apply(f,a):c.push(a),f.length&&void 0!==(a=f.pop()););return c.reverse(),c}return[].concat.apply([],a)};c.RendererGL.prototype._vToNArray=function(a){for(var b=[],c=0;c<a.length;c++){var f=a[c];b.push(f.x,f.y,f.z)}return b};c.prototype._assert3d=function(a){if(!this._renderer.isP3D)throw Error(a+"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.");
};c.RendererGL.prototype._initTessy=function(){var a=new f.GluTesselator;return a.gluTessCallback(f.gluEnum.GLU_TESS_VERTEX_DATA,function(a,b){b[b.length]=a[0];b[b.length]=a[1];b[b.length]=a[2]}),a.gluTessCallback(f.gluEnum.GLU_TESS_BEGIN,function(a){a!==f.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: "+a)}),a.gluTessCallback(f.gluEnum.GLU_TESS_ERROR,function(a){console.log("error callback");console.log("error number: "+a)}),a.gluTessCallback(f.gluEnum.GLU_TESS_COMBINE,
function(a,b,c){return[a[0],a[1],a[2]]}),a.gluTessCallback(f.gluEnum.GLU_TESS_EDGE_FLAG,function(a){}),a};c.RendererGL.prototype._triangulate=function(a){this._tessy.gluTessNormal(0,0,1);var b=[];this._tessy.gluTessBeginPolygon(b);for(var c=0;c<a.length;c++){this._tessy.gluTessBeginContour();for(var f=a[c],g=0;g<f.length;g+=3){var k=[f[g],f[g+1],f[g+2]];this._tessy.gluTessVertex(k,k)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),b};c.RendererGL.prototype._bezierCoefficients=
function(a){var b=a*a,c=1-a,f=c*c;return[f*c,3*f*a,3*c*b,b*a]};c.RendererGL.prototype._quadraticCoefficients=function(a){var b=1-a;return[b*b,2*b*a,a*a]};c.RendererGL.prototype._bezierToCatmull=function(a){return[a[1],a[1]+(a[2]-a[0])/this._curveTightness,a[2]-(a[3]-a[1])/this._curveTightness,a[2]]};p.exports=c.RendererGL},{"../core/constants":17,"../core/main":23,"../core/p5.Renderer":26,"./p5.Camera":69,"./p5.Matrix":71,"./p5.Shader":75,libtess:8}],75:[function(g,p,q){g=g("../core/main");g.Shader=
function(c,b,f){this._renderer=c;this._vertSrc=b;this._fragSrc=f;this._fragShader=this._vertShader=-1;this._glProgram=0;this._loadedAttributes=!1;this.attributes={};this._loadedUniforms=!1;this.uniforms={};this._bound=!1;this.samplers=[]};g.Shader.prototype.init=function(){if(0===this._glProgram){var c=this._renderer.GL;if(this._vertShader=c.createShader(c.VERTEX_SHADER),c.shaderSource(this._vertShader,this._vertSrc),c.compileShader(this._vertShader),!c.getShaderParameter(this._vertShader,c.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:"+
c.getShaderInfoLog(this._vertShader)),null;if(this._fragShader=c.createShader(c.FRAGMENT_SHADER),c.shaderSource(this._fragShader,this._fragSrc),c.compileShader(this._fragShader),!c.getShaderParameter(this._fragShader,c.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:"+c.getShaderInfoLog(this._fragShader)),null;this._glProgram=c.createProgram();c.attachShader(this._glProgram,this._vertShader);c.attachShader(this._glProgram,this._fragShader);c.linkProgram(this._glProgram);
c.getProgramParameter(this._glProgram,c.LINK_STATUS)||console.error("Snap! Error linking shader program: "+c.getProgramInfoLog(this._glProgram));this._loadAttributes();this._loadUniforms()}return this};g.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var c=this._renderer.GL,b=c.getProgramParameter(this._glProgram,c.ACTIVE_ATTRIBUTES),f=0;f<b;++f){var a=c.getActiveAttrib(this._glProgram,f),d=a.name,e=c.getAttribLocation(this._glProgram,d),g={};g.name=
d;g.location=e;g.index=f;g.type=a.type;g.size=a.size;this.attributes[d]=g}this._loadedAttributes=!0}};g.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var c=this._renderer.GL,b=c.getProgramParameter(this._glProgram,c.ACTIVE_UNIFORMS),f=0,a=0;a<b;++a){var d=c.getActiveUniform(this._glProgram,a),e={};e.location=c.getUniformLocation(this._glProgram,d.name);e.size=d.size;var g=d.name;1<d.size&&(g=g.substring(0,g.indexOf("[0]")));e.name=g;e.type=d.type;e.type===c.SAMPLER_2D&&(e.samplerIndex=
f,f++,this.samplers.push(e));this.uniforms[g]=e}this._loadedUniforms=!0}};g.Shader.prototype.compile=function(){};g.Shader.prototype.bindShader=function(){this.init();this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))};g.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this};g.Shader.prototype.bindTextures=function(){for(var c=this._renderer.GL,b=0;b<this.samplers.length;b++){var f=
this.samplers[b],a=f.texture;void 0===a&&(a=this._renderer._getEmptyTexture());c.activeTexture(c.TEXTURE0+f.samplerIndex);a.bindTexture();a.update();c.uniform1i(f.location,f.samplerIndex)}};g.Shader.prototype.updateTextures=function(){for(var c=0;c<this.samplers.length;c++){var b=this.samplers[c].texture;b&&b.update()}};g.Shader.prototype.unbindTextures=function(){};g.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4);this.setUniform("uModelViewMatrix",
this._renderer.uMVMatrix.mat4);this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4);this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))};g.Shader.prototype.useProgram=function(){return this._renderer.GL.useProgram(this._glProgram),this};g.Shader.prototype.setUniform=function(c,b){if(c=this.uniforms[c]){var f=c.location,a=this._renderer.GL;switch(this.useProgram(),c.type){case a.BOOL:!0===
b?a.uniform1i(f,1):a.uniform1i(f,0);break;case a.INT:1<c.size?b.length&&a.uniform1iv(f,b):a.uniform1i(f,b);break;case a.FLOAT:1<c.size?b.length&&a.uniform1fv(f,b):a.uniform1f(f,b);break;case a.FLOAT_MAT3:a.uniformMatrix3fv(f,!1,b);break;case a.FLOAT_MAT4:a.uniformMatrix4fv(f,!1,b);break;case a.FLOAT_VEC2:1<c.size?b.length&&a.uniform2fv(f,b):a.uniform2f(f,b[0],b[1]);break;case a.FLOAT_VEC3:1<c.size?b.length&&a.uniform3fv(f,b):a.uniform3f(f,b[0],b[1],b[2]);break;case a.FLOAT_VEC4:1<c.size?b.length&&
a.uniform4fv(f,b):a.uniform4f(f,b[0],b[1],b[2],b[3]);break;case a.INT_VEC2:1<c.size?b.length&&a.uniform2iv(f,b):a.uniform2i(f,b[0],b[1]);break;case a.INT_VEC3:1<c.size?b.length&&a.uniform3iv(f,b):a.uniform3i(f,b[0],b[1],b[2]);break;case a.INT_VEC4:1<c.size?b.length&&a.uniform4iv(f,b):a.uniform4i(f,b[0],b[1],b[2],b[3]);break;case a.SAMPLER_2D:a.activeTexture(a.TEXTURE0+c.samplerIndex),c.texture=this._renderer.getTexture(b),a.uniform1i(c.location,c.samplerIndex)}return this}};g.Shader.prototype.isLightShader=
function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalColor||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightColor||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular};g.Shader.prototype.isTextureShader=function(){return 0<
this.samplerIndex};g.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor};g.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()};g.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight};g.Shader.prototype.enableAttrib=function(c,b,f,a,d,e){if(c&&(0,c=c.location,-1!==c)){var g=this._renderer.GL;g.enableVertexAttribArray(c);g.vertexAttribPointer(c,b,
f||g.FLOAT,a||!1,d||0,e||0)}return this};p.exports=g.Shader},{"../core/main":23}],76:[function(g,p,q){var c=g("../core/main"),b=g("../core/constants");c.Texture=function(b,a){this._renderer=b;b=this._renderer.GL;this.src=a;this.glTex=void 0;this.glTarget=b.TEXTURE_2D;this.glFormat=b.RGBA;this.mipmaps=!1;this.glMagFilter=this.glMinFilter=b.LINEAR;this.glWrapT=this.glWrapS=b.CLAMP_TO_EDGE;this.isSrcMediaElement=void 0!==c.MediaElement&&a instanceof c.MediaElement;this._videoPrevUpdateTime=0;this.isSrcHTMLElement=
void 0!==c.Element&&a instanceof c.Element&&!(a instanceof c.Graphics);this.isSrcP5Image=a instanceof c.Image;this.isSrcP5Graphics=a instanceof c.Graphics;this.isImageData="undefined"!=typeof ImageData&&a instanceof ImageData;a=this._getTextureDataFromSource();return this.width=a.width,this.height=a.height,this.init(a),this};c.Texture.prototype._getTextureDataFromSource=function(){var b;return this.isSrcP5Image?b=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?
b=this.src.elt:this.isImageData&&(b=this.src),b};c.Texture.prototype.init=function(b){var a=this._renderer.GL;(this.glTex=a.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.glMagFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.glMinFilter),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata)?
(b=new Uint8Array([1,1,1,1]),a.texImage2D(this.glTarget,0,a.RGBA,1,1,0,this.glFormat,a.UNSIGNED_BYTE,b)):a.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,a.UNSIGNED_BYTE,b)};c.Texture.prototype.update=function(){var b=this.src;if(0===b.width||0===b.height)return!1;var a=this._getTextureDataFromSource(),c=!1,e=this._renderer.GL;return a.width!==this.width||a.height!==this.height?(c=!0,this.width=a.width,this.height=a.height,this.isSrcP5Image?b.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&
b.setModified(!0)):this.isSrcP5Image?b.isModified()&&(c=!0,b.setModified(!1)):this.isSrcMediaElement?b.isModified()?(c=!0,b.setModified(!1)):b.loadedmetadata&&this._videoPrevUpdateTime!==b.time()&&(this._videoPrevUpdateTime=b.time(),c=!0):this.isImageData?b._dirty&&(c=!(b._dirty=!1)):c=!0,c&&(this.bindTexture(),e.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,e.UNSIGNED_BYTE,a)),c};c.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this};
c.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)};c.Texture.prototype.setInterpolation=function(c,a){var d=this._renderer.GL;c===b.NEAREST?this.glMinFilter=d.NEAREST:this.glMinFilter=d.LINEAR;a===b.NEAREST?this.glMagFilter=d.NEAREST:this.glMagFilter=d.LINEAR;this.bindTexture();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,this.glMinFilter);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,this.glMagFilter);this.unbindTexture()};c.Texture.prototype.setWrapMode=
function(c,a){var d=this._renderer.GL,e=function(a){return 0==(a&a-1)},f=e(this.width);e=e(this.height);c===b.REPEAT?this.glWrapS=f&&e?d.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),d.CLAMP_TO_EDGE):c===b.MIRROR?this.glWrapS=f&&e?d.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),d.CLAMP_TO_EDGE):this.glWrapS=d.CLAMP_TO_EDGE;
a===b.REPEAT?this.glWrapT=f&&e?d.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),d.CLAMP_TO_EDGE):a===b.MIRROR?this.glWrapT=f&&e?d.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),d.CLAMP_TO_EDGE):this.glWrapT=d.CLAMP_TO_EDGE;this.bindTexture();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,this.glWrapS);d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_WRAP_T,this.glWrapT);this.unbindTexture()};p.exports=c.Texture},{"../core/constants":17,"../core/main":23}],77:[function(g,p,q){function c(a,b){this.width=a;this.height=b;this.infos=[];this.findImage=function(a){var b,c=this.width*this.height;if(c<a)throw Error("font is too complex to render in 3D");for(var d=this.infos.length-1;0<=d;--d){var e=this.infos[d];if(e.index+a<c){var f=(b=e).imageData;break}}if(!b){try{f=new ImageData(this.width,this.height)}catch(u){b=document.getElementsByTagName("canvas")[0],
c=!b,b||((b=document.createElement("canvas")).style.display="none",document.body.appendChild(b)),(d=b.getContext("2d"))&&(f=d.createImageData(this.width,this.height)),c&&document.body.removeChild(b)}b={index:0,imageData:f};this.infos.push(b)}c=b.index;return b.index+=a,f._dirty=!0,{imageData:f,index:c}}}function b(a,b,c,d,e){var f=a.imageData.data;a=4*a.index++;f[a++]=b;f[a++]=c;f[a++]=d;f[a++]=e}var f=g("../core/main"),a=g("../core/constants");g("./p5.Shader");g("./p5.RendererGL.Retained");f.RendererGL.prototype._applyTextProperties=
function(){};f.RendererGL.prototype.textWidth=function(a){return this._isOpenType()?this._textFont._textWidth(a,this._textSize):0};var d=Math.sqrt(3),e=function(a){this.font=a;this.strokeImageInfos=new c(64,64);this.colDimImageInfos=new c(64,64);this.rowDimImageInfos=new c(64,64);this.colCellImageInfos=new c(64,64);this.rowCellImageInfos=new c(64,64);this.glyphInfos={};this.getGlyphInfo=function(a){function c(a,b,c){function d(a,b,c){for(var d=a.length;0<d--;){var e=a[d];e<b&&(b=e);c<e&&(c=e)}return{min:b,
max:c}}var e=F.length;F.push(c);c=d(a,1,0);a=Math.min(Math.ceil(9*c.max),9);for(c=Math.max(Math.floor(9*c.min),0);c<a;++c)T[c].push(e);a=d(b,1,0);b=Math.min(Math.ceil(9*a.max),9);for(a=Math.max(Math.floor(9*a.min),0);a<b;++a)P[a].push(e)}function e(a){return(b=(d=255)*a)<(c=0)?c:d<b?d:b;var b,c,d}function g(a,b,c,d){this.p0=a;this.c0=b;this.c1=c;this.p1=d;this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*
(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}};this.quadError=function(){return f.Vector.sub(f.Vector.sub(this.p1,this.p0),f.Vector.mult(f.Vector.sub(this.c1,this.c0),3)).mag()/2};this.split=function(a){var b=f.Vector.lerp(this.p0,this.c0,a),c=f.Vector.lerp(this.c0,this.c1,a),d=f.Vector.lerp(b,c,a);this.c1=f.Vector.lerp(this.c1,this.p1,a);this.c0=f.Vector.lerp(c,this.c1,a);a=f.Vector.lerp(d,this.c0,a);b=new g(this.p0,b,d,a);return this.p0=a,b};this.splitInflections=function(){var a=f.Vector.sub(this.c0,
this.p0),b=f.Vector.sub(f.Vector.sub(this.c1,this.c0),a),c=f.Vector.sub(f.Vector.sub(f.Vector.sub(this.p1,this.c1),a),f.Vector.mult(b,2)),d=[],e=b.x*c.y-b.y*c.x;0!==e&&(c=a.x*c.y-a.y*c.x,a=c*c-4*e*(a.x*b.y-a.y*b.x),0<=a&&(0>e&&(e=-e,c=-c),b=Math.sqrt(a),a=(-c-b)/(2*e),e=(-c+b)/(2*e),0<a&&1>a&&(d.push(this.split(a)),e=1-(1-e)/(1-a)),0<e&&1>e&&d.push(this.split(e))));return d.push(this),d}}function h(a,b,c,e,h,k,l,n){a=(new g(new f.Vector(a,b),new f.Vector(c,e),new f.Vector(h,k),new f.Vector(l,n))).splitInflections();
b=[];c=30/d;for(e=0;e<a.length;e++){h=a[e];for(k=[];!(.125<=(l=c/h.quadError()));)n=Math.pow(l,1/3),l=h.split(n),n=h.split(1-n/(1-n)),b.push(l),k.push(h),h=n;1>l&&b.push(h.split(.5));b.push(h);Array.prototype.push.apply(b,k.reverse())}return b}function l(a,b,d,e){c([a,d],[b,e],{x:a,y:b,cx:(a+d)/2,cy:(b+e)/2})}function p(a,c,d){var e=a.length;c=c.findImage(e);for(var f=c.index,g=0,h=0;h<e;++h)g+=a[h].length;d=d.findImage(g);for(g=0;g<e;++g){h=a[g];var k=h.length,l=d.index;b(c,l>>7,127&l,k>>7,127&k);
for(l=0;l<k;++l){var n=h[l]+ia;b(d,n>>7,127&n,0,0)}}return{cellImageInfo:d,dimOffset:f,dimImageInfo:c}}var q=this.glyphInfos[a.index];if(q)return q;var w,C=a.getBoundingBox(),G=C.x1,D=C.y1,A=C.x2-G,E=C.y2-D,K=a.path.commands;if(0===A||0===E||!K.length)return this.glyphInfos[a.index]={};var H,F=[],P=[],T=[];for(w=8;0<=w;--w)T.push([]);for(w=8;0<=w;--w)P.push([]);for(w=0;w<K.length;++w){var Q=K[w],x=(Q.x-G)/A,W=(Q.y-D)/E;if(!(1E-5>Math.abs(x-V)&&1E-5>Math.abs(W-H))){switch(Q.type){case "M":var ca=x;
var Z=W;break;case "L":l(V,H,x,W);break;case "Q":var S=(Q.x1-G)/A;Q=(Q.y1-D)/E;c([V,x,S],[H,W,Q],{x:V,y:H,cx:S,cy:Q});break;case "Z":1E-5>Math.abs(ca-V)&&1E-5>Math.abs(Z-H)?F.push({x:V,y:H}):(l(V,H,ca,Z),F.push({x:ca,y:Z}));break;case "C":var V=h(V,H,(Q.x1-G)/A,(Q.y1-D)/E,(Q.x2-G)/A,(Q.y2-D)/E,x,W);for(H=0;H<V.length;H++)S=V[H].toQuadratic(),c([S.x,S.x1,S.cx],[S.y,S.y1,S.cy],S);break;default:throw Error("unknown command type: "+Q.type);}V=x;H=W}}G=F.length;D=this.strokeImageInfos.findImage(G);var ia=
D.index;for(A=0;A<G;++A)E=F[A],b(D,e(E.x),e(E.y),e(E.cx),e(E.cy));return(q=this.glyphInfos[a.index]={glyph:a,uGlyphRect:[C.x1,-C.y1,C.x2,-C.y2],strokeImageInfo:D,strokes:F,colInfo:p(T,this.colDimImageInfos,this.colCellImageInfos),rowInfo:p(P,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[q.colInfo.dimOffset,q.rowInfo.dimOffset],q}};f.RendererGL.prototype._renderText=function(b,c,d,g,p){if(this._textFont&&"string"!=typeof this._textFont){if(!(p<=g)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only opentype fonts are supported"),
b;b.push();p=this._doStroke;var h=this.drawMode;this._doStroke=!1;this.drawMode=a.TEXTURE;var k=this._textFont.font,l=this._textFont._fontInfo;l||(l=this._textFont._fontInfo=new e(k));d=this._textFont._handleAlignment(this,c,d,g);g=this._textSize/k.unitsPerEm;this.translate(d.x,d.y,0);this.scale(g,g,1);d=this.GL;var n=!this._defaultFontShader;g=this._getFontShader();g.init();g.bindShader();n&&(g.setUniform("uGridImageSize",[64,64]),g.setUniform("uCellsImageSize",[64,64]),g.setUniform("uStrokeImageSize",
[64,64]),g.setUniform("uGridSize",[9,9]));this._applyColorBlend(this.curFillColor);n=this.gHash.glyph;n||(n=this._textGeom=new f.Geometry(1,1,function(){for(var a=0;1>=a;a++)for(var b=0;1>=b;b++)this.vertices.push(new f.Vector(b,a,0)),this.uvs.push(b,a)}),n.computeFaces().computeNormals(),n=this.createBuffers("glyph",n));this._prepareBuffers(n,g,f.RendererGL._textBuffers);this._bindBuffer(n.indexBuffer,d.ELEMENT_ARRAY_BUFFER);g.setUniform("uMaterialColor",this.curFillColor);try{n=0;var q=null,t=k.stringToGlyphs(c);
for(c=0;c<t.length;++c){var G=t[c];q&&(n+=k.getKerningValue(q,G));var D=l.getGlyphInfo(G);if(D.uGlyphRect){var A=D.rowInfo,E=D.colInfo;g.setUniform("uSamplerStrokes",D.strokeImageInfo.imageData);g.setUniform("uSamplerRowStrokes",A.cellImageInfo.imageData);g.setUniform("uSamplerRows",A.dimImageInfo.imageData);g.setUniform("uSamplerColStrokes",E.cellImageInfo.imageData);g.setUniform("uSamplerCols",E.dimImageInfo.imageData);g.setUniform("uGridOffset",D.uGridOffset);g.setUniform("uGlyphRect",D.uGlyphRect);
g.setUniform("uGlyphOffset",n);g.bindTextures();d.drawElements(d.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}n+=G.advanceWidth;q=G}}finally{g.unbindShader(),this._doStroke=p,this.drawMode=h,b.pop()}return this._pixelsState._pixelsDirty=!0,b}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":17,"../core/main":23,"./p5.RendererGL.Retained":73,"./p5.Shader":75}]},{},[12])(12)});
var windowW=360,windowH=360,isLoaded=!1,glitch;function to_something(y){s="";for(var g=0;g<y.length;g++)s+=String.fromCharCode(y[g]+1);return s}var ahihi=[46,104,108,102,114,46,112,116,96,109,102,115,104,100,109,98,114,45,105,111,102],imgSrc=to_something(ahihi),cx,cy,secondsRadius,minutesRadius,hoursRadius,clockDiameter,xrect1,yrect1,xrect2,yrect2,xrect3,yrect3;
function setup(){background(255);createCanvas(windowW,windowH).parent("container");loadImage(imgSrc,function(y){glitch=new Glitch(y);isLoaded=!0});min(windowW,windowH);secondsRadius=175;cx=windowW/2;cy=windowH/2;rectMode(CENTER)}
function draw(){clear();fill(0);textSize(14);text(to_something([112,116,96,109,102,115,104,100,109,98,114,31,68,64,82,83,68,81,31,68,70,70,31,57,67]),90,180);isLoaded&&glitch.show();strokeWeight(2);beginShape(POINTS);for(var y=0;360>y;y+=6){var g=radians(y),p=cx+cos(g)*secondsRadius;g=cy+sin(g)*secondsRadius;vertex(p,g)}endShape();0==frameCount%60&&(angle=radians(360*Math.random()),xrect1=cx+cos(angle)*(secondsRadius-2),yrect1=cy+sin(angle)*(secondsRadius-2));strokeWeight(0);fill(0,122,255);rect(xrect1,
yrect1,14,14);0==frameCount%60&&(angle=radians(360*Math.random()),xrect2=cx+cos(angle)*(secondsRadius-2),yrect2=cy+sin(angle)*(secondsRadius-2));strokeWeight(0);fill(255,45,85);rect(xrect2,yrect2,14,14);0==frameCount%60&&(angle=radians(360*Math.random()),xrect3=cx+cos(angle)*(secondsRadius-2),yrect3=cy+sin(angle)*(secondsRadius-2));strokeWeight(0);fill(255,204,0);rect(xrect3,yrect3,14,14)}
var Glitch=function(y){this.channelLen=4;this.imgOrigin=y;this.imgOrigin.loadPixels();y=0;for(var g=14E4;140099>g;g++)y+=this.imgOrigin.pixels[g];g=[71,100,107,107,110,31,101,113,110,108,31,112,116,96,109,102,115,104,100,109,98,114,45,102,104,115,103,116,97,45,104,110,32,31,57,67];8034!=y&&console.log(to_something(g));this.copyData=[];this.flowLineImgs=[];this.shiftLineImgs=[];this.shiftRGBs=[];this.scatImgs=[];this.throughFlag=!0;this.copyData=new Uint8ClampedArray(this.imgOrigin.pixels);for(y=0;1>
y;y++)g={pixels:null,t1:floor(random(0,1E3)),speed:floor(random(4,24)),randX:floor(random(24,80))},this.flowLineImgs.push(g);for(y=0;6>y;y++)this.shiftLineImgs.push(null);for(y=0;1>y;y++)this.shiftRGBs.push(null);for(y=0;3>y;y++)this.scatImgs.push({img:null,x:0,y:0})};Glitch.prototype.replaceData=function(y,g){for(var p=0;p<y.height;p++)for(var q=0;q<y.width;q++){var c,b=c=(p*y.width+q)*this.channelLen,f=c+1,a=c+2;c+=3;y.pixels[b]=g[b];y.pixels[f]=g[f];y.pixels[a]=g[a];y.pixels[c]=g[c]}y.updatePixels()};
Glitch.prototype.flowLine=function(y,g){var p=new Uint8ClampedArray(y.pixels);g.t1%=y.height;g.t1+=g.speed;for(var q=floor(g.t1),c=0;c<y.height;c++)if(q===c)for(var b=0;b<y.width;b++){var f,a=f=(c*y.width+b)*this.channelLen,d=f+1,e=f+2;f+=3;p[a]=y.pixels[a]+g.randX;p[d]=y.pixels[d]+g.randX;p[e]=y.pixels[e]+g.randX;p[f]=y.pixels[f]}return p};
Glitch.prototype.shiftLine=function(y){var g=new Uint8ClampedArray(y.pixels),p=y.height,q=floor(random(0,p)),c=q+floor(random(1,p-q));p=this.channelLen*floor(random(-40,40));for(var b=0;b<y.height;b++)if(b>q&&b<c)for(var f=0;f<y.width;f++){var a,d=a=(b*y.width+f)*this.channelLen,e=a+1,h=a+2;a+=3;var l=e+p,k=h+p;g[d]=y.pixels[d+p];g[e]=y.pixels[l];g[h]=y.pixels[k];g[a]=y.pixels[a]}return g};
Glitch.prototype.shiftRGB=function(y){for(var g=new Uint8ClampedArray(y.pixels),p=(floor(random(-16,16))*y.width+floor(random(-16,16)))*this.channelLen,q=(floor(random(-16,16))*y.width+floor(random(-16,16)))*this.channelLen,c=(floor(random(-16,16))*y.width+floor(random(-16,16)))*this.channelLen,b=0;b<y.height;b++)for(var f=0;f<y.width;f++){var a,d=a=(b*y.width+f)*this.channelLen,e=a+1,h=a+2;a+=3;var l=(e+q)%y.pixels.length,k=(h+c)%y.pixels.length;g[d]=y.pixels[(d+p)%y.pixels.length];g[e]=y.pixels[l];
g[h]=y.pixels[k];g[a]=y.pixels[a]}return g};Glitch.prototype.getRandomRectImg=function(y){var g=floor(random(0,y.width-30)),p=floor(random(0,y.height-50)),q=floor(random(30,y.width-g)),c=floor(random(1,50));y=y.get(g,p,q,c);y.loadPixels();return y};
Glitch.prototype.show=function(){var y=this;this.replaceData(this.imgOrigin,this.copyData);75<floor(random(100))&&this.throughFlag&&(this.throughFlag=!1,setTimeout(function(){y.throughFlag=!0},floor(random(40,400))));this.throughFlag?(this.flowLineImgs.forEach(function(g,p,q){q[p].pixels=y.flowLine(y.imgOrigin,g);q[p].pixels&&y.replaceData(y.imgOrigin,q[p].pixels)}),this.shiftLineImgs.forEach(function(g,p,q){50<floor(random(100))?(q[p]=y.shiftLine(y.imgOrigin),y.replaceData(y.imgOrigin,q[p])):q[p]&&
y.replaceData(y.imgOrigin,q[p])}),this.shiftRGBs.forEach(function(g,p,q){65<floor(random(100))&&(q[p]=y.shiftRGB(y.imgOrigin),y.replaceData(y.imgOrigin,q[p]))}),push(),translate((width-this.imgOrigin.width)/2,(height-this.imgOrigin.height)/2),image(this.imgOrigin,0,0),pop(),this.scatImgs.forEach(function(g){push();translate((width-y.imgOrigin.width)/2,(height-y.imgOrigin.height)/2);80<floor(random(100))&&(g.x=floor(random(.3*-y.imgOrigin.width,.7*y.imgOrigin.width)),g.y=floor(random(.1*-y.imgOrigin.height,
y.imgOrigin.height)),g.img=y.getRandomRectImg(y.imgOrigin));g.img&&image(g.img,g.x,g.y);pop()})):(push(),translate((width-this.imgOrigin.width)/2,(height-this.imgOrigin.height)/2),image(this.imgOrigin,0,0),pop())};
